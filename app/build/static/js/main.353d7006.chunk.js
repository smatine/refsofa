(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),l=a.n(r),i=(a(69),a(7)),o=a(8),s=a(10),u=a(9),d=a(11),h=(a(45),a(3)),m=a(1),p=a(136),v="/referentiel",E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return c.a.createElement(m.o,{color:"dark",dark:!0,expand:"md"},c.a.createElement(m.p,{tag:p.a,to:"".concat(v)},"Home"),c.a.createElement(m.q,{onClick:this.toggle}),c.a.createElement(m.d,{isOpen:this.state.isOpen,navbar:!0},c.a.createElement(m.l,{className:"ml-auto",navbar:!0},c.a.createElement(m.m,null,c.a.createElement(m.n,{href:"https://twitter.com/sma"},"@sma")),c.a.createElement(m.m,null,c.a.createElement(m.n,{href:"https://github.com"},"GitHub")))))}}]),t}(n.Component),g=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.r,null,c.a.createElement(m.c,null)),c.a.createElement(m.r,null,c.a.createElement(m.c,null))),c.a.createElement(m.c,null),c.a.createElement(m.c,null),c.a.createElement(m.c,null)),c.a.createElement(m.r,null,c.a.createElement(m.c,null),c.a.createElement(m.c,null),c.a.createElement(m.c,null),c.a.createElement(m.c,null)),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/regions")},"Manage Region"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/vpcmanage")},"Manage Cidr"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/trigrammes")},"Manage Trigramme"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/products")},"Manage Products")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/accounts")},"Manage Accounts"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/vpcs")},"Manage Vpcs"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/subnets")},"Manage Subnets"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/subnetGroups")},"Manage Subnet Group")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/storages")},"Manage S3"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/ssms")},"Manage SSM"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/cognitos")},"Manage Cognito"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/dynamoDbs")},"Manage DynamoDb")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/Rdss")},"Manage Rds"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/efss")},"Manage Efs"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/elasticSearchs")},"Manage Elastic Search"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/elasticCaches")},"Manage Elastic Cache")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/nacls")},"Manage Nacl"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/sgs")},"Manage Security Group"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/routetables")},"Manage Route Table"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/peerings")},"Manage Peering")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/targetgroups")},"Manage Target Group"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/lbs")},"Manage LoadBalancer"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/instancetypes")},"Manage Instance Type"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/eccs")},"Manage Ec2")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/launchconfigurations")},"Manage Launch Configuration"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/autoscalinggroups")},"Manage Auto scaling Group"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/policys")},"Manage Policy"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/endpoints")},"Manage EndPoint")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/roles")},"Manage Role"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/groups")},"Manage Group"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/users")},"Manage User"))),c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/dhcps")},"Manage Dhcp Options Sets")))),c.a.createElement(m.r,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{color:"link"},c.a.createElement(p.a,{to:"".concat(v,"/kmss")},"Manage Kms"))),c.a.createElement(m.c,null),c.a.createElement(m.c,null),c.a.createElement(m.c,null))))}}]),t}(n.Component),f=g,b=a(138),y=a(140),I=a(137),j=a(4),k=a.n(j),C=a(14),O=a(6),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={trigrammes:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/referentiel/trigrammes2").then(function(e){return e.json()}).then(function(t){return e.setState({trigrammes:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/trigrammes/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.trigrammes).filter(function(e){return e.id!==t});a.setState({trigrammes:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.trigrammes;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.owner),c.a.createElement("td",null,t.irtCode),c.a.createElement("td",null,t.mailList),c.a.createElement("td",null,t.description),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/trigrammes/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)}},"Delete"))))});return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:"/referentiel/trigrammes/new"},"Add TRI")),c.a.createElement("h3",null,"Trigramme"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"10%"},"Id"),c.a.createElement("th",{width:"10%"},"Name"),c.a.createElement("th",{width:"10%"},"Owner"),c.a.createElement("th",{width:"10%"},"IRT Code"),c.a.createElement("th",{width:"10%"},"Mailling List"),c.a.createElement("th",{width:"10%"},"Description"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),x=S,w=a(12),T=a(5),B=a(139),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",mailList:"",owner:"",irtCode:"",description:"",errors:{},touched:{name:!1,mailList:!1,owner:!1,irtCode:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=8;break}return e.next=3,fetch("".concat(v,"/trigrammes/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,mailList:!1,owner:!1,irtCode:!1,emailState:""},this.setState({item:t});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,mailList:!0,owner:!0,irtCode:!0,emailState:""},n=this.validate(a.name,a.mailList,a.owner,a.irtCode),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return e.next=10,fetch(a.id?"/referentiel/trigrammes/"+a.id:"/referentiel/trigrammes",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 10:this.props.history.push("/referentiel/trigrammes");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateEmail",value:function(e){var t=this.state.item;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?t.touched.emailState="has-success":t.touched.emailState="has-danger",this.setState({item:t})}},{key:"validate",value:function(e,t,a,n){var c={name:"",mailList:"",owner:"",irtCode:""};if(this.state.item.touched.name&&3!==e.length)return c.name="Name should be = 3 characters",c;if(this.state.item.touched.irtCode&&5!==n.length)return c.irtCode="Irt Code should be = 5 characters!",c;var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.state.item.touched.owner&&!r.test(a)?(c.owner="Owner mail should have correct format ",c):this.state.item.touched.mailList&&!r.test(t)?(c.mailList="Mailling List should have correct format ",c):c}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit TRI":"Add TRI"),n=this.validate(t.name,t.mailList,t.owner,t.irtCode),r=Object.keys(n).some(function(e){return n[e]});return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter text",maxLength:"3",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"owner"},"Owner (*)"),c.a.createElement(m.j,{type:"email",name:"owner",id:"owner",value:t.owner||"",placeholder:"Enter Name",onChange:this.handleChange,onBlur:this.handleBlur("owner"),autoComplete:"owner",valid:""===n.owner,invalid:""!==n.owner}),c.a.createElement(m.g,null,n.owner)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"irtCode"},"IRT Code (*)"),c.a.createElement(m.j,{type:"text",name:"irtCode",id:"irtCode",value:t.irtCode||"",placeholder:"Enter IRT Code",maxLength:"5",onChange:this.handleChange,onBlur:this.handleBlur("irtCode"),autoComplete:"irtCode",valid:""===n.irtCode,invalid:""!==n.irtCode}),c.a.createElement(m.g,null,n.irtCode)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"mailList"},"Email address (*)"),c.a.createElement(m.j,Object(w.a)({type:"email",name:"mailList",id:"mailList",value:t.mailList||"",placeholder:"Enter email",onChange:this.handleChange,onBlur:this.handleBlur("mailList"),autoComplete:"mailList",valid:""===n.mailList,invalid:""!==n.mailList},"onChange",function(t){e.handleChange(t)})),c.a.createElement(m.g,null,n.mailList)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"description"},"Description"),c.a.createElement(m.j,{type:"text",name:"description",id:"description",value:t.description||"",onChange:this.handleChange,autoComplete:"description"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/trigrammes"},"Cancel")))))}}]),t}(n.Component),D=Object(B.a)(A),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={accounts:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/accounts")).then(function(e){return e.json()}).then(function(t){return e.setState({accounts:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/products/").concat(t,"/accounts/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.accounts).filter(function(e){return e.id!==a});n.setState({accounts:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.accounts;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/products/"+t.product.id+"#";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.numAccount),c.a.createElement("td",null,t.env),c.a.createElement("td",null,t.mailList),c.a.createElement("td",null,t.alias),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.product.name)),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/accounts/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.product.id,t.id)}},"Delete"))))}),r="".concat(v,"/accounts/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Account")),c.a.createElement("h3",null,"Account"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"NumAccount"),c.a.createElement("th",{width:"5%"},"Env"),c.a.createElement("th",{width:"5%"},"Mail"),c.a.createElement("th",{width:"5%"},"Alias"),c.a.createElement("th",{width:"5%"},"Product"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),N=P,L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={numAccount:"",text:"",env:"",mailList:"",alias:"",products:{},product:{},productId:"",touched:{vpc:!1,numAccount:!1,env:!1,mailList:!1,alias:!1,productId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=16;break}return e.next=3,fetch("".concat(v,"/accounts/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={vpc:!1,numAccount:!1,env:!1,mailList:!1,alias:!1,productId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).productId=t.product.id,this.setState({item:a}),e.next=13,fetch("".concat(v,"/accounts/").concat(this.props.match.params.id,"/vpcs")).then(function(e){return e.json()}).then(function(e){n=e.length,console.log(e.length)});case 13:0!==n&&(Object(T.a)({},this.state.item).touched.vpc=!0),e.next=19;break;case 16:(c={numAccount:"",text:"",env:"",mailList:"",alias:"",products:{},product:{},productId:"",touched:{vpc:!1,numAccount:!1,env:!1,mailList:!1,alias:!1,productId:!1}}).touched={vpc:!1,numAccount:!1,env:!1,mailList:!1,alias:!1,productId:!1},this.setState({item:c});case 19:return e.next=21,fetch("/referentiel/products").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.products=e,r.setState({item:t})});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={numAccount:!0,env:!0,mailList:!0,alias:!0,productId:!0},n=this.validate(a.numAccount,a.env,a.mailList,a.productId,a.alias),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/accounts",a.product={id:a.productId},e.next=12,fetch(a.id?"/referentiel/products/"+a.product.id+"/accounts/"+a.id:"/referentiel/products/"+a.product.id+"/accounts",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={numAccount:"",env:"",mailList:"",alias:"",productId:""};if(this.state.item.touched.numAccount&&12!==e.length)return r.numAccount="Account should not be null",r;if(this.state.item.touched.productId&&n.length<=0)return r.productId="Product should not be null",r;if(this.state.item.touched.env&&3!==t.length)return r.env="Env should be = 3 characters!",r;if(this.state.item.touched.alias&&c.length<=0)return r.alias="alias should not be null",r;return this.state.item.touched.mailList&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?(r.mailList="Mailling List should have correct format ",r):r}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Account":"Add Account"),a=this.validate(e.numAccount,e.env,e.mailList,e.productId,e.alias),n=Object.keys(a).some(function(e){return a[e]}),r=e.touched.vpc,l=[];e.products&&e.products.length&&e.products.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))}),e.id;var i=e.productId||"";return e.productId=i,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"numAccount"},"Account (*)"),c.a.createElement(m.j,{type:"text",name:"numAccount",id:"numAccount",value:e.numAccount||"",placeholder:"Enter account",maxLength:"12",onChange:this.handleChange,onBlur:this.handleBlur("numAccount"),autoComplete:"numAccount",valid:""===a.numAccount,invalid:""!==a.numAccount}),c.a.createElement(m.g,null,a.numAccount)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"productId"},"Product (*)"),c.a.createElement(m.j,{type:"select",name:"productId",id:"productId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("productId"),valid:""===a.productId,invalid:""!==a.productId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,a.productId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"env"},"Env (*)"),c.a.createElement(m.j,{type:"select",name:"env",id:"env",value:e.env||"",onChange:this.handleChange,onBlur:this.handleBlur("env"),valid:""===a.env,invalid:""!==a.env,disabled:r},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"DEV"},"DEV"),c.a.createElement("option",{value:"HML"},"HML"),c.a.createElement("option",{value:"PRD"},"PRD"),c.a.createElement("option",{value:"SDB"},"SDB")),c.a.createElement(m.g,null,a.env)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"mailList"},"Mail (*)"),c.a.createElement(m.j,{type:"text",name:"mailList",id:"mailList",value:e.mailList||"",placeholder:"Enter email",onChange:this.handleChange,onBlur:this.handleBlur("mailList"),autoComplete:"mailList",valid:""===a.mailList,invalid:""!==a.mailList}),c.a.createElement(m.g,null,a.mailList)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"alias"},"Alias (*)"),c.a.createElement(m.j,{type:"text",name:"alias",id:"alias",value:e.alias||"",placeholder:"Enter alias",onChange:this.handleChange,onBlur:this.handleBlur("alias"),autoComplete:"alias",valid:""===a.alias,invalid:""!==a.alias}),c.a.createElement(m.g,null,a.alias)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/accounts"},"Cancel")))))}}]),t}(n.Component),z=Object(B.a)(L),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={products:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/products")).then(function(e){return e.json()}).then(function(t){return e.setState({products:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/trigrammes/").concat(t,"/products/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.products).filter(function(e){return e.id!==a});n.setState({products:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.products;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/trigrammes/"+t.trigramme.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.mailList),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.bastion),c.a.createElement("td",null,t.mailListAlert),c.a.createElement("td",null,t.appContext),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.trigramme.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/products/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.trigramme.id,t.id)}},"Delete"))))}),r="".concat(v,"/products/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Product")),c.a.createElement("h3",null,"Product"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"mailList"),c.a.createElement("th",{width:"5%"},"type"),c.a.createElement("th",{width:"5%"},"bastion"),c.a.createElement("th",{width:"5%"},"mailListAlert"),c.a.createElement("th",{width:"5%"},"Context"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Trigramme"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),G=M,R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",mailList:"",type:"",bastion:"",mailListAlert:"",text:"",appContext:"",trigramme:{},trigrammeId:"",touched:{name:!1,mailList:!1,type:!1,bastion:!1,trigrammeId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/products/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,trigrammeId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).trigrammeId=t.trigramme.id,this.setState({item:a}),e.next=16;break;case 13:(n={name:"",mailList:"",type:"",bastion:"",mailListAlert:"",text:"",appContext:"",trigramme:{},trigrammeId:"",touched:{name:!1,mailList:!1,type:!1,bastion:!1,trigrammeId:!1}}).touched={name:!1,mailList:!1,type:!1,bastion:!1,trigrammeId:!1},this.setState({item:n});case 16:return e.next=18,fetch("/referentiel/trigrammes2").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.trigramme=e,c.setState({item:t})});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,mailList:!0,type:!0,bastion:!0,trigrammeId:!0},n=this.validate(a.name,a.mailList,a.type,a.bastion,a.trigrammeId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/products",a.trigramme={id:a.trigrammeId},e.next=12,fetch(a.id?"/referentiel/trigrammes/"+a.trigramme.id+"/products/"+a.id:"/referentiel/trigrammes/"+a.trigramme.id+"/products",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",mailList:"",type:"",bastion:"",trigrammeId:""};if(this.state.item.touched.name&&0===e.length)return r.name="Name should not be null",r;if(this.state.item.touched.type&&0===a.length)return r.type="Type should not be null",r;if(this.state.item.touched.bastion&&0===n.length)return r.bastion="Bastion should not be null",r;return this.state.item.touched.mailList&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(r.mailList="mailList should have correct format ",r):r}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Product":"Add Product"),a=this.validate(e.name,e.mailList,e.type,e.bastion,e.trigrammeId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.trigramme&&e.trigramme.length&&e.trigramme.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))}),e.id&&r.push(c.a.createElement("option",{key:e.trigramme.id,value:e.trigramme.id},e.trigramme.id," ",e.trigramme.name," "));var l=e.trigrammeId||"";return e.trigrammeId=l,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"trigrammeId"},"Trigrammes (*)"),c.a.createElement(m.j,{type:"select",name:"trigrammeId",id:"trigrammeId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("trigrammeId"),valid:""===a.trigrammeId,invalid:""!==a.trigrammeId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.trigrammeId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Type (*)"),c.a.createElement(m.j,{type:"text",name:"type",id:"type",value:e.type||"",placeholder:"Enter type",onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type}),c.a.createElement(m.g,null,a.type)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"bastion"},"Bastion (*)"),c.a.createElement(m.j,{type:"text",name:"bastion",id:"bastion",value:e.bastion||"",placeholder:"Enter bastion",onChange:this.handleChange,onBlur:this.handleBlur("bastion"),autoComplete:"bastion",valid:""===a.bastion,invalid:""!==a.bastion}),c.a.createElement(m.g,null,a.bastion)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"mailList"},"mailList (*)"),c.a.createElement(m.j,{type:"email",name:"mailList",id:"mailList",value:e.mailList||"",placeholder:"Enter mailList",onChange:this.handleChange,onBlur:this.handleBlur("mailList"),autoComplete:"mailList",valid:""===a.mailList,invalid:""!==a.mailList}),c.a.createElement(m.g,null,a.mailList)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"mailListAlert"},"mailListAlert"),c.a.createElement(m.j,{type:"email",name:"mailListAlert",id:"mailListAlert",value:e.mailListAlert||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"appContext"},"APP Context"),c.a.createElement(m.j,{type:"text",name:"appContext",id:"appContext",value:e.appContext||"",placeholder:"Enter app context",onChange:this.handleChange,autoComplete:"appContext"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/products"},"Cancel")))))}}]),t}(n.Component),U=Object(B.a)(R),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={vpcs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/vpcs")).then(function(e){return e.json()}).then(function(t){return e.setState({vpcs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/vpcs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.vpcs).filter(function(e){return e.id!==a});n.setState({vpcs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.vpcs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a,n="/referentiel/accounts/"+t.account.id;a="[Id:"+t.cidr.id+" Cidr:"+t.cidr.cidr+" Env:"+t.cidr.env+"]";var r;r="/referentiel/vpcmanage/"+t.cidr.id;var l="";t.nacls&&t.nacls.map(function(e){l=l+e+"| "});var i="";t.routeTables&&t.routeTables.map(function(e){i=i+e+"| "});var o="";return t.dhcps&&t.dhcps.map(function(e){o=o+e+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:r},a)),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount,": ",t.account.env)),c.a.createElement("td",null,t.text),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/vpc/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/vpcs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/vpcs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Vpc")),c.a.createElement("h3",null,"Vpc"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"Id"),c.a.createElement("th",{width:"20%"},"Name"),c.a.createElement("th",{width:"20%"},"Cidr"),c.a.createElement("th",{width:"20%"},"Account"),c.a.createElement("th",{width:"20%"},"Description"),c.a.createElement("th",{width:"20%"},"Nacl"),c.a.createElement("th",{width:"20%"},"Route"),c.a.createElement("th",{width:"20%"},"Dhcp"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),K=V,J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accounts:{},accountId:"",cidrs:{},cidrId:"",isSameEnv:!0,touched:{accountId:!1,cidrId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=17;break}return e.next=3,fetch("".concat(v,"/vpcs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,cidrId:!1},this.setState({item:t}),a=Object(T.a)({},this.state.item),e.next=11,fetch("/referentiel/cidr/env/"+t.account.env).then(function(e){return e.json()}).then(function(e){a.cidrs=e,c.setState({item:a})});case 11:a.isSameEnv=!0,a.accountId=t.account.id,a.cidrId=t.cidr.id,this.setState({item:a}),e.next=20;break;case 17:(n={name:"",text:"",account:{},accounts:{},accountId:"",cidrs:{},cidrId:"",isSameEnv:!0,touched:{name:!1,accountId:!1,cidrId:!1}}).touched={name:!1,accountId:!1,cidrId:!1},this.setState({item:n});case 20:return e.next=22,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,r.isSameEnv=!0,"accountId"===c){var l={};fetch("/referentiel/accounts/"+r.accountId).then(function(e){return e.json()}).then(function(e){(l=e).env!==r.account.env&&(r.isSameEnv=!1),fetch("/referentiel/cidr/env/"+l.env).then(function(e){return e.json()}).then(function(e){r.cidrs=e,t.setState({item:r})})})}this.setState({item:r})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,cidrId:!0},n=this.validate(a.name,a.accountId,a.cidrId),!Object.keys(n).some(function(e){return n[e]})){e.next=7;break}return e.abrupt("return");case 7:return c="/referentiel/vpcs",a.cidr={id:a.cidrId},a.account={id:a.accountId},r=[],a.nacls.map(function(e){r.push({id:e.id})}),a.nacls=r,r=[],a.routeTables.map(function(e){r.push({id:e.id})}),a.routeTables=r,r=[],a.dhcps.map(function(e){r.push({id:e.id})}),a.dhcps=r,e.next=21,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/vpcs/"+a.id:"/referentiel/accounts/"+a.account.id+"/vpcs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 21:this.props.history.push(c);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={name:"",accountId:"",cidrId:""};return this.state.item.touched.name&&0===e.length?(n.name="Name should not be null",n):this.state.item.touched.cidrId&&""===a?(n.cidrId="CidrId should not be null",n):this.state.item.touched.accountId&&0===t.length?(n.accountId="Account should not be null",n):n}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Vpc":"Add Vpc"),a=this.validate(e.name,e.accountId,e.cidrId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.cidrs&&e.cidrs.length&&e.cidrs.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.cidr," ",e.env))}),e.id&&e.isSameEnv&&r.push(c.a.createElement("option",{key:e.cidr.id,value:e.cidr.id},e.cidr.id," ",e.cidr.cidr," ",e.cidr.env));var l=e.cidrId||"";e.cidrId=l;var i=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount,"  ",e.env))}),e.id;var o=e.accountId||"";return e.accounttId=o,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Accounts (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cidrId"},"CIDR (*)"),c.a.createElement(m.j,{type:"select",name:"cidrId",id:"cidrId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("cidrId"),valid:""===a.cidrId,invalid:""!==a.cidrId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.cidrId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/vpcs"},"Cancel")))))}}]),t}(n.Component),Y=Object(B.a)(J),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/vpcs/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/vpc/"+t.vpc.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/vpc/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/vpcs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Vpc"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagVpc"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),F=Z,H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",vpc:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/vpcs/").concat(this.props.match.params.idv));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",vpc:{},touched:{key:!1,value:!1}}).vpc=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/vpc/"+a.vpc.id+"/tags",a.vpc={id:a.vpc.id},e.next=12,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/tags/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/vpc/"+t.vpc.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpc: ",t.vpc.name),c.a.createElement(m.j,{type:"text",name:"vpcId",id:"vpcId",value:t.vpc.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),W=Object(B.a)(H),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={subnets:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/subnets")).then(function(e){return e.json()}).then(function(t){return e.setState({subnets:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/subnets/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.subnets).filter(function(e){return e.id!==a});n.setState({subnets:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.subnets;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="/referentiel/vpcmanages/"+t.sCidr.cidr.id+"/subnetmanage/"+t.sCidr.id,l="";t.subnetgroup&&t.subnetgroup.map(function(e){l=l+e+"| "});var i="";t.nacls&&t.nacls.map(function(e){i=i+e+"| "});var o="";t.routetables&&t.routetables.map(function(e){o=o+e+"| "});var s="";t.lbs&&t.lbs.map(function(e){s=s+e+"| "});var u="";return t.autoScalingGroups&&t.autoScalingGroups.map(function(e){u=u+e+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement("a",{href:r},t.sCidr.id,":",t.sCidr.subnetCidr)),c.a.createElement("td",null,t.type),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.id,":",t.vpc.name)),c.a.createElement("td",null,t.text),c.a.createElement("td",null,t.az.id,":",t.az.name),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,s),c.a.createElement("td",null,u),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/subnet/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/subnets/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/subnets/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Subnet")),c.a.createElement("h3",null,"Subnet"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"subnetCidr"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Az"),c.a.createElement("th",{width:"5%"},"Subnet group"),c.a.createElement("th",{width:"5%"},"Nacl"),c.a.createElement("th",{width:"5%"},"Route"),c.a.createElement("th",{width:"5%"},"Lb"),c.a.createElement("th",{width:"5%"},"Asg"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),_=q,$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={text:"",vpc:{},vpcs:{},type:"",sCidr:{},sCidrs:{},vpcId:"",subnetCidrId:"",isSameVpc:!0,az:{},azs:{},azId:"",name:"",account:{},accounts:{},accountId:"",subnetgroup:[],touched:{type:!1,vpcId:!1,subnetCidrId:!1,name:!1,accountId:!1,azId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=23;break}return e.next=3,fetch("".concat(v,"/subnets/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={type:!1,vpcId:!1,subnetCidrId:!1,name:!1,accountId:!1,azId:!1},this.setState({item:t}),a=Object(T.a)({},this.state.item),e.next=11,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){a.vpcs=e,c.setState({item:a})});case 11:return e.next=13,fetch("/referentiel/cidrs/"+t.vpc.cidr.id+"/subnetcidrs/0").then(function(e){return e.json()}).then(function(e){a.sCidrs=e,c.setState({item:a})});case 13:return e.next=15,fetch("/referentiel/regions/"+t.vpc.cidr.region.id+"/azs").then(function(e){return e.json()}).then(function(e){a.azs=e,c.setState({item:a})});case 15:a.isSameVpc=!0,a.subnetCidrId=t.sCidr.id,a.vpcId=t.vpc.id,a.accountId=t.account.id,a.azId=t.az.id,this.setState({item:a}),e.next=26;break;case 23:(n={text:"",type:"",vpc:{},vpcs:{},sCidr:{},sCidrs:{},vpcId:"",name:"",account:{},accounts:{},accountId:"",subnetCidrId:"",isSameVpc:!0,az:{},azs:{},azId:"",subnetgroup:[],touched:{type:!1,vpcId:!1,subnetCidrId:!1,name:!1,accountId:!1,azId:!1}}).touched={type:!1,vpcId:!1,subnetCidrId:!1,name:!1,accountId:!1,azId:!1},this.setState({item:n});case 26:return e.next=28,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 28:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetCidrId="",r.sCidrs=[],r.azId="",r.az={},r.azs=[]),r.isSameVpc=!0,"vpcId"===c){var l={};fetch("/referentiel/vpcs/"+r.vpcId).then(function(e){return e.json()}).then(function(e){l=e,r.id&&r.sCidr.subnet&&r.sCidr.subnet.vpc.id!==l.id&&(r.isSameVpc=!1),fetch("/referentiel/cidrs/"+l.cidr.id+"/subnetcidrs/0").then(function(e){return e.json()}).then(function(e){r.sCidrs=e,t.setState({item:r})}),fetch("/referentiel/regions/"+l.cidr.region.id+"/azs").then(function(e){return e.json()}).then(function(e){r.azs=e,t.setState({item:r})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={type:!0,vpcId:!0,subnetCidrId:!0,name:!0,accountId:!0,azId:!0},n=this.validate(a.subnetCidrId,a.vpcId,a.type,a.name,a.azId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/vpc/"+a.vpc.id+"/subnets",a.sCidr={id:a.subnetCidrId},a.vpc={id:a.vpcId},a.account={id:a.accountId},a.az={id:a.azId},r=[],a.subnetgroup&&a.subnetgroup.length&&(a.subnetgroup.map(function(e){r.push({id:e.id})}),a.subnetgroup=r),r=[],a.nacls&&a.nacls.length&&(a.nacls.map(function(e){r.push({id:e.id})}),a.nacls=r),r=[],a.routetables&&a.routetables.length&&(a.routetables.map(function(e){r.push({id:e.id})}),a.routetables=r),r=[],a.lbs&&a.lbs.length&&(a.lbs.map(function(e){r.push({id:e.id})}),a.lbs=r),r=[],a.autoScalingGroups&&a.autoScalingGroups.length&&(a.autoScalingGroups.map(function(e){r.push({id:e.id})}),a.autoScalingGroups=r),e.next=25,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/subnets/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/subnets",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 25:this.props.history.push(c);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={type:"",vpcId:"",subnetCidrId:"",name:"",accountId:"",azId:""};return this.state.item.touched.accountId&&0===r.length?(l.accountId="accountId should not be null",l):this.state.item.touched.subnetCidrId&&0===e.length?(l.subnetCidrId="subnetCidr should not be null",l):this.state.item.touched.type&&0===a.length?(l.type="type should not be null",l):this.state.item.touched.name&&0===n.length?(l.name="Name should not be null",l):this.state.item.touched.vpcId&&0===t.length?(l.vpcId="Vpc should not be null",l):this.state.item.touched.azId&&0===c.length?(l.azId="Az should not be null",l):l}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Subnet":"Add Subnet"),a=this.validate(e.subnetCidrId,e.vpcId,e.type,e.name,e.azId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r="/referentiel/vpc/"+e.vpc.id+"/subnets",l=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=e.accountId||"";e.accountId=i;var o=[];e.sCidrs&&e.sCidrs.length&&e.sCidrs.map(function(e){o.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.subnetCidr))}),e.id&&e.isSameVpc&&o.push(c.a.createElement("option",{key:e.sCidr.id,value:e.sCidr.id},e.sCidr.id," ",e.sCidr.subnetCidr," "));var s=e.subnetCidrId||"";e.subnetCidrId=s;var u=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){u.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))}),e.id;var d=e.vpcId||"";e.vpcId=d;var h=[];e.azs&&e.azs.length&&e.azs.map(function(e){h.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var v=e.azId||"";return e.azId=v,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpc (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetCidrId"},"CIDR (*)"),c.a.createElement(m.j,{type:"select",name:"subnetCidrId",id:"subnetCidrId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("subnetCidrId"),valid:""===a.subnetCidrId,invalid:""!==a.subnetCidrId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,a.subnetCidrId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Type(*)"),c.a.createElement(m.j,{type:"text",name:"type",id:"type",value:e.type||"",onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type}),c.a.createElement(m.g,null,a.type)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"azId"},"Az (*)"),c.a.createElement(m.j,{type:"select",name:"azId",id:"azId",value:v,onChange:this.handleChange,onBlur:this.handleBlur("azId"),valid:""===a.azId,invalid:""!==a.azId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),h),c.a.createElement(m.g,null,a.azId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:r},"Cancel")))))}}]),t}(n.Component),Q=Object(B.a)($),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/subnets/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/subnets/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/subnets/"+t.subnet.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.subnet.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/subnet/"+t.subnet.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.subnet.id,t.id)}},"Delete"))))}),r="".concat(v,"/subnet/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/subnets");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Subnet"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagSubnet"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Subnet"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ee=X,te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",subnet:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/subnets/").concat(this.props.match.params.ids));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",subnet:{},touched:{key:!1,value:!1}}).subnet=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/subnet/"+a.subnet.id+"/tags",a.subnet={id:a.subnet.id},e.next=12,fetch(a.id?"/referentiel/subnets/"+a.subnet.id+"/tags/"+a.id:"/referentiel/subnets/"+a.subnet.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/subnet/"+t.subnet.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnet: ",t.subnet.name),c.a.createElement(m.j,{type:"text",name:"subnetId",id:"subnetId",value:t.subnet.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),ae=Object(B.a)(te),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={subnetGroups:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/subnetGroups")).then(function(e){return e.json()}).then(function(t){return e.setState({subnetGroups:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/subnetGroups/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.subnetGroups).filter(function(e){return e.id!==a});n.setState({subnetGroups:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.subnetGroups;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="";return t.subnets&&t.subnets.length&&t.subnets.map(function(e){r=r+e.id+":"+e.name+":"+e.az.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,r),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/subnetGroups/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/subnetGroups/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add SubnetGroup")),c.a.createElement("h3",null,"SubnetGroup"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnets"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ce=ne,re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",type:"",typeId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnetss:{},subnets:[],subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1,typeId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=22;break}return e.next=3,fetch("".concat(v,"/subnetGroups/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1,typeId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetss=e,r.setState({item:t})});case 12:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,a.typeId=t.type,n=[],a.subnets.map(function(e){n.push({id:e.id})}),a.subnets=n,this.setState({item:a}),e.next=25;break;case 22:(c={name:"",account:{},accounts:{},accountId:"",type:"",typeId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnets:[],subnetss:{},subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1,typeId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1,typeId:!1},this.setState({item:c});case 25:return e.next=27,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"subnetId"===c){for(var l=e.target.options,i=[],o=0,s=l.length;o<s;o++)l[o].selected&&r.subnetss&&r.subnetss.length&&r.subnetss.map(function(e){e.id==l[o].value&&i.push({id:e.id})});r.subnets=i,this.setState({item:r})}"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetId="",r.subnets=[],r.subnetss=[]),"vpcId"===c&&fetch("/referentiel/vpcs/"+r.vpcId+"/subnets").then(function(e){return e.json()}).then(function(e){r.subnetss=e,t.setState({item:r})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetId:!0,typeId:!0},n=this.validate(a.name,a.vpcId,a.subnetId,a.typeId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/subnetGroups",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.type=a.typeId,r=[],a.rdss=[],a.rdss&&a.rdss.length&&(a.rdss.map(function(e){r.push({id:e.id})}),a.rdss=r),r=[],a.efss&&a.efss.length&&(a.efss.map(function(e){r.push({id:e.id})}),a.efss=r),r=[],a.elasticcaches&&a.elasticcaches.length&&(a.elasticcaches.map(function(e){r.push({id:e.id})}),a.elasticcaches=r),r=[],a.elasticsearchs&&a.elasticsearchs.length&&(a.elasticsearchs.map(function(e){r.push({id:e.id})}),a.elasticsearchs=r),a.subnets&&a.subnets.length&&a.subnets.map(function(e){console.log("subnet:"+e.id)}),e.next=24,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/subnetGroups/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/subnetGroups",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 24:this.props.history.push(c);case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",accountId:"",vpcId:"",subnetId:"",typeId:""};return this.state.item.touched.name&&0===e.length?(r.name="Name should not be null",r):this.state.item.touched.accountId&&0===c.length?(r.accountId="accountId should not be null",r):this.state.item.touched.typeId&&0===n.length?(r.typeId="Type should not be null",r):this.state.item.touched.vpcId&&0===t.length?(r.vpcId="Vpc should not be null",r):this.state.item.touched.subnetId&&a&&0===this.state.item.subnets.length?(r.subnetId="Add subnets to cover at least 2 availability zones.",r):r}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit subnetGroup":"Add subnetGroup"),a=this.validate(e.name,e.vpcId,e.subnetId,e.typeId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=[];e.subnetss&&e.subnetss.length&&e.subnetss.map(function(t){var a=!1;e.subnets&&e.subnets.length&&e.subnets.map(function(e){t.id==e.id&&(a=!0)}),s.push(c.a.createElement("option",{key:t.id,value:t.id,selected:a},t.id," ",t.name," ",t.az.name))});var u=e.subnetId||{};e.subnetId=u;var d=e.typeId||"";return e.typeId=d,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"typeId"},"Type (*)"),c.a.createElement(m.j,{type:"select",name:"typeId",id:"typeId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("typeId"),valid:""===a.typeId,invalid:""!==a.typeId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"RDS"},"RDS"),c.a.createElement("option",{value:"EFS"},"EFS"),c.a.createElement("option",{value:"ECC"},"Elastic cache"),c.a.createElement("option",{value:"ELK"},"Elastic search")),c.a.createElement(m.g,null,a.typeId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnets (*)"),c.a.createElement(m.j,{type:"select",name:"subnetId",id:"subnetId",onChange:this.handleChange,onBlur:this.handleBlur("subnetId"),multiple:!0,valid:""===a.subnetId,invalid:""!==a.subnetId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.subnetId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/subnetGroups"},"Cancel")))))}}]),t}(n.Component),le=Object(B.a)(re),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cognitos:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/cognitos")).then(function(e){return e.json()}).then(function(t){return e.setState({cognitos:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/cognitos/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.cognitos).filter(function(e){return e.id!==a});n.setState({cognitos:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.cognitos;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/cognitos/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/cognitos/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Cognito")),c.a.createElement("h3",null,"Cognito"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),oe=ie,se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accountId:"",touched:{name:!1,accountId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/cognitos/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,accountId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,this.setState({item:a}),e.next=16;break;case 13:(n={name:"",text:"",account:{},accountId:"",touched:{name:!1,accountId:!1}}).touched={name:!1,accountId:!1},this.setState({item:n});case 16:return e.next=18,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.account=e,c.setState({item:t})});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0},n=this.validate(a.name,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=7;break}return e.abrupt("return");case 7:return c="/referentiel/cognitos",a.account={id:a.accountId},e.next=11,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/cognitos/"+a.id:"/referentiel/accounts/"+a.account.id+"/cognitos",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 11:this.props.history.push(c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={name:"",accountId:""};return this.state.item.touched.name&&0===e.length?(a.name="Name should not be null",a):this.state.item.touched.accountId&&0===t.length?(a.accountId="account should not be null",a):a}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit cognito":"Add cognito"),a=this.validate(e.name,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.account&&e.account.length&&e.account.map(function(e){r.push(c.a.createElement("option",{value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";return e.accountId=l,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"accounts (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/cognitos"},"Cancel")))))}}]),t}(n.Component),ue=Object(B.a)(se),de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={dynamoDbs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/dynamoDbs")).then(function(e){return e.json()}).then(function(t){return e.setState({dynamoDbs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/dynamoDbs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.dynamoDbs).filter(function(e){return e.id!==a});n.setState({dynamoDbs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dynamoDbs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/dynamoDbs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/dynamoDbs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add DynamoDb")),c.a.createElement("h3",null,"DynamoDb"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),he=de,me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accountId:"",touched:{name:!1,accountId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/dynamoDbs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,accountId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,this.setState({item:a}),e.next=16;break;case 13:(n={name:"",text:"",account:{},accountId:"",touched:{name:!1,accountId:!1}}).touched={name:!1,accountId:!1},this.setState({item:n});case 16:return e.next=18,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.account=e,c.setState({item:t})});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0},n=this.validate(a.name,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=7;break}return e.abrupt("return");case 7:return c="/referentiel/dynamoDbs",a.account={id:a.accountId},e.next=11,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/dynamoDbs/"+a.id:"/referentiel/accounts/"+a.account.id+"/dynamoDbs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 11:this.props.history.push(c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={name:"",accountId:""};return this.state.item.touched.name&&0===e.length?(a.name="Name should not be null",a):this.state.item.touched.accountId&&0===t.length?(a.accountId="account should not be null",a):a}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit dynamoDb":"Add dynamoDb"),a=this.validate(e.name,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.account&&e.account.length&&e.account.map(function(e){r.push(c.a.createElement("option",{value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";return e.accountId=l,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"accounts (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/dynamoDbs"},"Cancel")))))}}]),t}(n.Component),pe=Object(B.a)(me),ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={ssms:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/ssms")).then(function(e){return e.json()}).then(function(t){return e.setState({ssms:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/ssms/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.ssms).filter(function(e){return e.id!==a});n.setState({ssms:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.ssms;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.text),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.keyKmsId),c.a.createElement("td",null,t.value),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/ssms/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/ssms/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add SSM Parameter Store")),c.a.createElement("h3",null,"SSM Parameter Store"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Key Kms Id"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ee=ve,ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accountId:"",type:"String",keyKmsId:"",value:"",touched:{name:!1,accountId:!1,type:!1,keyKmsId:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/ssms/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,accountId:!1,type:!1,keyKmsId:!1,value:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,this.setState({item:a}),e.next=16;break;case 13:(n={name:"",text:"",account:{},accountId:"",type:"String",keyKmsId:"",value:"",touched:{name:!1,accountId:!1,type:!1,keyKmsId:!1,value:!1}}).touched={name:!1,accountId:!1,type:!1,keyKmsId:!1,value:!1},this.setState({item:n});case 16:return e.next=18,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.account=e,c.setState({item:t})});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,type:!0,keyKmsId:!0,value:!0},n=this.validate(a.name,a.accountId,a.type,a.keyKmsId,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/ssms",a.account={id:a.accountId},"SecureString"!==this.state.item.type&&(a.keyKmsId=""),e.next=13,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/ssms/"+a.id:"/referentiel/accounts/"+a.account.id+"/ssms",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",accountId:"",type:"",keyKmsId:"",value:""};return this.state.item.touched.name&&0===e.length?(r.name="Name should not be null",r):this.state.item.touched.accountId&&0===t.length?(r.accountId="account should not be null",r):this.state.item.touched.type&&0===a.length?(r.type="type should not be null",r):"SecureString"===this.state.item.type&&this.state.item.touched.keyKmsId&&0===n.length?(r.keyKmsId="keyKmsId should not be null",r):this.state.item.touched.value&&0===c.length?(r.value="value should not be null",r):r}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit SSM Parameter Store":"Add SSM Parameter Store"),a=this.validate(e.name,e.accountId,e.type,e.keyKmsId,e.value),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.account&&e.account.length&&e.account.map(function(e){r.push(c.a.createElement("option",{value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=e.type||"";e.type=i;var o="SecureString"===e.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"keyKmsId"},"Key Kms Id (*)"),c.a.createElement(m.j,{type:"text",name:"keyKmsId",id:"keyKmsId",value:e.keyKmsId||"",placeholder:"Enter keyKmsId",onChange:this.handleChange,onBlur:this.handleBlur("keyKmsId"),autoComplete:"keyKmsId",valid:""===a.keyKmsId,invalid:""!==a.keyKmsId}),c.a.createElement(m.g,null,a.keyKmsId)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"accounts (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Type (*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:i,onChange:this.handleChange,onBlur:this.handleBlur("type"),valid:""===a.type,invalid:""!==a.type},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"String"},"String"),c.a.createElement("option",{value:"StringList"},"StringList"),c.a.createElement("option",{value:"SecureString"},"SecureString")),c.a.createElement(m.g,null,a.type)),o,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"textarea",name:"value",id:"value",value:e.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===a.value,invalid:""!==a.value}),c.a.createElement(m.g,null,a.value)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/ssms"},"Cancel")))))}}]),t}(n.Component),fe=Object(B.a)(ge),be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={storages:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/storages")).then(function(e){return e.json()}).then(function(t){return e.setState({storages:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/storages/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.storages).filter(function(e){return e.id!==a});n.setState({storages:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.storages;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n=t.versionning?"Yes":"No",r=t.cloudWatchMetrics?"Yes":"No",l=t.encryption?"Yes":"No",i=t.kms?t.kms.id:"",o=t.serverAccessLoging?"Yes":"No",s=t.storageTarget?t.storageTarget.id:"",u=t.grantAmazonS3ReadAccess?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.region.id," ",t.region.name),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,t.encryptionType),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,s),c.a.createElement("td",null,t.targetPrefix),c.a.createElement("td",null,u),c.a.createElement("td",null,t.cors),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/storage/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/storage/"+t.id+"/storageacls"},"Acls"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/storages/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/storages/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add S3")),c.a.createElement("h3",null,"S3"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Region"),c.a.createElement("th",{width:"5%"},"Versionning"),c.a.createElement("th",{width:"5%"},"Cloud Watch Metrics"),c.a.createElement("th",{width:"5%"},"Encryption"),c.a.createElement("th",{width:"5%"},"Encryption Type"),c.a.createElement("th",{width:"5%"},"Kms key"),c.a.createElement("th",{width:"5%"},"Server Access Loging"),c.a.createElement("th",{width:"5%"},"Storage Target"),c.a.createElement("th",{width:"5%"},"Target Prefix"),c.a.createElement("th",{width:"5%"},"AmazonS3ReadAccess"),c.a.createElement("th",{width:"5%"},"Cors Configuration"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ye=be,Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accountId:"",regionId:"",regions:[],region:{},versionning:!0,cloudWatchMetrics:!1,encryption:!1,encryptionType:"AES-256",kmsId:"",kms:{},kmss:[],serverAccessLoging:!1,storageTargetId:"",storageTarget:{},storageTargets:[],targetPrefix:"",cors:"",grantAmazonS3ReadAccess:!1,blockNewPublicAclObject:!1,removePublicAccessGranted:!1,blockNewPublicBucket:!1,blockPublicCross:!1,touched:{name:!1,accountId:!1,regionId:!1,encryptionType:!1,kmsId:!1,storageTargetId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=19;break}return e.next=3,fetch("".concat(v,"/storages/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,accountId:!1,regionId:!1,encryptionType:!1,kmsId:!1,storageTargetId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,a.regionId=t.region.id,""===a.encryptionType&&(a.encryptionType="AES-256"),t.kms&&(a.kmsId=t.kms.id),t.storageTarget&&(a.storageTargetId=t.storageTarget.id),fetch("/referentiel/accounts/"+t.account.id+"/kmss").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.kmss=e,c.setState({item:t})}),fetch("/referentiel/accounts/"+t.account.id+"/storages").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.storageTargets=e,c.setState({item:t})}),this.setState({item:a}),e.next=22;break;case 19:(n={name:"",text:"",account:{},accountId:"",regionId:"",regions:[],region:{},versionning:!0,cloudWatchMetrics:!1,encryption:!1,encryptionType:"AES-256",kmsId:"",kms:{},kmss:[],serverAccessLoging:!1,storageTargetId:"",storageTarget:{},storageTargets:[],targetPrefix:"",cors:"",grantAmazonS3ReadAccess:!1,blockNewPublicAclObject:!1,removePublicAccessGranted:!1,blockNewPublicBucket:!1,blockPublicCross:!1,touched:{name:!1,accountId:!1,regionId:!1,encryptionType:!1,kmsId:!1,storageTargetId:!1}}).touched={name:!1,accountId:!1,regionId:!1,encryptionType:!1,kmsId:!1,storageTargetId:!1},this.setState({item:n});case 22:return e.next=24,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.account=e,c.setState({item:t})});case 24:return e.next=26,fetch("/referentiel/regions").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.regions=e,c.setState({item:t})});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"serverAccessLoging"===c&&(r.serverAccessLoging=!!a.checked),"versionning"===c&&(r.versionning=!!a.checked),"cloudWatchMetrics"===c&&(r.cloudWatchMetrics=!!a.checked),"encryption"===c&&(r.encryption=!!a.checked),"type"===c&&(r.encryptionType="AES-256"===n?"AES-256":"AWS-KMS"),"blockNewPublicAclObject"===c&&(r.blockNewPublicAclObject=!!a.checked),"removePublicAccessGranted"===c&&(r.removePublicAccessGranted=!!a.checked),"blockNewPublicBucket"===c&&(r.blockNewPublicBucket=!!a.checked),"blockPublicCross"===c&&(r.blockPublicCross=!!a.checked),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/kmss").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.kmss=e,t.setState({item:a})}),fetch("/referentiel/accounts/"+r.accountId+"/storages").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.storageTargets=e,t.setState({item:a})}))}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,regionId:!0,encryptionType:!0,kmsId:!0,storageTargetId:!0},n=this.validate(a.name,a.accountId,a.regionId,a.encryptionType,a.kmsId,a.storageTargetId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/storages",a.account={id:a.accountId},a.region={id:a.regionId},a.encryption?"AWS-KMS"===a.encryptionType?a.kms={id:a.kmsId}:a.kms=null:(a.encryptionType="",a.kms=null),a.serverAccessLoging?a.storageTarget={id:a.storageTargetId}:(a.targetPrefix=null,a.storageTarget=null),e.next=15,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/storages/"+a.id:"/referentiel/accounts/"+a.account.id+"/storages",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={name:"",accountId:"",regionId:"",encryptionType:"",kmsId:"",storageTargetId:""};return this.state.item.touched.name&&0===e.length?(l.name="Name should not be null",l):this.state.item.touched.accountId&&0===t.length?(l.accountId="account should not be null",l):this.state.item.touched.regionId&&0===a.length?(l.regionId="regionId should not be null",l):this.state.item.encryption&&this.state.item.touched.encryptionType&&0===n.length?(l.encryptionType="encryptionType should not be null",l):this.state.item.encryption&&"AWS-KMS"===this.state.item.encryptionType&&this.state.item.touched.kmsId&&0===c.length?(l.kmsId="kmsId should not be null",l):this.state.item.serverAccessLoging&&this.state.item.touched.storageTarget&&0===r.length?(l.storageTargetId="storageTarget should not be null",l):l}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit storage":"Add storage"),a=this.validate(e.name,e.accountId,e.regionId,e.encryptionType,e.kmsId,e.storageTagetId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.account&&e.account.length&&e.account.map(function(e){r.push(c.a.createElement("option",{value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.regions&&e.regions.length&&e.regions.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.regionId||"";e.regionId=o;var s=[];e.kmss&&e.kmss.length&&e.kmss.map(function(e){s.push(c.a.createElement("option",{value:e.id},e.id," ",e.alias))});var u=e.kmsId||"";e.kmsId=u;var d=[];e.storageTargets&&e.storageTargets.length&&e.storageTargets.map(function(e){d.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var h=e.storageTargetId||"";e.storageTargetId=h;var v=e.encryption?c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"type"},"Encryption Type(*)"),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"AES-256",checked:"AES-256"===e.encryptionType,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type})," ","AES-256")),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"AWS-KMS",checked:"AWS-KMS"===e.encryptionType,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type})," ","AWS-KMS")),c.a.createElement(m.g,null,a.type)):"",g=e.encryption&&"AWS-KMS"===e.encryptionType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"kmsId"},"Kms (*)"),c.a.createElement(m.j,{type:"select",name:"kmsId",id:"kmsId",value:u,onChange:this.handleChange,onBlur:this.handleBlur("kmsId"),valid:""===a.kmsId,invalid:""!==a.kmsId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.kmsId)):"",f=e.serverAccessLoging?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"storageTargetId"},"Storage Target (*)"),c.a.createElement(m.j,{type:"select",name:"storageTargetId",id:"storageTargetId",value:h,onChange:this.handleChange,onBlur:this.handleBlur("storageTargetId"),valid:""===a.storageTargetId,invalid:""!==a.storageTargetId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,a.storageTargetId)):"",b=e.serverAccessLoging?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetPrefix"},"Target Prefix (*)"),c.a.createElement(m.j,{type:"text",name:"targetPrefix",id:"targetPrefix",value:e.targetPrefix||"",placeholder:"Enter targetPrefix",onChange:this.handleChange,onBlur:this.handleBlur("targetPrefix"),autoComplete:"targetPrefix",valid:""===a.targetPrefix,invalid:""!==a.name}),c.a.createElement(m.g,null,a.targetPrefix)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"accounts (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"regionId"},"Region (*)"),c.a.createElement(m.j,{type:"select",name:"regionId",id:"regionId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("regionId"),valid:""===a.regionId,invalid:""!==a.regionId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.regionId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"versionning"},"Versionning:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"versionning",id:"versionning",onChange:this.handleChange,onBlur:this.handleBlur("versionning"),checked:!0===e.versionning})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encryption"},"Encryption:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"encryption",id:"encryption",onChange:this.handleChange,onBlur:this.handleBlur("encryption"),checked:!0===e.encryption})),v,g,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cloudWatchMetrics"},"Cloud Watch Metrics:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"cloudWatchMetrics",id:"cloudWatchMetrics",onChange:this.handleChange,onBlur:this.handleBlur("cloudWatchMetrics"),checked:!0===e.cloudWatchMetrics})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"serverAccessLoging"},"Server Access Loging:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"serverAccessLoging",id:"serverAccessLoging",onChange:this.handleChange,onBlur:this.handleBlur("serverAccessLoging"),checked:!0===e.serverAccessLoging})),f,b,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:""},"Public access settings for this bucket"),c.a.createElement(m.i,null,"Use the Amazon S3 block public access settings to enforce that buckets don\\''t allow public access to data. You can also configure the Amazon S3 block public access settings at the account level")),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:""},"Manage public access control lists (ACLs) for this bucket"),c.a.createElement(m.i,null)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"blockNewPublicAclObject"},"Block new public ACLs and uploading public objects (Recommended):"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"blockNewPublicAclObject",id:"blockNewPublicAclObject",onChange:this.handleChange,onBlur:this.handleBlur("blockNewPublicAclObject"),checked:!0===e.blockNewPublicAclObject})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"removePublicAccessGranted"},"Remove public access granted through public ACLs (Recommended):"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"removePublicAccessGranted",id:"removePublicAccessGranted",onChange:this.handleChange,onBlur:this.handleBlur("removePublicAccessGranted"),checked:!0===e.removePublicAccessGranted})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:""},"Manage public bucket policies for this bucket"),c.a.createElement(m.i,null)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"blockNewPublicBucket"},"Block new public bucket policies (Recommended):"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"blockNewPublicBucket",id:"blockNewPublicBucket",onChange:this.handleChange,onBlur:this.handleBlur("blockNewPublicBucket"),checked:!0===e.blockNewPublicBucket})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"blockPublicCross"},"Block public and cross-account access if bucket has public policies (Recommended):"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"blockPublicCross",id:"blockPublicCross",onChange:this.handleChange,onBlur:this.handleBlur("blockPublicCross"),checked:!0===e.blockPublicCross})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"grantAmazonS3ReadAccess"},"Grant Amazon S3 Delivery Read Access (*)"),c.a.createElement(m.j,{type:"select",name:"grantAmazonS3ReadAccess",id:"grantAmazonS3ReadAccess",value:e.grantAmazonS3ReadAccess,onChange:this.handleChange,onBlur:this.handleBlur("grantAmazonS3ReadAccess")},c.a.createElement("option",{value:"false"},"Do not grant Amazon S3 Log Delivery group write access to this bucket"),c.a.createElement("option",{value:"true"},"Grant Amazon S3 Log Delivery group write access to this bucket"))),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cors"},"Cors Configuration"),c.a.createElement(m.j,{type:"textarea",name:"cors",id:"cors",value:e.cors||"",placeholder:"<CORSConfiguration>\r <CORSRule>\r <AllowedOrigin>*</AllowedOrigin>\r <AllowedMethod>GET</AllowedMethod>\r <AllowedHeader>Authorization</AllowedHeader>\r <MaxAgeSeconds>3000</MaxAgeSeconds>\r </CORSRule>\r\n</CORSConfiguration>",onChange:this.handleChange,autoComplete:"cors"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/storages"},"Cancel")))))}}]),t}(n.Component),je=Object(B.a)(Ie),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={storageAcls:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/storages/").concat(this.props.match.params.id,"/storageAcls")).then(function(e){return e.json()}).then(function(t){return e.setState({storageAcls:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/storages/").concat(t,"/storageAcls/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.storageAcls).filter(function(e){return e.id!==a});n.setState({storageAcls:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.storageAcls;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){t.storage.id;var a=t.read?"Yes":"No",n=t.write?"Yes":"No",r=t.account?t.account.id:"",l=t.listObject?"Yes":"No",i=t.writeObject?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.type),c.a.createElement("td",null,r),c.a.createElement("td",null,t.externalAccount),c.a.createElement("td",null,t.groupe),c.a.createElement("td",null,t.store),c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/storage/"+t.storage.id+"/storageacls/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.storage.id,t.id)}},"Delete"))))}),r="".concat(v,"/storage/").concat(this.props.match.params.id,"/storageacls/new"),l="".concat(v,"/storages");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"S3"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add S3 Acl")),c.a.createElement("h3",null,"S3 Acl"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"External Account"),c.a.createElement("th",{width:"5%"},"Public access"),c.a.createElement("th",{width:"5%"},"S3 log delivery group"),c.a.createElement("th",{width:"5%"},"Read bucket permissions"),c.a.createElement("th",{width:"5%"},"Write bucket permissions"),c.a.createElement("th",{width:"5%"},"List objects"),c.a.createElement("th",{width:"5%"},"Write objects"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ce=ke,Oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={externalAccount:"",accountId:"",storage:{},type:"Internal",read:!1,write:!1,listObject:!1,writeObject:!1,groupe:"",store:"",touched:{externalAccount:!1,accountId:!1,type:!1,groupe:!1,store:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=15;break}return e.next=3,fetch("".concat(v,"/storageAcls/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={externalAccount:!1,accountId:!1,type:!1,groupe:!1,store:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=a.storage.account.id,a.groupe="Everyone",a.store="Log Delivery",this.setState({item:a}),e.next=27;break;case 15:return e.next=17,fetch("".concat(v,"/storages/").concat(this.props.match.params.ids));case 17:return e.next=19,e.sent.json();case 19:n=e.sent,(c={externalAccount:"",accountId:"",storage:{},type:"Internal",read:!1,write:!1,listObject:!1,writeObject:!1,groupe:"",store:"",touched:{externalAccount:!1,accountId:!1,type:!1,groupe:!1,store:!1}}).storage=n,c.accountId=n.account.id,c.touched={externalAccount:!1,accountId:!1,type:!1,groupe:!1,store:!1},c.groupe="Everyone",c.store="Log Delivery",this.setState({item:c});case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c}),"read"===n&&(c.read=!!t.checked),"write"===n&&(c.write=!!t.checked),"listObject"===n&&(c.listObject=!!t.checked),"writeObject"===n&&(c.writeObject=!!t.checked)}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={externalAccount:!0,accountId:!0,type:!0,groupe:!0,store:!0},n=this.validate(a.externalAccount,a.accountId,a.type,a.groupe,a.store),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/storage/"+a.storage.id+"/storageacls",a.storage={id:a.storage.id},"Internal"===a.type?(a.externalAccount="",a.account={id:a.accountId},a.groupe="",a.store=""):"External"===a.type?(a.accountId=null,a.groupe="",a.store=""):"Group"===a.type?(a.accountId=null,a.externalAccount="",a.store=""):"S3"===a.type&&(a.accountId=null,a.externalAccount="",a.groupe=""),e.next=13,fetch(a.id?"/referentiel/storages/"+a.storage.id+"/storageAcls/"+a.id:"/referentiel/storages/"+a.storage.id+"/storageAcls",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={externalAccount:"",accountId:"",type:"",groupe:"",store:""};return"External"===this.state.item.type&&this.state.item.touched.externalAccount&&0===e.length?(r.externalAccount="External Account should not be null",r):"Internal"===this.state.item.type&&this.state.item.touched.accountId&&0===t.length?(r.accountId="Account should not be null",r):"Group"===this.state.item.type&&this.state.item.touched.groupe&&0===n.length?(r.groupe="Group should not be null",r):"S3"===this.state.item.type&&this.state.item.touched.store&&0===c.length?(r.store="S3 delivery should not be null",r):r}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit S3 Acl":"Add S3 Acl"),n=this.validate(t.externalAccount,t.accountId,t.type,t.groupe,t.store),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/storage/"+t.storage.id+"/storageacls";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"storageId"},"Storage: ",t.storage.name),c.a.createElement(m.j,{type:"text",name:"storageId",id:"storageId",value:t.storage.id||"",disabled:"true"}));var i="Internal"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Access for your AWS account (*)"),c.a.createElement(m.j,{type:"text",name:"accountId",id:"accountId",value:t.accountId||"",placeholder:"Enter accountId",disabled:"true",onChange:this.handleChange,onBlur:this.handleBlur("accountId"),autoComplete:"accountId",valid:""===n.accountId,invalid:""!==n.accountId}),c.a.createElement(m.g,null,n.accountId)):"",o="External"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"externalAccount"},"Access for other AWS accounts (*)"),c.a.createElement(m.j,{type:"text",name:"externalAccount",id:"externalAccount",value:t.externalAccount||"",placeholder:"Enter externalAccount",onChange:this.handleChange,onBlur:this.handleBlur("externalAccount"),autoComplete:"externalAccount",valid:""===n.externalAccount,invalid:""!==n.externalAccount}),c.a.createElement(m.g,null,n.externalAccount)):"",s="Group"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"groupe"},"Public access (*)"),c.a.createElement(m.j,{type:"text",name:"groupe",id:"groupe",value:t.groupe||"",placeholder:"Enter groupe",disabled:"true",onChange:this.handleChange,onBlur:this.handleBlur("groupe"),autoComplete:"groupe",valid:""===n.groupe,invalid:""!==n.groupe}),c.a.createElement(m.g,null,n.groupe)):"",u="S3"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"store"},"S3 log delivery groupe (*)"),c.a.createElement(m.j,{type:"text",name:"store",id:"store",value:t.store||"",placeholder:"Enter store",disabled:"true",onChange:this.handleChange,onBlur:this.handleBlur("store"),autoComplete:"store",valid:""===n.store,invalid:""!==n.store}),c.a.createElement(m.g,null,n.store)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"type(*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:t.type,onChange:this.handleChange,onBlur:this.handleBlur("type")},c.a.createElement("option",{value:"Internal"},"Internal Account"),c.a.createElement("option",{value:"External"},"External Account"),c.a.createElement("option",{value:"Group"},"Public access"),c.a.createElement("option",{value:"S3"},"S3 log delivery group"))),o,i,s,u,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"listObject"},"List Object:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"listObject",id:"listObject",onChange:this.handleChange,onBlur:this.handleBlur("listObject"),checked:!0===t.listObject})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"writeObject"},"Write Object:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"writeObject",id:"writeObject",onChange:this.handleChange,onBlur:this.handleBlur("writeObject"),checked:!0===t.writeObject})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"read"},"Read bucket permissions:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"read",id:"read",onChange:this.handleChange,onBlur:this.handleBlur("read"),checked:!0===t.read})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"write"},"Write bucket permissions:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"write",id:"write",onChange:this.handleChange,onBlur:this.handleBlur("write"),checked:!0===t.write})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Se=Object(B.a)(Oe),xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/storages/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/storages/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/storages/"+t.storage.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.storage.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/storage/"+t.storage.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.storage.id,t.id)}},"Delete"))))}),r="".concat(v,"/storage/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/storages");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Storage"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagStorage"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Storage"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),we=xe,Te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",storage:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/storages/").concat(this.props.match.params.ids));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",storage:{},touched:{key:!1,value:!1}}).storage=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/storage/"+a.storage.id+"/tags",a.storage={id:a.storage.id},e.next=12,fetch(a.id?"/referentiel/storages/"+a.storage.id+"/tags/"+a.id:"/referentiel/storages/"+a.storage.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/storage/"+t.storage.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"storageId"},"Storage: ",t.storage.name),c.a.createElement(m.j,{type:"text",name:"storageId",id:"storageId",value:t.storage.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Be=Object(B.a)(Te),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={rdss:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/rdss")).then(function(e){return e.json()}).then(function(t){return e.setState({rdss:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/rdss/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.rdss).filter(function(e){return e.id!==a});n.setState({rdss:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.rdss;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="/referentiel/subnetgroups/"+t.subnetgroup.id,l="",i=(t.sgs.map(function(e){l=l+"|"+e.id+":"+e.name}),t.multiAz?"Yes":"No");return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement("a",{href:r},t.subnetgroup.name)),c.a.createElement("td",null,t.az.id),c.a.createElement("td",null,l),c.a.createElement("td",null,t.instanceType.id),c.a.createElement("td",null,t.env),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.dbEngineVesion),c.a.createElement("td",null,t.storageType),c.a.createElement("td",null,t.dbInstanceIdentifier),c.a.createElement("td",null,t.masterUserName),c.a.createElement("td",null,t.masterPassword),c.a.createElement("td",null,t.masterConfirmPassword),c.a.createElement("td",null,i),c.a.createElement("td",null,t.alocatedStorage),c.a.createElement("td",null,t.provisionedIops),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/rdss/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/rdss/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Rds")),c.a.createElement("h3",null,"Rds"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet Group"),c.a.createElement("th",{width:"5%"},"Az"),c.a.createElement("th",{width:"5%"},"Security Group"),c.a.createElement("th",{width:"5%"},"Instance Type"),c.a.createElement("th",{width:"5%"},"env"),c.a.createElement("th",{width:"5%"},"type"),c.a.createElement("th",{width:"5%"},"dbEngineVesion"),c.a.createElement("th",{width:"5%"},"storageType"),c.a.createElement("th",{width:"5%"},"dbInstanceIdentifier"),c.a.createElement("th",{width:"5%"},"masterUserName"),c.a.createElement("th",{width:"5%"},"masterPassword"),c.a.createElement("th",{width:"5%"},"masterConfirmPassword"),c.a.createElement("th",{width:"5%"},"multiAz"),c.a.createElement("th",{width:"5%"},"alocatedStorage"),c.a.createElement("th",{width:"5%"},"provisionedIops"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),De=a(17),Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accounts:{},accountId:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",sgss:{},sgs:[],sgId:[],instanceType:"",az:"",multiAz:!0,env:"",type:"",dbEngineVesion:"",storageType:"",dbInstanceIdentifier:"",masterUserName:"",masterPassword:"",masterConfirmPassword:"",alocatedStorage:"",provisionedIops:"",touched:{name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1,instanceTypeId:!1,azId:!1,env:!1,type:!1,dbEngineVesion:!1,storageType:!1,dbInstanceIdentifier:!1,masterUserName:!1,masterPassword:!1,masterConfirmPassword:!1,alocatedStorage:!1,provisionedIops:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("sgId"===e){for(var l=0,i=c.length;l<i;l++)n.sgss&&n.sgss.length&&n.sgss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.sgs=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=30;break}return e.next=3,fetch("".concat(v,"/rdss/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1,instanceTypeId:!1,azId:!1,env:!1,type:!1,dbEngineVesion:!1,storageType:!1,dbInstanceIdentifier:!1,masterUserName:!1,masterPassword:!1,masterConfirmPassword:!1,alocatedStorage:!1,provisionedIops:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/vpcs/"+t.vpc.id+"/type/RDS/subnetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.subnetgroups=e,l.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.vpcs=e,l.setState({item:t})});case 12:return e.next=14,fetch("/referentiel/vpcs/"+t.vpc.id+"/sgs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.sgss=e,l.setState({item:t})});case 14:(a=Object(T.a)({},this.state.item)).instanceTypeId=t.instanceType.id,a.accountId=t.account.id,a.vpcId=t.vpc.id,a.subnetgroupId=t.subnetgroup.id,a.azId=t.az.id,n=[],t.subnetgroup.subnets.map(function(e){n.push(e.az)}),a.azs=n,c=[],a.sgs.map(function(e){c.push({id:e.id})}),a.sgs=c,this.setState({item:a}),e.next=33;break;case 30:(r={name:"",text:"",account:{},accounts:{},accountId:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",sgss:{},sgs:[],sgId:[],instanceType:"",az:"",multiAz:!0,env:"",type:"",dbEngineVesion:"",storageType:"",dbInstanceIdentifier:"",masterUserName:"",masterPassword:"",masterConfirmPassword:"",alocatedStorage:"",provisionedIops:"",touched:{name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1,instanceTypeId:!1,azId:!1,env:!1,type:!1,dbEngineVesion:!1,storageType:!1,dbInstanceIdentifier:!1,masterUserName:!1,masterPassword:!1,masterConfirmPassword:!1,alocatedStorage:!1,provisionedIops:!1}}).touched={name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1,instanceTypeId:!1,azId:!1,env:!1,type:!1,dbEngineVesion:!1,storageType:!1,dbInstanceIdentifier:!1,masterUserName:!1,masterPassword:!1,masterConfirmPassword:!1,alocatedStorage:!1,provisionedIops:!1},this.setState({item:r});case 33:return e.next=35,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 35:return e.next=37,fetch("/referentiel/instanceTypes").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.instanceTypes=e,l.setState({item:t})});case 37:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetgroupId="",r.subnetgroups=[],r.sgId="",r.sgs=[],r.sgss=[],r.azId="",r.azs=[]),"vpcId"===c&&(fetch("/referentiel/vpcs/"+r.vpcId+"/type/RDS/subnetGroups").then(function(e){return e.json()}).then(function(e){r.subnetgroups=e,t.setState({item:r})}),fetch("/referentiel/vpcs/"+r.vpcId+"/sgs").then(function(e){return e.json()}).then(function(e){r.sgss=e,t.setState({item:r})})),"subnetgroupId"===c&&fetch("/referentiel/subnetGroups/"+r.subnetgroupId).then(function(e){return e.json()}).then(function(e){var a=[];e.subnets.map(function(e){a.push(e.az)}),r.azs=a,t.setState({item:r})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,vpcId:!0,subnetgroupId:!0,accountId:!1,sgId:!0,instanceTypeId:!0,azId:!0,env:!0,type:!0,dbEngineVesion:!0,storageType:!0,dbInstanceIdentifier:!0,masterUserName:!0,masterPassword:!0,masterConfirmPassword:!0,alocatedStorage:!0,provisionedIops:!0},n=this.validate(a.name,a.vpcId,a.subnetgroupId,a.accountId,a.sgId,a.instanceTypeId,a.azId,a.env,a.type,a.dbEngineVesion,a.storageType,a.dbInstanceIdentifier,a.masterUserName,a.masterPassword,a.masterConfirmPassword,a.alocatedStorage,a.provisionedIops),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/rdss",a.account={id:a.accountId},a.vpc={id:a.vpcId},a.subnetgroup={id:a.subnetgroupId},a.az={id:a.azId},a.instanceType={id:a.instanceTypeId},r=[],a.sgs&&a.sgs.length&&(a.sgs.map(function(e){r.push({id:e.id})}),a.sg=r),e.next=18,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/rdss/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/rdss",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 18:this.props.history.push(c);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s,u,d,h,m,p,v,E){var g={name:"",vpcId:"",subnetgroupId:"",accountId:"",sgId:"",instanceTypeId:"",azId:"",env:"",type:"",dbEngineVesion:"",storageType:"",dbInstanceIdentifier:"",masterUserName:"",masterPassword:"",masterConfirmPassword:"",alocatedStorage:"",provisionedIops:""};return this.state.item.touched.name&&0===e.length?(g.name="Name should not be null",g):this.state.item.touched.accountId&&0===n.length?(g.accountId="accountId should not be null",g):this.state.item.touched.vpcId&&0===t.length?(g.vpcId="Vpc should not be null",g):this.state.item.touched.subnetgroupId&&0===a.length?(g.azId="azId should not be null",g):this.state.item.touched.azId&&0===l.length?(g.subnetgroupId="Subnet group should not be null",g):this.state.item.touched.sgId&&this.state.item.sgs.length<=0?(g.sgId="sgId should not be null",g):this.state.item.touched.instanceTypeId&&0===r.length?(g.instanceTypeId="instanceTypeId should not be null",g):this.state.item.touched.env&&0===i.length?(g.env="env should not be null",g):this.state.item.touched.type&&0===o.length?(g.type="type should not be null",g):this.state.item.touched.dbEngineVesion&&0===s.length?(g.dbEngineVesion="dbEngineVesion should not be null",g):this.state.item.touched.storageType&&0===u.length?(g.storageType="storageType should not be null",g):this.state.item.touched.dbInstanceIdentifier&&0===d.length?(g.dbInstanceIdentifier="dbInstanceIdentifier should not be null",g):this.state.item.touched.masterUserName&&0===h.length?(g.masterUserName="masterUserName should not be null",g):this.state.item.touched.masterPassword&&0===m.length?(g.masterPassword="masterPassword should not be null",g):this.state.item.touched.masterConfirmPassword&&0===p.length?(g.masterConfirmPassword="masterConfirmPassword should not be null",g):g}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit rds":"Add rds"),n=this.validate(t.name,t.vpcId,t.subnetgroupId,t.accountId,t.instanceTypeId,t.azId,t.env,t.type,t.dbEngineVesion,t.storageType,t.dbInstanceIdentifier,t.masterUserName,t.masterPassword,t.masterConfirmPassword,t.alocatedStorage,t.provisionedIops),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){o.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var s=t.vpcId||"";t.vpcId=s;var u=[];t.subnetgroups&&t.subnetgroups.length&&t.subnetgroups.map(function(e){u.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var d=t.subnetgroupId||"";t.subnetgroupId=d;var h=[],v=[];t.sgss&&t.sgss.length&&t.sgss.map(function(e){t.sgs&&t.sgs.length&&t.sgs.map(function(t){e.id==t.id&&v.push({value:e.id,label:e.name})}),h.push({value:e.id,label:e.name})});var g=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Security Group (*)"),c.a.createElement(De.a,{name:"sgId",id:"sgId",placeholder:"Enter Security group",isMulti:!0,isSearchable:!0,value:v,onChange:function(t){return e.onOptionChange("sgId",t)},onBlur:this.handleBlur("sgId"),options:h}),c.a.createElement(m.g,null,n.sgId)),f=[];t.instanceTypes&&t.instanceTypes.length&&t.instanceTypes.map(function(e){f.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.type))});var b=t.instanceTypeId||"";t.instanceTypeId=b;var y=[];t.azs&&t.azs.length&&t.azs.map(function(e){y.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var I=t.azId||"";return t.azId=I,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetgroupId"},"Subnet group (*)"),c.a.createElement(m.j,{type:"select",name:"subnetgroupId",id:"subnetgroupId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("subnetgroupId"),valid:""===n.subnetgroupId,invalid:""!==n.subnetgroupId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,n.subnetgroupId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:""},"multiAz:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"multiAz",id:"multiAz",onChange:this.handleChange,onBlur:this.handleBlur("multiAz"),checked:!0===t.multiAz})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"azId"},"Az (*)"),c.a.createElement(m.j,{type:"select",name:"azId",id:"azId",value:t.azId||"",placeholder:"Enter azId",onChange:this.handleChange,onBlur:this.handleBlur("azId"),autoComplete:"azId",valid:""===n.azId,invalid:""!==n.azId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),y),c.a.createElement(m.g,null,n.azId)),g,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"instanceTypeId"},"Instance Type (*)"),c.a.createElement(m.j,{type:"select",name:"instanceTypeId",id:"instanceTypeId",value:t.instanceTypeId||"",placeholder:"Enter instanceType",onChange:this.handleChange,onBlur:this.handleBlur("instanceTypeId"),autoComplete:"instanceTypeId",valid:""===n.instanceTypeId,invalid:""!==n.instanceTypeId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),f),c.a.createElement(m.g,null,n.instanceTypeId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"env"},"Env (*)"),c.a.createElement(m.j,{type:"text",name:"env",id:"env",value:t.env||"",placeholder:"Enter env",onChange:this.handleChange,onBlur:this.handleBlur("env"),autoComplete:"env",valid:""===n.env,invalid:""!==n.env}),c.a.createElement(m.g,null,n.env)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Type (*)"),c.a.createElement(m.j,{type:"text",name:"type",id:"type",value:t.type||"",placeholder:"Enter type",onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===n.type,invalid:""!==n.type}),c.a.createElement(m.g,null,n.type)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"dbEngineVesion"},"DbEngine Vesion (*)"),c.a.createElement(m.j,{type:"text",name:"dbEngineVesion",id:"dbEngineVesion",value:t.dbEngineVesion||"",placeholder:"Enter dbEngineVesion",onChange:this.handleChange,onBlur:this.handleBlur("dbEngineVesion"),autoComplete:"dbEngineVesion",valid:""===n.dbEngineVesion,invalid:""!==n.dbEngineVesion}),c.a.createElement(m.g,null,n.dbEngineVesion)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"storageType"},"Storage Type (*)"),c.a.createElement(m.j,{type:"text",name:"storageType",id:"storageType",value:t.storageType||"",placeholder:"Enter storageType",onChange:this.handleChange,onBlur:this.handleBlur("storageType"),autoComplete:"storageType",valid:""===n.storageType,invalid:""!==n.storageType}),c.a.createElement(m.g,null,n.storageType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"dbInstanceIdentifier"},"DbInstance Identifier (*)"),c.a.createElement(m.j,{type:"text",name:"dbInstanceIdentifier",id:"dbInstanceIdentifier",value:t.dbInstanceIdentifier||"",placeholder:"Enter dbInstanceIdentifier",onChange:this.handleChange,onBlur:this.handleBlur("dbInstanceIdentifier"),autoComplete:"dbInstanceIdentifier",valid:""===n.dbInstanceIdentifier,invalid:""!==n.dbInstanceIdentifier}),c.a.createElement(m.g,null,n.dbInstanceIdentifier)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"masterUserName"},"Master User Name (*)"),c.a.createElement(m.j,{type:"text",name:"masterUserName",id:"masterUserName",value:t.masterUserName||"",placeholder:"Enter masterUserName",onChange:this.handleChange,onBlur:this.handleBlur("masterUserName"),autoComplete:"masterUserName",valid:""===n.masterUserName,invalid:""!==n.masterUserName}),c.a.createElement(m.g,null,n.masterUserName)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"masterPassword"},"Master Password (*)"),c.a.createElement(m.j,{type:"text",name:"masterPassword",id:"masterPassword",value:t.masterPassword||"",placeholder:"Enter masterPassword",onChange:this.handleChange,onBlur:this.handleBlur("masterPassword"),autoComplete:"masterPassword",valid:""===n.masterPassword,invalid:""!==n.masterPassword}),c.a.createElement(m.g,null,n.masterPassword)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"masterConfirmPassword"},"Master Confirm Password (*)"),c.a.createElement(m.j,{type:"text",name:"masterConfirmPassword",id:"masterConfirmPassword",value:t.masterConfirmPassword||"",placeholder:"Enter masterConfirmPassword",onChange:this.handleChange,onBlur:this.handleBlur("masterConfirmPassword"),autoComplete:"masterConfirmPassword",valid:""===n.masterConfirmPassword,invalid:""!==n.masterConfirmPassword}),c.a.createElement(m.g,null,n.masterConfirmPassword)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"alocatedStorage"},"Alocated Storage (*)"),c.a.createElement(m.j,{type:"number",name:"alocatedStorage",id:"alocatedStorage",value:t.alocatedStorage||"",placeholder:"Enter alocatedStorage",onChange:this.handleChange,onBlur:this.handleBlur("alocatedStorage"),autoComplete:"alocatedStorage",valid:""===n.alocatedStorage,invalid:""!==n.alocatedStorage}),c.a.createElement(m.g,null,n.alocatedStorage)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"provisionedIops"},"Provisioned Iops (*)"),c.a.createElement(m.j,{type:"number",name:"provisionedIops",id:"provisionedIops",value:t.provisionedIops||"",placeholder:"Enter provisionedIops",onChange:this.handleChange,onBlur:this.handleBlur("provisionedIops"),autoComplete:"provisionedIops",valid:""===n.provisionedIops,invalid:""!==n.provisionedIops}),c.a.createElement(m.g,null,n.provisionedIops)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/rdss"},"Cancel")))))}}]),t}(n.Component),Ne=Object(B.a)(Pe),Le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={efss:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/efss")).then(function(e){return e.json()}).then(function(t){return e.setState({efss:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/efss/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.efss).filter(function(e){return e.id!==a});n.setState({efss:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.efss;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="/referentiel/subnetgroups/"+t.subnetgroup.id,l=t.encryption?"Yes":"No",i=t.kms?t.kms.id:"-",o=t.encryption?t.encryptionType:"-",s="Provisioned"===t.throughputMode?t.provisionedIo:"-";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.performanceMode),c.a.createElement("td",null,t.throughputMode),c.a.createElement("td",null,s),c.a.createElement("td",null,l),c.a.createElement("td",null,o),c.a.createElement("td",null,i),c.a.createElement("td",null,t.kmsExterne),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement("a",{href:r},t.subnetgroup.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/efs/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/efss/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/efss/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Efs")),c.a.createElement("h3",null,"Efs"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Performance Mode"),c.a.createElement("th",{width:"5%"},"Throughput Mode"),c.a.createElement("th",{width:"5%"},"Provisioned IO"),c.a.createElement("th",{width:"5%"},"Encryption"),c.a.createElement("th",{width:"5%"},"Encryption Type"),c.a.createElement("th",{width:"5%"},"Kms"),c.a.createElement("th",{width:"5%"},"Kms Externe"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet Group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",performanceMode:"Default",throughputMode:"Bursting",provisionedIo:0,encryption:!1,encryptionType:"Kms",kmsId:"",kms:{},kmss:[],kmsExterne:"",touched:{name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,performanceMode:!1,throughputMode:!1,provisionedIo:!1,kmsId:!1,kmsExterne:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=21;break}return e.next=3,fetch("".concat(v,"/efss/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,performanceMode:!1,throughputMode:!1,provisionedIo:!1,kmsId:!1,kmsExterne:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.vpcs=e,c.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/vpcs/"+t.vpc.id+"/type/EFS/subnetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.subnetgroups=e,c.setState({item:t})});case 12:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,a.subnetgroupId=t.subnetgroup.id,t.kms&&(a.kmsId=t.kms.id),fetch("/referentiel/accounts/"+t.vpc.account.id+"/kmss").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.kmss=e,c.setState({item:t})}),this.setState({item:a}),e.next=24;break;case 21:(n={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",performanceMode:"Default",throughputMode:"Bursting",provisionedIo:0,encryption:!1,encryptionType:"Kms",kmsId:"",kms:{},kmss:[],kmsExterne:"",touched:{name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,performanceMode:!1,throughputMode:!1,provisionedIo:!1,kmsId:!1,kmsExterne:!1}}).touched={name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,performanceMode:!1,throughputMode:!1,provisionedIo:!1,kmsId:!1,kmsExterne:!1},this.setState({item:n});case 24:return e.next=26,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"encryption"===c&&(r.encryption=!!a.checked),"performanceMode"===c&&(r.performanceMode="Default"===n?"Default":"MaxIo"),"throughputMode"===c&&(r.throughputMode="Bursting"===n?"Bursting":"Provisioned"),"encryptionType"===c&&(r.encryptionType="Kms"===n?"Kms":"KmsExterne"),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.kmsId="",r.kms={},r.kmsss=[],r.subnetgroupId="",r.subnetgroup={},r.subnetgroups=[]),"vpcId"===c&&(fetch("/referentiel/vpcs/"+r.vpcId+"/type/EFS/subnetGroups").then(function(e){return e.json()}).then(function(e){r.subnetgroups=e,t.setState({item:r})}),fetch("/referentiel/accounts/"+r.accountId+"/kmss").then(function(e){return e.json()}).then(function(e){r.kmss=e,t.setState({item:r})}))}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetgroupId:!0,performanceMode:!0,throughputMode:!0,provisionedIo:!0,kmsId:!0,kmsExterne:!0},n=this.validate(a.name,a.vpcId,a.subnetgroupId,a.performanceMode,a.throughputMode,a.provisionedIo,a.kmsId,a.kmsExterne,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/efss",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.subnetgroup={id:a.subnetgroupId},"Bursting"===a.throughputMode&&(a.provisionedIo=0),a.encryption?"KmsExterne"===a.encryptionType?a.kms=null:(a.kmsExterne="",a.kms={id:a.kmsId}):(a.kms=null,a.kmsExterne=""),e.next=16,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/efss/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/efss",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 16:this.props.history.push(c);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o){var s={name:"",accountId:"",vpcId:"",subnetgroupId:"",performanceMode:"",throughputMode:"",provisionedIo:"",kmsId:"",kmsExterne:""};return this.state.item.touched.name&&0===e.length?(s.name="Name should not be null",s):this.state.item.touched.accountId&&0===o.length?(s.accountId="accountId should not be null",s):this.state.item.touched.vpcId&&0===t.length?(s.vpcId="Vpc should not be null",s):this.state.item.touched.subnetgroupId&&0===a.length?(s.subnetgroupId="Subnet group should not be null",s):this.state.item.touched.performanceMode&&0===n.length?(s.performanceMode="performanceMode should not be null",s):this.state.item.touched.throughputMode&&0===c.length?(s.throughputMode="throughputMode should not be null",s):"Provisioned"===this.state.item.throughputMode&&this.state.item.touched.provisionedIo&&(r<=0||r>1024)?(s.provisionedIo="Valid range is 1-1024 MiB/s",s):this.state.item.encryption&&"Kms"===this.state.item.encryptionType&&this.state.item.touched.kmsId&&0===l.length?(s.kmsId="kmsId should not be null",s):this.state.item.encryption&&"KmsExterne"===this.state.item.encryptionType&&this.state.item.touched.kmsExterne&&0===i.length?(s.kmsExterne="kmsExterne should not be null",s):s}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit efs":"Add efs"),a=this.validate(e.name,e.vpcId,e.subnetgroupId,e.performanceMode,e.throughputMode,e.provisionedIo,e.kmsId,e.kmsExterne,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=[];e.subnetgroups&&e.subnetgroups.length&&e.subnetgroups.map(function(e){s.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var u=e.subnetgroupId||"";e.subnetgroupId=u;var d="Provisioned"===e.throughputMode?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"provisionedIo"},"Provisioned Io (*)"),c.a.createElement(m.j,{type:"number",name:"provisionedIo",id:"provisionedIo",value:e.provisionedIo||"",placeholder:"Enter provisionedIo",onChange:this.handleChange,onBlur:this.handleBlur("provisionedIo"),autoComplete:"provisionedIo",valid:""===a.provisionedIo,invalid:""!==a.provisionedIo}),c.a.createElement(m.g,null,a.provisionedIo),c.a.createElement(m.i,null,"Valid range is 1-1024 MiB/s")):"",h=e.encryption?c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"performanceMode"}),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"encryptionType",id:"encryptionType",value:"Kms",checked:"Kms"===e.encryptionType,onChange:this.handleChange,onBlur:this.handleBlur("encryptionType"),autoComplete:"encryptionType",valid:""===a.encryptionType,invalid:""!==a.encryptionType})," ","Select KMS master key")),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"encryptionType",id:"encryptionType",value:"KmsExterne",checked:"KmsExterne"===e.encryptionType,onChange:this.handleChange,onBlur:this.handleBlur("encryptionType"),autoComplete:"encryptionType",valid:""===a.encryptionType,invalid:""!==a.encryptionType})," ","Enter a KMS key ARN from another account")),c.a.createElement(m.g,null,a.encryptionType)):"",v=e.encryption&&"KmsExterne"===e.encryptionType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"ARN/ID (*)"),c.a.createElement(m.j,{type:"text",name:"kmsExterne",id:"kmsExterne",value:e.kmsExterne||"",placeholder:"Enter kmsExterne",onChange:this.handleChange,onBlur:this.handleBlur("kmsExterne"),autoComplete:"kmsExterne",valid:""===a.kmsExterne,invalid:""!==a.kmsExterne}),c.a.createElement(m.g,null,a.kmsExterne)):"",g=[];e.kmss&&e.kmss.length&&e.kmss.map(function(e){g.push(c.a.createElement("option",{value:e.id},e.id," ",e.alias))});var f=e.kmsId||"";e.kmsId=f;var b=e.encryption&&"Kms"===e.encryptionType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"kmsId"},"Kms (*)"),c.a.createElement(m.j,{type:"select",name:"kmsId",id:"kmsId",value:f,onChange:this.handleChange,onBlur:this.handleBlur("kmsId"),valid:""===a.kmsId,invalid:""!==a.kmsId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),g),c.a.createElement(m.g,null,a.kmsId)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetgroupId"},"Subnet group (*)"),c.a.createElement(m.j,{type:"select",name:"subnetgroupId",id:"subnetgroupId",value:u,onChange:this.handleChange,onBlur:this.handleBlur("subnetgroupId"),valid:""===a.subnetgroupId,invalid:""!==a.subnetgroupId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.subnetgroupId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"performanceMode"},"Performance Mode(*)  "),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"performanceMode",id:"performanceMode",value:"Default",checked:"Default"===e.performanceMode,onChange:this.handleChange,onBlur:this.handleBlur("performanceMode"),autoComplete:"performanceMode",valid:""===a.performanceMode,invalid:""!==a.performanceMode})," ","General Purpose")),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"performanceMode",id:"performanceMode",value:"MaxIo",checked:"MaxIo"===e.performanceMode,onChange:this.handleChange,onBlur:this.handleBlur("performanceMode"),autoComplete:"performanceMode",valid:""===a.performanceMode,invalid:""!==a.performanceMode})," ","Max I/O")),c.a.createElement(m.g,null,a.performanceMode)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"throughputMode"},"Throughput Mode(*)  "),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"throughputMode",id:"throughputMode",value:"Bursting",checked:"Bursting"===e.throughputMode,onChange:this.handleChange,onBlur:this.handleBlur("throughputMode"),autoComplete:"throughputMode",valid:""===a.throughputMode,invalid:""!==a.throughputMode})," ","Bursting")),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"throughputMode",id:"throughputMode",value:"Provisioned",checked:"Provisioned"===e.throughputMode,onChange:this.handleChange,onBlur:this.handleBlur("throughputMode"),autoComplete:"throughputMode",valid:""===a.throughputMode,invalid:""!==a.throughputMode})," ","Provisioned")),c.a.createElement(m.g,null,a.throughputMode)),d,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encryption"},"Enable encryption of data at rest:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"encryption",id:"encryption",onChange:this.handleChange,onBlur:this.handleBlur("encryption"),checked:!0===e.encryption})),h,b,v,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/efss"},"Cancel")))))}}]),t}(n.Component),Me=Object(B.a)(ze),Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/efss/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/efss/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/efss/"+t.efs.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.efs.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/efs/"+t.efs.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.efs.id,t.id)}},"Delete"))))}),r="/efs/".concat(this.props.match.params.id,"/tags/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:"/efss"},"Efs"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagEfs"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Efs"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",efs:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/efss/").concat(this.props.match.params.ide));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",efs:{},touched:{key:!1,value:!1}}).efs=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/efs/"+a.efs.id+"/tags",a.efs={id:a.efs.id},e.next=12,fetch(a.id?"/referentiel/efss/"+a.efs.id+"/tags/"+a.id:"/referentiel/efss/"+a.efs.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/efs/"+t.efs.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"efsId"},"Efs: ",t.efs.name),c.a.createElement(m.j,{type:"text",name:"efsId",id:"efsId",value:t.efs.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Ue=Object(B.a)(Re),Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={elasticSearchs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/elasticSearchs")).then(function(e){return e.json()}).then(function(t){return e.setState({elasticSearchs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/elasticSearchs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.elasticSearchs).filter(function(e){return e.id!==a});n.setState({elasticSearchs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"remove2",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/elasticSearch/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.elasticSearchs).filter(function(e){return e.id!==t});a.setState({elasticSearchs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.elasticSearchs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a=t.vpc?"/referentiel/vpcs/"+t.vpc.id:"",n="/referentiel/accounts/"+t.account.id,r=t.subnetgroup?"/referentiel/subnetgroups/"+t.subnetgroup.id:"",l=t.subnetgroup?t.subnetgroup.name:"",i=t.vpc?c.a.createElement("a",{href:a},t.vpc.name):"",o=t.vpc?c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"):c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove2(t.id)}},"Delete"),s=t.prive?"Privtae VPC":"Public",u=t.enableDedicatedMaster?"Yes":"No",d=t.enableZoneAwareness?"Yes":"No",h=t.enableEncrypt?"Yes":"No",v=t.nodeToNodeEncryption?"Yes":"No",E={id:"",instanceType:""},g={id:"",instanceType:""};t.nodes&&t.nodes.length&&t.nodes.map(function(e){"instance"===e.type?(E.instanceCount=e.instanceCount,E.instanceType=e.instanceType.id):"master"===e.type&&(g.instanceCount=e.instanceCount,g.instanceType=e.instanceType.id)});var f=t.allowExplicitIndex?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,s),c.a.createElement("td",null,t.text),c.a.createElement("td",null,i),c.a.createElement("td",null,c.a.createElement("a",{href:r},l)),c.a.createElement("td",null,t.domainName),c.a.createElement("td",null,t.version),c.a.createElement("td",null,E.instanceCount),c.a.createElement("td",null,E.instanceType),c.a.createElement("td",null,u),c.a.createElement("td",null,g.instanceCount),c.a.createElement("td",null,g.instanceType),c.a.createElement("td",null,d),c.a.createElement("td",null,t.storageType),c.a.createElement("td",null,t.volumeType),c.a.createElement("td",null,t.volumeSize),c.a.createElement("td",null,t.provisionedIops),c.a.createElement("td",null,h),c.a.createElement("td",null,t.snapshotConfiguration," UTC"),c.a.createElement("td",null,f),c.a.createElement("td",null,t.cacheSize),c.a.createElement("td",null,t.maxClauseCount),c.a.createElement("td",null,v),c.a.createElement("td",null,t.accessPolicy),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/elasticSearchs/"+t.id},"Edit"),o)))}),r="".concat(v,"/elasticSearchs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add ElasticSearch")),c.a.createElement("h3",null,"ElasticSearch"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Private Vpc/ Public"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet Group"),c.a.createElement("th",{width:"5%"},"Domain Name"),c.a.createElement("th",{width:"5%"},"Version"),c.a.createElement("th",{width:"5%"},"Instance Count"),c.a.createElement("th",{width:"5%"},"Instance Type"),c.a.createElement("th",{width:"5%"},"Enable Dedicated Master"),c.a.createElement("th",{width:"5%"},"Dedicated Master InstanceType"),c.a.createElement("th",{width:"5%"},"Dedicated Master InstanceCount"),c.a.createElement("th",{width:"5%"},"Enable Zone Awareness"),c.a.createElement("th",{width:"5%"},"StorageType"),c.a.createElement("th",{width:"5%"},"VolumeType"),c.a.createElement("th",{width:"5%"},"VolumeSize"),c.a.createElement("th",{width:"5%"},"Provisioned Iops"),c.a.createElement("th",{width:"5%"},"Enable Encrypt"),c.a.createElement("th",{width:"5%"},"SnapshotConfiguration (UTC)"),c.a.createElement("th",{width:"5%"},"rest.action.multi.allow_explicit_index"),c.a.createElement("th",{width:"5%"},"indices.fielddata.cache.size"),c.a.createElement("th",{width:"5%"},"indices.query.bool.max_clause_count"),c.a.createElement("th",{width:"5%"},"NodeToNodeEncryption"),c.a.createElement("th",{width:"5%"},"Access Policy"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",prive:!0,domainName:"",version:"",instanceCount:"",instanceTypes:{},nodeInstance:{},nodeMaster:{},nodeInstanceId:"",nodeMasterId:"",enableDedicatedMaster:!1,dedicatedMasterInstanceCount:"",enableZoneAwareness:!1,storageType:"",volumeType:"",volumeSize:"",enableEncrypt:!1,snapshotConfiguration:"",nodeToNodeEncryption:!1,provisionedIops:"",allowExplicitIndex:!0,cacheSize:"",maxClauseCount:"",accessPolicy:"",touched:{name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,domainName:!1,version:!1,instanceCount:!1,dedicatedMasterInstanceCount:!1,storageType:!1,volumeType:!1,volumeSize:!1,snapshotConfiguration:!1,nodeInstanceId:!1,nodeMasterId:!1,provisionedIops:!1,accessPolicy:!1,enableZoneAwareness:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=23;break}return e.next=3,fetch("".concat(v,"/elasticSearchs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:if((t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,domainName:!1,version:!1,instanceCount:!1,dedicatedMasterInstanceCount:!1,storageType:!1,volumeType:!1,volumeSize:!1,snapshotConfiguration:!1,nodeInstanceId:!1,nodeMasterId:!1,provisionedIops:!1,accessPolicy:!1,enableZoneAwareness:!1},this.setState({item:t}),!t.prive){e.next=17;break}return e.next=11,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 11:return e.next=13,fetch("/referentiel/vpcs/"+t.vpc.id+"/type/ELK/subnetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetgroups=e,r.setState({item:t})});case 13:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.subnetgroupId=t.subnetgroup.id,this.setState({item:a});case 17:(n=Object(T.a)({},this.state.item)).accountId=t.account.id,n.nodes&&n.nodes.length&&n.nodes.map(function(e){"instance"===e.type?(n.instanceCount=e.instanceCount,n.nodeInstanceId=e.instanceType.id):"master"===e.type&&(n.dedicatedMasterInstanceCount=e.instanceCount,n.nodeMasterId=e.instanceType.id)}),this.setState({item:n}),e.next=26;break;case 23:(c={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",prive:!0,domainName:"",version:"",instanceCount:"",enableDedicatedMaster:!1,dedicatedMasterInstanceCount:"",enableZoneAwareness:!1,storageType:"",volumeType:"",volumeSize:"",enableEncrypt:!1,snapshotConfiguration:"",nodeToNodeEncryption:!1,instanceTypes:{},nodeInstance:{},nodeMaster:{},nodeInstanceId:"",nodeMasterId:"",provisionedIops:"",allowExplicitIndex:!0,accessPolicy:"",touched:{name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,domainName:!1,version:!1,instanceCount:!1,dedicatedMasterInstanceCount:!1,storageType:!1,volumeType:!1,volumeSize:!1,snapshotConfiguration:!1,nodeInstanceId:!1,nodeMasterId:!1,provisionedIops:!1,accessPolicy:!1,enableZoneAwareness:!1}}).touched={name:!1,accountId:!1,vpcId:!1,subnetgroupId:!1,domainName:!1,version:!1,instanceCount:!1,dedicatedMasterInstanceCount:!1,storageType:!1,volumeType:!1,volumeSize:!1,snapshotConfiguration:!1,nodeInstanceId:!1,nodeMasterId:!1,provisionedIops:!1,accessPolicy:!1,enableZoneAwareness:!1},this.setState({item:c});case 26:return e.next=28,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 28:return e.next=30,fetch("/referentiel/instanceTypes").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.instanceTypes=e,r.setState({item:t})});case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"enableDedicatedMaster"===c?r.enableDedicatedMaster=!!a.checked:"enableZoneAwareness"===c?r.enableZoneAwareness=!!a.checked:"enableEncrypt"===c?r.enableEncrypt=!!a.checked:"nodeToNodeEncryption"===c?r.nodeToNodeEncryption=!!a.checked:"accessType"===c?r.prive="prive"===n:"accountId"===c?(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetgroupId="",r.subnetgroup={},r.subnetgroups=[]):"vpcId"===c&&fetch("/referentiel/vpcs/"+r.vpcId+"/type/ELK/subnetGroups").then(function(e){return e.json()}).then(function(e){r.subnetgroups=e,t.setState({item:r})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetgroupId:!0,domainName:!0,version:!0,instanceCount:!0,dedicatedMasterInstanceCount:!0,storageType:!0,volumeType:!0,volumeSize:!0,snapshotConfiguration:!0,nodeInstanceId:!0,nodeMasterId:!0,provisionedIops:!0,accessPolicy:!0,enableZoneAwareness:!0},n=this.validate(a.name,a.vpcId,a.subnetgroupId,a.domainName,a.version,a.instanceCount,a.dedicatedMasterInstanceCount,a.storageType,a.volumeType,a.volumeSize,a.snapshotConfiguration,a.nodeInstanceId,a.nodeMasterId,a.enableDedicatedMaster,a.provisionedIops,a.accessPolicy,a.enableZoneAwareness,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:if(c="/referentiel/elasticSearchs",a.account={id:a.accountId},a.prive?(a.vpc={id:a.vpcId},a.subnetgroup={id:a.subnetgroupId}):(a.vpc=null,a.subnetgroup=null),a.nodeInstance={type:"instance",instanceCount:a.instanceCount,instanceType:{id:a.nodeInstanceId}},a.enableDedicatedMaster?a.nodeMaster={type:"master",instanceCount:a.dedicatedMasterInstanceCount,instanceType:{id:a.nodeMasterId}}:a.nodeMaster=null,a.nodes=[a.nodeInstance,a.nodeMaster],!a.prive){e.next=19;break}return e.next=17,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/elasticSearchs/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/elasticSearchs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 17:e.next=21;break;case 19:return e.next=21,fetch(a.id?"/referentiel/elasticSearch/"+a.id:"/referentiel/elasticSearch",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 21:this.props.history.push(c);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s,u,d,h,m,p,v,E,g){var f={name:"",accountId:"",vpcId:"",subnetgroupId:"",domainName:"",version:"",instanceCount:"",dedicatedMasterInstanceCount:"",storageType:"",volumeType:"",volumeSize:"",snapshotConfiguration:"",nodeInstanceId:"",nodeMasterId:"",provisionedIops:"",accessPolicy:"",enableZoneAwareness:""};return this.state.item.touched.name&&0===e.length?(f.name="Name should not be null",f):this.state.item.touched.accountId&&0===g.length?(f.accountId="accountId should not be null",f):this.state.item.prive&&this.state.item.touched.vpcId&&0===t.length?(f.vpcId="Vpc should not be null",f):this.state.item.prive&&this.state.item.touched.subnetgroupId&&0===a.length?(f.subnetgroupId="Subnet group should not be null",f):this.state.item.touched.domainName&&0===n.length?(f.domainName="The name must start with a lowercase letter and must be between 3 and 28 characters. Valid characters are a-z (lowercase only), 0-9, and - (hyphen)",f):this.state.item.touched.version&&0===c.length?(f.version="version should not be null",f):this.state.item.touched.instanceCount&&(0===r.length||r<0)?(f.instanceCount="instanceCount should not be null or less than 0",f):this.state.item.touched.nodeInstanceId&&0===d.length?(f.nodeInstanceId="nodeInstanceId should not be null",f):m&&this.state.item.touched.nodeMasterId&&0===h.length?(f.nodeMasterId="nodeMasterId should not be null",f):this.state.item.touched.enableZoneAwareness&&E&&(""==r||r%2!=0)?(f.enableZoneAwareness="Zone awareness requires the instance count to be an even number",f):m&&this.state.item.touched.dedicatedMasterInstanceCount&&0===l.length?(f.dedicatedMasterInstanceCount="dedicatedMasterInstanceCount should not be null",f):this.state.item.touched.storageType&&0===i.length?(f.storageType="storageType should not be null",f):this.state.item.touched.volumeType&&0===o.length?(f.volumeType="volumeType should not be null",f):this.state.item.touched.volumeSize&&(0===s.length||s<10||s>512)?(f.volumeSize="volumeSize should not be between 10 and 512",f):"ISSD"===o&&this.state.item.touched.provisionedIops&&(0===p.length||p<1e3||p>16e3)?(f.provisionedIops="provisionedIops should not be between 1000 and 16000",f):this.state.item.touched.snapshotConfiguration&&0===u.length?(f.snapshotConfiguration="snapshotConfiguration should not be null",f):this.state.item.touched.accessPolicy&&0===v.length?(f.accessPolicy="accessPolicy should not be null",f):f}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit elasticSearch":"Add elasticSearch"),a=this.validate(e.name,e.vpcId,e.subnetgroupId,e.domainName,e.version,e.instanceCount,e.dedicatedMasterInstanceCount,e.storageType,e.volumeType,e.volumeSize,e.snapshotConfiguration,e.nodeInstanceId,e.nodeMasterId,e.enableDedicatedMaster,e.provisionedIops,e.accessPolicy,e.enableZoneAwareness,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=[];e.subnetgroups&&e.subnetgroups.length&&e.subnetgroups.map(function(e){s.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var u=e.subnetgroupId||"";e.subnetgroupId=u;var d=[];e.instanceTypes&&e.instanceTypes.length&&e.instanceTypes.map(function(e){d.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.family," ",e.type))});var h=e.nodeInstanceId||"";e.nodeInstanceId=h;var v=e.nodeMasterId||"";e.nodeMasterId=v;var g=e.prive,f=g?c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"vpcId",sm:2},"Vpcs (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId))):"",b=g?c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"subnetgroupId",sm:2},"Subnet group (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"subnetgroupId",id:"subnetgroupId",value:u,onChange:this.handleChange,onBlur:this.handleBlur("subnetgroupId"),valid:""===a.subnetgroupId,invalid:""!==a.subnetgroupId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.subnetgroupId))):"",y=e.enableDedicatedMaster?c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"nodeMasterId",sm:2},"Instance Type (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"nodeMasterId",id:"nodeMasterId",value:v,onChange:this.handleChange,onBlur:this.handleBlur("nodeMasterId"),valid:""===a.nodeMasterId,invalid:""!==a.nodeMasterId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,a.nodeMasterId))):"",I=e.enableDedicatedMaster?c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"dedicatedMasterInstanceCount",sm:2},"Dedicated Master InstanceCount (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"dedicatedMasterInstanceCount",id:"dedicatedMasterInstanceCount",value:e.dedicatedMasterInstanceCount||"",placeholder:"Enter dedicatedMasterInstanceCount",onChange:this.handleChange,onBlur:this.handleBlur("dedicatedMasterInstanceCount"),autoComplete:"dedicatedMasterInstanceCount",valid:""===a.dedicatedMasterInstanceCount,invalid:""!==a.dedicatedMasterInstanceCount},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"3"},"3"),c.a.createElement("option",{value:"5"},"5")),c.a.createElement(m.g,null,a.dedicatedMasterInstanceCount))):"",j="ISSD"===e.volumeType?c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"provisionedIops",sm:2},"Provisioned Iops (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"number",name:"provisionedIops",id:"provisionedIops",value:e.provisionedIops||"",placeholder:"Enter provisionedIops",onChange:this.handleChange,onBlur:this.handleBlur("provisionedIops"),valid:""===a.provisionedIops,invalid:""!==a.provisionedIops}),c.a.createElement(m.g,null,a.provisionedIops),c.a.createElement(m.i,null,"The provisioned IOPS value must be an integer between 1000 and 16000."))):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"name",sm:2},"Name (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"accountId",sm:2},"Account (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId))),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Access Type (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"prive",checked:!0===g,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","VPC access (Recommended)")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"public",checked:!1===g,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","Public access")),c.a.createElement(m.g,null,a.accessType)),f,b,c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"domainName",sm:2},"Domain Name (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"text",name:"domainName",id:"domainName",value:e.domainName||"",placeholder:"Enter domainName",onChange:this.handleChange,onBlur:this.handleBlur("domainName"),autoComplete:"domainName",valid:""===a.domainName,invalid:""!==a.domainName}),c.a.createElement(m.i,null,"The name must start with a lowercase letter and must be between 3 and 28 characters. Valid characters are a-z (lowercase only), 0-9, and - (hyphen)."),c.a.createElement(m.g,null,a.domainName))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"version",sm:2},"Version (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"version",id:"version",value:e.version||"",placeholder:"Enter version",onChange:this.handleChange,onBlur:this.handleBlur("version"),autoComplete:"version",valid:""===a.version,invalid:""!==a.version},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"6.3"},"6.3"),c.a.createElement("option",{value:"6.2"},"6.2"),c.a.createElement("option",{value:"6.0"},"6.0")),c.a.createElement(m.g,null,a.version))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"instanceCount",sm:2},"Instance Count (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"number",name:"instanceCount",id:"instanceCount",value:e.instanceCount||"",placeholder:"Enter instanceCount",onChange:this.handleChange,onBlur:this.handleBlur("instanceCount"),autoComplete:"instanceCount",valid:""===a.instanceCount,invalid:""!==a.instanceCount}),c.a.createElement(m.g,null,a.instanceCount))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"nodeInstanceId",sm:2},"Instance Type (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"nodeInstanceId",id:"nodeInstanceId",value:h,onChange:this.handleChange,onBlur:this.handleBlur("nodeInstanceId"),valid:""===a.nodeInstanceId,invalid:""!==a.nodeInstanceId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,a.nodeInstanceId))),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"enableDedicatedMaster"},"Enable Dedicated Master:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"enableDedicatedMaster",id:"enableDedicatedMaster",onChange:this.handleChange,onBlur:this.handleBlur("enableDedicatedMaster"),checked:!0===e.enableDedicatedMaster})),y,I,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"enableZoneAwareness"},"Enable Zone Awareness:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"enableZoneAwareness",id:"enableZoneAwareness",onChange:this.handleChange,onBlur:this.handleBlur("enableZoneAwareness"),checked:!0===e.enableZoneAwareness,valid:""===a.enableZoneAwareness,invalid:""!==a.enableZoneAwareness}),c.a.createElement(m.i,null,"Zone awareness requires the instance count to be an even number."),c.a.createElement(m.g,null,a.enableZoneAwareness)),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"storageType",sm:2},"Storage Type (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"storageType",id:"storageType",value:e.storageType||"",placeholder:"Enter storageType",onChange:this.handleChange,onBlur:this.handleBlur("storageType"),autoComplete:"storageType",valid:""===a.storageType,invalid:""!==a.storageType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"EBS"},"EBS")),c.a.createElement(m.g,null,a.storageType))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"volumeType",sm:2},"Volume Type (*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"volumeType",id:"volumeType",value:e.volumeType||"",placeholder:"Enter volumeType",onChange:this.handleChange,onBlur:this.handleBlur("volumeType"),autoComplete:"volumeType",valid:""===a.volumeType,invalid:""!==a.volumeType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"SSD"},"General Purpose (SSD)"),c.a.createElement("option",{value:"ISSD"},"Provisioned Iops (SSD)"),c.a.createElement("option",{value:"MAG"},"Magnetics")),c.a.createElement(m.g,null,a.volumeType))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"volumeSize",sm:2},"Volume Size "),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"number",name:"volumeSize",id:"volumeSize",value:e.volumeSize||"",placeholder:"Enter volumeSize",onChange:this.handleChange,onBlur:this.handleBlur("volumeSize"),autoComplete:"volumeSize",valid:""===a.volumeSize,invalid:""!==a.volumeSize}),c.a.createElement(m.i,null,"Volume size must be an integer between 10 and 512(*)"),c.a.createElement(m.g,null,a.volumeSize))),j,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"enableEncrypt"},"Enable Encrypt:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"enableEncrypt",id:"enableEncrypt",onChange:this.handleChange,onBlur:this.handleBlur("enableEncrypt"),checked:!0===e.enableEncrypt})),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"snapshotConfiguration",sm:2},"Snapshot Configuration : Automated snapshot start hour(*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"select",name:"snapshotConfiguration",id:"snapshotConfiguration",value:e.snapshotConfiguration||"",placeholder:"Enter snapshotConfiguration",onChange:this.handleChange,onBlur:this.handleBlur("snapshotConfiguration"),autoComplete:"snapshotConfiguration",valid:""===a.snapshotConfiguration,invalid:""!==a.snapshotConfiguration},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"00:00"},"00:00 UTC (default)"),c.a.createElement("option",{value:"01:00"},"01:00 UTC"),c.a.createElement("option",{value:"02:00"},"02:00 UTC"),c.a.createElement("option",{value:"03:00"},"03:00 UTC"),c.a.createElement("option",{value:"04:00"},"04:00 UTC"),c.a.createElement("option",{value:"05:00"},"05:00 UTC"),c.a.createElement("option",{value:"06:00"},"06:00 UTC"),c.a.createElement("option",{value:"07:00"},"07:00 UTC"),c.a.createElement("option",{value:"08:00"},"08:00 UTC"),c.a.createElement("option",{value:"09:00"},"09:00 UTC"),c.a.createElement("option",{value:"10:00"},"10:00 UTC"),c.a.createElement("option",{value:"11:00"},"11:00 UTC"),c.a.createElement("option",{value:"12:00"},"12:00 UTC"),c.a.createElement("option",{value:"13:00"},"13:00 UTC"),c.a.createElement("option",{value:"14:00"},"14:00 UTC"),c.a.createElement("option",{value:"15:00"},"15:00 UTC"),c.a.createElement("option",{value:"16:00"},"16:00 UTC"),c.a.createElement("option",{value:"17:00"},"17:00 UTC"),c.a.createElement("option",{value:"18:00"},"18:00 UTC"),c.a.createElement("option",{value:"19:00"},"19:00 UTC"),c.a.createElement("option",{value:"20:00"},"20:00 UTC"),c.a.createElement("option",{value:"21:00"},"21:00 UTC"),c.a.createElement("option",{value:"22:00"},"22:00 UTC"),c.a.createElement("option",{value:"23:00"},"23:00 UTC")),c.a.createElement(m.g,null,a.snapshotConfiguration))),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"nodeToNodeEncryption"},"Node To Node Encryption:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"nodeToNodeEncryption",id:"nodeToNodeEncryption",onChange:this.handleChange,onBlur:this.handleBlur("nodeToNodeEncryption"),checked:!0===e.nodeToNodeEncryption})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"l"},"Advanced Options")),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"allowExplicitIndex",sm:3},"rest.action.multi.allow_explicit_index"),c.a.createElement(m.c,{sm:9},c.a.createElement(m.j,{type:"select",name:"allowExplicitIndex",id:"allowExplicitIndex",value:e.allowExplicitIndex||"",placeholder:"Enter allowExplicitIndex",onChange:this.handleChange,onBlur:this.handleBlur("allowExplicitIndex"),autoComplete:"allowExplicitIndex"},c.a.createElement("option",{value:"true"},"TRUE"),c.a.createElement("option",{value:"false"},"FALSE")),c.a.createElement(m.i,null,'If you want to configure access to domain sub-resources, such as specific indices, you must set this property to "false". Setting this property to "false" prevents users from bypassing access control for sub-resources. The default value for this setting is "true".'))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"cacheSize",sm:3},"indices.fielddata.cache.size"),c.a.createElement(m.c,{sm:9},c.a.createElement(m.j,{type:"number",name:"cacheSize",id:"cacheSize",value:e.cacheSize||"",onChange:this.handleChange,autoComplete:"cacheSize"}),c.a.createElement(m.i,null,"Specifies the percentage of heap space that is allocated to fielddata. By default, this setting is unbounded."))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"maxClauseCount",sm:3},"indices.query.bool.max_clause_count"),c.a.createElement(m.c,{sm:9},c.a.createElement(m.j,{type:"number",name:"maxClauseCount",id:"maxClauseCount",value:e.maxClauseCount||"",onChange:this.handleChange,autoComplete:"maxClauseCount"}),c.a.createElement(m.i,null,"Specifies the maximum number of allowed boolean clauses in a query. By default, this setting is 1024."))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"accessPolicy",sm:2},"Access Policy(*)"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"textarea",name:"accessPolicy",id:"accessPolicy",value:e.accessPolicy||"",placeholder:"Enter accessPolicy",onChange:this.handleChange,onBlur:this.handleBlur("accessPolicy"),autoComplete:"accessPolicy",valid:""===a.accessPolicy,invalid:""!==a.accessPolicy}),c.a.createElement(m.g,null,a.accessPolicy))),c.a.createElement(m.h,{row:!0},c.a.createElement(m.k,{for:"text",sm:2},"Description"),c.a.createElement(m.c,{sm:10},c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"}))),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/elasticSearchs"},"Cancel")))))}}]),t}(n.Component),Je=Object(B.a)(Ke),Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={elasticCaches:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/elasticCaches")).then(function(e){return e.json()}).then(function(t){return e.setState({elasticCaches:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/elasticCaches/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.elasticCaches).filter(function(e){return e.id!==a});n.setState({elasticCaches:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.elasticCaches;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="/referentiel/subnetgroups/"+t.subnetgroup.id,l="";t.sgs.map(function(e){l=l+"|"+e.id+":"+e.name});return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement("a",{href:r},t.subnetgroup.name)),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/elasticCaches/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/elasticCaches/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add ElasticCache")),c.a.createElement("h3",null,"ElasticCache"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet Group"),c.a.createElement("th",{width:"5%"},"Security Group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accounts:{},accountId:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",sgss:{},sgs:[],sgId:[],touched:{name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("sgId"===e){for(var l=0,i=c.length;l<i;l++)n.sgss&&n.sgss.length&&n.sgss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.sgs=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=22;break}return e.next=3,fetch("".concat(v,"/elasticCaches/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1},this.setState({item:t}),fetch("/referentiel/vpcs/"+t.vpc.id+"/type/ECC/subnetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetgroups=e,r.setState({item:t})}),e.next=11,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 11:fetch("/referentiel/vpcs/"+t.vpc.id+"/sgs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.sgss=e,r.setState({item:t})}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,a.vpcId=t.vpc.id,a.subnetgroupId=t.subnetgroup.id,n=[],a.sgs.map(function(e){n.push({id:e.id})}),a.sgs=n,this.setState({item:a}),e.next=25;break;case 22:(c={name:"",text:"",account:{},accounts:{},accountId:"",vpc:{},vpcs:{},vpcId:"",subnetgroup:{},subnetgroups:{},subnetgroupId:"",sgss:{},sgs:[],sgId:[],touched:{name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1}}).touched={name:!1,vpcId:!1,subnetgroupId:!1,accountId:!1,sgId:!1},this.setState({item:c});case 25:return e.next=27,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetgroupId="",r.subnetgroups=[],r.sgId="",r.sgss=[]),"vpcId"===c&&(fetch("/referentiel/vpcs/"+r.vpcId+"/type/ECC/subnetGroups").then(function(e){return e.json()}).then(function(e){r.subnetgroups=e,t.setState({item:r})}),fetch("/referentiel/vpcs/"+r.vpcId+"/sgs").then(function(e){return e.json()}).then(function(e){r.sgss=e,t.setState({item:r})}))}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,vpcId:!0,subnetgroupId:!0,accountId:!1,sgId:!0},n=this.validate(a.name,a.vpcId,a.subnetgroupId,a.accountId,a.sgId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/elasticCaches",a.account={id:a.accountId},a.vpc={id:a.vpcId},a.subnetgroup={id:a.subnetgroupId},r=[],a.sgs&&a.sgs.length&&(a.sgs.map(function(e){r.push({id:e.id})}),a.sg=r),e.next=16,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/elasticCaches/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/elasticCaches",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 16:this.props.history.push(c);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",vpcId:"",subnetgroupId:"",accountId:"",sgId:""};return this.state.item.touched.name&&0===e.length?(r.name="Name should not be null",r):this.state.item.touched.accountId&&0===n.length?(r.accountId="accountId should not be null",r):this.state.item.touched.vpcId&&0===t.length?(r.vpcId="Vpc should not be null",r):this.state.item.touched.subnetgroupId&&0===a.length?(r.subnetgroupId="Subnet group should not be null",r):this.state.item.touched.sgId&&c&&this.state.item.sgs.length<=0?(r.sgId="sgId should not be null",r):r}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit elasticCache":"Add elasticCache"),n=this.validate(t.name,t.vpcId,t.subnetgroupId,t.accountId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){o.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var s=t.vpcId||"";t.vpcId=s;var u=[];t.subnetgroups&&t.subnetgroups.length&&t.subnetgroups.map(function(e){u.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var d=t.subnetgroupId||"";t.subnetgroupId=d;var h=[],v=[];t.sgss&&t.sgss.length&&t.sgss.map(function(e){t.sgs&&t.sgs.length&&t.sgs.map(function(t){e.id==t.id&&v.push({value:e.id,label:e.name})}),h.push({value:e.id,label:e.name})});var g=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Security Group (*)"),c.a.createElement(De.a,{name:"sgId",id:"sgId",placeholder:"Enter Security group",isMulti:!0,isSearchable:!0,value:v,onChange:function(t){return e.onOptionChange("sgId",t)},onBlur:this.handleBlur("sgId"),options:h}),c.a.createElement(m.g,null,n.sgId));return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetgroupId"},"Subnet group (*)"),c.a.createElement(m.j,{type:"select",name:"subnetgroupId",id:"subnetgroupId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("subnetgroupId"),valid:""===n.subnetgroupId,invalid:""!==n.subnetgroupId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,n.subnetgroupId)),g,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/elasticCaches"},"Cancel")))))}}]),t}(n.Component),Fe=Object(B.a)(Ze),He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={nacls:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/nacls")).then(function(e){return e.json()}).then(function(t){return e.setState({nacls:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/nacls/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.nacls).filter(function(e){return e.id!==a});n.setState({nacls:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.nacls;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.def?"Yes":"No",l="";return t.subnets&&t.subnets.length&&t.subnets.map(function(e){l=l+e.id+":"+e.name+":"+e.az.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,r),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/nacl/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/nacl/"+t.id+"/rules"},"Rules"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/nacls/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/nacls/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Nacl")),c.a.createElement("h3",null,"Nacl"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Default"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet association"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",def:!1,subnets:[],subnetss:{},subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=21;break}return e.next=3,fetch("".concat(v,"/nacls/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,vpcId:!1,accountId:!1,subnetId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetss=e,r.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 12:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,n=[],a.subnets.map(function(e){n.push({id:e.id})}),a.subnets=n,this.setState({item:a}),e.next=24;break;case 21:(c={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",def:!1,subnets:[],subnetss:{},subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1},this.setState({item:c});case 24:return e.next=26,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accessType"===c&&(r.def="default"===n),"subnetId"===c){for(var l=e.target.options,i=[],o=0,s=l.length;o<s;o++)l[o].selected&&r.subnetss&&r.subnetss.length&&r.subnetss.map(function(e){e.id==l[o].value&&i.push({id:e.id})});r.subnets=i,this.setState({item:r})}"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetId="",r.subnetss=[],r.subnets=[]),"vpcId"===c&&fetch("/referentiel/vpcs/"+r.vpcId+"/subnets").then(function(e){return e.json()}).then(function(e){r.subnetss=e,t.setState({item:r})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetId:!0},n=this.validate(a.name,a.vpcId,a.subnetId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/nacls",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.subnets&&a.subnets.length&&a.subnets.map(function(e){}),e.next=14,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/nacls/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/nacls",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 14:this.props.history.push(c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n){var c={name:"",accountId:"",vpcId:"",subnetId:""};return this.state.item.touched.name&&0===e.length?(c.name="Name should not be null",c):this.state.item.touched.accountId&&0===n.length?(c.accountId="accountId should not be null",c):this.state.item.touched.vpcId&&0===t.length?(c.vpcId="Vpc should not be null",c):this.state.item.touched.subnetId&&a&&0===this.state.item.subnets.length?(c.subnetId="Add subnets to cover at least 2 availability zones.",c):c}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit nacl":"Add nacl"),a=this.validate(e.name,e.vpcId,e.subnetId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=e.def,u=[];e.subnetss&&e.subnetss.length&&e.subnetss.map(function(t){var a=!1;e.subnets&&e.subnets.length&&e.subnets.map(function(e){t.id==e.id&&(a=!0)}),u.push(c.a.createElement("option",{value:t.id,selected:a},t.id," ",t.name," ",t.az.name))});var d=e.subnetId||{};return e.subnetId=d,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnets (*)"),c.a.createElement(m.j,{type:"select",name:"subnetId",id:"subnetId",onChange:this.handleChange,onBlur:this.handleBlur("subnetId"),multiple:!0,valid:""===a.subnetId,invalid:""!==a.subnetId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,a.subnetId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Default (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"default",checked:!0===s,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","Yes")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"nodefault",checked:!1===s,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","No")),c.a.createElement(m.g,null,a.accessType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/nacls"},"Cancel")))))}}]),t}(n.Component),qe=Object(B.a)(We),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={rules:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/nacls/").concat(this.props.match.params.id,"/rules")).then(function(e){return e.json()}).then(function(t){return e.setState({rules:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/nacls/").concat(t,"/rules/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.rules).filter(function(e){return e.id!==a});n.setState({rules:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.rules;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/nacls/"+t.nacl.id,n=t.allow?"Allow":"Deny";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.number),c.a.createElement("td",null,t.ruleType),c.a.createElement("td",null,t.protocol),c.a.createElement("td",null,t.portRange),c.a.createElement("td",null,t.cidr),c.a.createElement("td",null,n),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.nacl.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/nacl/"+t.nacl.id+"/rules/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.nacl.id,t.id)}},"Delete"))))}),r="".concat(v,"/nacl/").concat(this.props.match.params.id,"/rules/new"),l="".concat(v,"/nacls");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Nacl"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Rule")),c.a.createElement("h3",null,"Rule"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"IN/OUT"),c.a.createElement("th",{width:"5%"},"Rule"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Protocol"),c.a.createElement("th",{width:"5%"},"PortRange"),c.a.createElement("th",{width:"5%"},"Source/Destination"),c.a.createElement("th",{width:"5%"},"Allow/Deny"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Nacl"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),$e=a(23),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={type:"",number:"",ruleType:"",protocol:"",portRange:"",cidr:"",allow:"",text:"",nacl:{},touched:{type:!1,number:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1,allow:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/rules/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={type:!1,number:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1,allow:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/nacls/").concat(this.props.match.params.idn));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={number:"",ruleType:"",protocol:"",portRange:"",cidr:"",allow:"",type:"",text:"",nacl:{},touched:{type:!1,number:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1,allow:!1}}).nacl=a,n.touched={type:!1,number:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1,allow:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={type:!0,number:!0,ruleType:!0,protocol:!0,portRange:!0,cidr:!0,allow:!0},n=this.validate(a.type,a.number,a.ruleType,a.protocol,a.portRange,a.cidr,a.allow),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/nacl/"+a.nacl.id+"/rules",a.nacl={id:a.nacl.id},e.next=12,fetch(a.id?"/referentiel/nacls/"+a.nacl.id+"/rules/"+a.id:"/referentiel/nacls/"+a.nacl.id+"/rules",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l){var i={type:"",number:"",ruleType:"",protocol:"",portRange:"",cidr:"",allow:""};return this.state.item.touched.type&&0===e.length?(i.type="Type should not be null",i):this.state.item.touched.number&&0===t.length?(i.number="Rule should not be null",i):this.state.item.touched.ruleType&&0===a.length?(i.ruleType="Type should not be null",i):this.state.item.touched.protocol&&0===n.length?(i.protocol="Protocol should not be null",i):this.state.item.touched.portRange&&0===c.length?(i.portRange="Portrange should not be null",i):this.state.item.touched.cidr&&!$e({exact:!0}).test(r)?(i.cidr="Cidr should  be a cidr format",i):this.state.item.touched.allow&&0===l.length?(i.allow="Deny/Allow should not be null",i):i}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit rule":"Add rule"),n=this.validate(t.type,t.number,t.ruleType,t.protocol,t.portRange,t.cidr,t.allow),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/nacl/"+t.nacl.id+"/rules";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"naclId"},"Nacl: ",t.nacl.name),c.a.createElement(m.j,{type:"text",name:"naclId",id:"naclId",value:t.nacl.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"In/Out (*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:t.type||"",onChange:this.handleChange,onBlur:this.handleBlur("type"),valid:""===n.type,invalid:""!==n.type},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"INBOUND"},"INBOUND"),c.a.createElement("option",{value:"OUTBOUND"},"OUTBOUND")),c.a.createElement(m.g,null,n.type)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"number"},"Rule (*)"),c.a.createElement(m.j,{type:"text",name:"number",id:"number",value:t.number||"",placeholder:"Enter rule",onChange:this.handleChange,onBlur:this.handleBlur("number"),autoComplete:"number",valid:""===n.number,invalid:""!==n.number}),c.a.createElement(m.g,null,n.number)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ruleType"},"Type (*)"),c.a.createElement(m.j,{type:"select",name:"ruleType",id:"ruleType",value:t.ruleType||"",onChange:this.handleChange,onBlur:this.handleBlur("ruleType"),valid:""===n.ruleType,invalid:""!==n.ruleType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"ruleType1"},"ruleType1"),c.a.createElement("option",{value:"ruleType2"},"ruleType2")),c.a.createElement(m.g,null,n.ruleType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"protocol"},"Protocol (*)"),c.a.createElement(m.j,{type:"select",name:"protocol",id:"protocol",value:t.protocol||"",onChange:this.handleChange,onBlur:this.handleBlur("protocol"),valid:""===n.protocol,invalid:""!==n.protocol},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"protocol1"},"protocol1"),c.a.createElement("option",{value:"protocol2"},"protocol2")),c.a.createElement(m.g,null,n.protocol)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"portRange"},"Port Range (*)"),c.a.createElement(m.j,{type:"text",name:"portRange",id:"portRange",value:t.portRange||"",placeholder:"Enter portRange",onChange:this.handleChange,onBlur:this.handleBlur("portRange"),autoComplete:"portRange",valid:""===n.portRange,invalid:""!==n.portRange}),c.a.createElement(m.g,null,n.portRange)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cidr"},"Source/Destination (*)"),c.a.createElement(m.j,{type:"text",name:"cidr",id:"cidr",value:t.cidr||"",placeholder:"Enter cidr",onChange:this.handleChange,onBlur:this.handleBlur("cidr"),autoComplete:"cidr",valid:""===n.cidr,invalid:""!==n.cidr}),c.a.createElement(m.g,null,n.cidr)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"allow"},"Deny/Allow (*)"),c.a.createElement(m.j,{type:"select",name:"allow",id:"allow",value:t.allow||"",onChange:this.handleChange,onBlur:this.handleBlur("allow"),valid:""===n.allow,invalid:""!==n.allow},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"Deny"},"Deny"),c.a.createElement("option",{value:"Allow"},"Allow")),c.a.createElement(m.g,null,n.allow)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Xe=Object(B.a)(Qe),et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/nacls/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/nacls/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/nacls/"+t.nacl.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.nacl.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/nacl/"+t.nacl.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.nacl.id,t.id)}},"Delete"))))}),r="".concat(v,"/nacl/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/nacls");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Nacl"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"Tag"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Nacl"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),tt=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",nacl:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/nacls/").concat(this.props.match.params.idn));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",nacl:{},touched:{key:!1,value:!1}}).nacl=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/nacl/"+a.nacl.id+"/tags",a.nacl={id:a.nacl.id},e.next=12,fetch(a.id?"/referentiel/nacls/"+a.nacl.id+"/tags/"+a.id:"/referentiel/nacls/"+a.nacl.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/nacl/"+t.nacl.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"naclId"},"Nacl: ",t.nacl.name),c.a.createElement(m.j,{type:"text",name:"naclId",id:"naclId",value:t.nacl.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),at=Object(B.a)(tt),nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={routetables:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/routeTables")).then(function(e){return e.json()}).then(function(t){return e.setState({routetables:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/routeTables/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.routetables).filter(function(e){return e.id!==a});n.setState({routetables:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.routetables;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.def?"Yes":"No",l="";return t.subnets&&t.subnets.length&&t.subnets.map(function(e){l=l+e.id+":"+e.name+":"+e.az.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,r),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/routetable/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/routetable/"+t.id+"/routes"},"Routes"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/routetables/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/routetables/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add RouteTable")),c.a.createElement("h3",null,"RouteTable"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Main"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet association"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",def:!1,subnets:[],subnetss:{},subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=21;break}return e.next=3,fetch("".concat(v,"/routeTables/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetss=e,r.setState({item:t})});case 12:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,n=[],a.subnets.map(function(e){n.push({id:e.id})}),a.subnets=n,this.setState({item:a}),e.next=24;break;case 21:(c={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",def:!1,subnets:[],subnetss:{},subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1},this.setState({item:c});case 24:return e.next=26,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accessType"===c&&(r.def="default"===n),"subnetId"===c){for(var l=e.target.options,i=[],o=0,s=l.length;o<s;o++)l[o].selected&&r.subnetss&&r.subnetss.length&&r.subnetss.map(function(e){e.id==l[o].value&&i.push({id:e.id})});r.subnets=i,this.setState({item:r})}"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetId="",r.subnets=[],r.subnetss=[]),"vpcId"===c&&fetch("/referentiel/vpcs/"+r.vpcId+"/subnets").then(function(e){return e.json()}).then(function(e){r.subnetss=e,t.setState({item:r})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetId:!0},n=this.validate(a.name,a.vpcId,a.subnetId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/routetables",a.vpc={id:a.vpcId},a.account={id:a.accountId},e.next=13,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/routeTables/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/routeTables",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n){var c={name:"",accountId:"",vpcId:"",subnetId:""};return this.state.item.touched.name&&0===e.length?(c.name="Name should not be null",c):this.state.item.touched.accountId&&0===n.length?(c.accountId="accountId should not be null",c):this.state.item.touched.vpcId&&0===t.length?(c.vpcId="Vpc should not be null",c):this.state.item.touched.subnetId&&a&&0===this.state.item.subnets.length?(c.subnetId="Add subnets to cover at least 2 availability zones.",c):c}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Route Table":"Add Route Table"),a=this.validate(e.name,e.vpcId,e.subnetId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=e.def,u=[];e.subnetss&&e.subnetss.length&&e.subnetss.map(function(t){var a=!1;e.subnets&&e.subnets.length&&e.subnets.map(function(e){t.id==e.id&&(a=!0)}),u.push(c.a.createElement("option",{key:t.id,value:t.id,selected:a},t.id," ",t.name," ",t.az.name))});var d=e.subnetId||{};return e.subnetId=d,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnets (*)"),c.a.createElement(m.j,{type:"select",name:"subnetId",id:"subnetId",onChange:this.handleChange,onBlur:this.handleBlur("subnetId"),multiple:!0,valid:""===a.subnetId,invalid:""!==a.subnetId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,a.subnetId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Main (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"default",checked:!0===s,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","Yes")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"nodefault",checked:!1===s,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","No")),c.a.createElement(m.g,null,a.accessType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/routetables"},"Cancel")))))}}]),t}(n.Component),rt=Object(B.a)(ct),lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={routes:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/routetables/").concat(this.props.match.params.id,"/routes")).then(function(e){return e.json()}).then(function(t){return e.setState({routes:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/routetables/").concat(t,"/routes/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.routes).filter(function(e){return e.id!==a});n.setState({routes:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.routes;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/routetables/"+t.routeTable.id,n=t.propagation?"Yes":"No",r=t.peering?t.peering.id+"|"+t.peering.name:"",l=t.endPoint?t.endPoint.id+"|"+t.endPoint.name:"";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.destination),c.a.createElement("td",null,t.targetType),c.a.createElement("td",null,t.target),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,n),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.routeTable.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/routetable/"+t.routeTable.id+"/routes/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.routeTable.id,t.id)}},"Delete"))))}),r="".concat(v,"/routetable/").concat(this.props.match.params.id,"/routes/new"),l="".concat(v,"/routetables");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Route table"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Route")),c.a.createElement("h3",null,"Route"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Destination"),c.a.createElement("th",{width:"5%"},"Target Type"),c.a.createElement("th",{width:"5%"},"Target"),c.a.createElement("th",{width:"5%"},"Peering"),c.a.createElement("th",{width:"5%"},"End Point"),c.a.createElement("th",{width:"5%"},"Propagated"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Route Table"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),it=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={destination:"",propagation:"",text:"",targetType:"L",peering:{},peerings:[],peeringId:"",endPoint:{},endPoints:[],endPointId:"",target:"Local",routeTable:{},touched:{destination:!1,propagation:!1,target:!1,peeringId:!1,endPointId:!1,targetType:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=14;break}return e.next=3,fetch("".concat(v,"/routes/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={destination:!1,propagation:!1,target:!1,peeringId:!1,endPointId:!1,targetType:!1},this.setState({item:t}),a=Object(T.a)({},this.state.item),t.peering&&(a.peeringId=t.peering.id),t.endPoint&&(a.endPointId=t.endPoint.id),this.setState({item:a}),e.next=23;break;case 14:return e.next=16,fetch("".concat(v,"/routeTables/").concat(this.props.match.params.idr));case 16:return e.next=18,e.sent.json();case 18:n=e.sent,(c={destination:"",propagation:"",text:"",target:"Local",targetType:"L",peering:{},peerings:[],peeringId:"",endPoint:{},endPoints:[],endPointId:"",routeTable:{},touched:{destination:!1,propagation:!1,target:!1,peeringId:!1,endPointId:!1,targetType:!1}}).routeTable=n,c.touched={destination:!1,propagation:!1,target:!1,peeringId:!1,endPointId:!1,targetType:!1},this.setState({item:c});case 23:return r=Object(T.a)({},this.state.item),e.next=26,fetch("/referentiel/vpcs/"+r.routeTable.vpc.id+"/endPoints").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.endPoints=e,l.setState({item:t})});case 26:return e.next=28,fetch("/referentiel/vpcs/"+r.routeTable.vpc.id+"/peerings").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.peerings=e,l.setState({item:t})});case 28:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c}),"propagation"===n&&(c.propagation="prop"===a)}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={destination:!0,propagation:!0,target:!0,peeringId:!0,endPointId:!0,targetType:!0},n=this.validate(a.destination,a.peeringId,a.endPointId,a.target,a.propgation,a.targetType),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/routetable/"+a.routeTable.id+"/routes",a.routeTable={id:a.routeTable.id},"L"===a.targetType?(a.peering=null,a.endPoint=null):"P"===a.targetType?(a.target="",a.endPoint=null,a.peering={id:a.peeringId}):"E"===a.targetType&&(a.peering=null,a.target="",a.endPoint={id:a.endPointId}),e.next=13,fetch(a.id?"/referentiel/routetables/"+a.routeTable.id+"/routes/"+a.id:"/referentiel/routetables/"+a.routeTable.id+"/routes",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={destination:"",propgation:"",target:"",peeringId:"",endPointId:"",targetType:""};return this.state.item.touched.destination&&0===e.length?(l.destination="Destination should not be null",l):this.state.item.touched.targetType&&0===r.length?(l.targetType="targetType should not be null",l):"L"===r&&this.state.item.touched.target&&0===n.length?(l.target="Target should not be null",l):"P"===r&&this.state.item.touched.peeringId&&0===t.length?(l.peeringId="peeringId should not be null",l):"E"===r&&this.state.item.touched.endPointId&&0===a.length?(l.endPointId="endPointId should not be null",l):this.state.item.touched.propgation&&0===c.length?(l.propgation="Propgation should not be null",l):l}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit route":"Add route"),n=this.validate(t.destination,t.peeringId,t.endPointId,t.target,t.propgation,t.targetType),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/routetable/"+t.routeTable.id+"/routes",i=t.propagation;e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"routetableId"},"Nacl: ",t.routeTable.name),c.a.createElement(m.j,{type:"text",name:"routetableId",id:"routetableId",value:t.routeTable.id||"",disabled:"true"}));var o=[];t.peerings&&t.peerings.length&&t.peerings.map(function(e){o.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var s=t.peeringId||"";t.peeringId=s;var u=[];t.endPoints&&t.endPoints.length&&t.endPoints.map(function(e){u.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var d=t.endPointId||"";t.endPointId=d,t.target="Local";var h="L"===t.targetType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"target"},"Target (*):"),c.a.createElement(m.j,{type:"text",name:"target",id:"target",value:t.target||"",placeholder:"Enter target",disabled:"true",onChange:this.handleChange,onBlur:this.handleBlur("target"),autoComplete:"target",valid:""===n.target,invalid:""!==n.target}),c.a.createElement(m.g,null,n.target)):"",v="P"===t.targetType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"peeringId"},"Peering (*)"),c.a.createElement(m.j,{type:"select",name:"peeringId",id:"peeringId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("peeringId"),valid:""===n.peeringId,invalid:""!==n.peeringId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.peeringId)):"",g="E"===t.targetType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"endPointId"},"End Point (*)"),c.a.createElement(m.j,{type:"select",name:"endPointId",id:"endPointId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("endPointId"),valid:""===n.endPointId,invalid:""!==n.endPointId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,n.endPointId)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"destination"},"Destination (*)"),c.a.createElement(m.j,{type:"text",name:"destination",id:"destination",value:t.destination||"",placeholder:"Enter destination",onChange:this.handleChange,onBlur:this.handleBlur("destination"),autoComplete:"destination",valid:""===n.destination,invalid:""!==n.destination}),c.a.createElement(m.g,null,n.destination)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetType"},"Target Type (*)"),c.a.createElement(m.j,{type:"select",name:"targetType",id:"targetType",value:t.targetType||"",onChange:this.handleChange,onBlur:this.handleBlur("targetType"),valid:""===n.targetType,invalid:""!==n.targetType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"L"},"Local"),c.a.createElement("option",{value:"P"},"Peering"),c.a.createElement("option",{value:"E"},"EndPoint")),c.a.createElement(m.g,null,n.targetType)),h,v,g,c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"propagation"},"Propagated (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"propagation",id:"propagation",value:"prop",checked:!0===i,onChange:this.handleChange,onBlur:this.handleBlur("propagation"),autoComplete:"propagation",valid:""===n.propagation,invalid:""!==n.propagation})," ","Yes")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"propagation",id:"propagation",value:"noprop",checked:!1===i,onChange:this.handleChange,onBlur:this.handleBlur("propagation"),autoComplete:"propagation",valid:""===n.propagation,invalid:""!==n.propagation})," ","No")),c.a.createElement(m.g,null,n.accessType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),ot=Object(B.a)(it),st=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/routeTables/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/routeTables/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/routetables/"+t.routeTable.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.routeTable.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/routetable/"+t.routeTable.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.routeTable.id,t.id)}},"Delete"))))}),r="".concat(v,"/routetable/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/routetables");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Route Table"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add TagRouteTable")),c.a.createElement("h3",null,"TagRouteTable"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Nacl"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ut=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",routeTable:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/routeTables/").concat(this.props.match.params.idr));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",routeTable:{},touched:{key:!1,value:!1}}).routeTable=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/routetable/"+a.routeTable.id+"/tags",a.routeTable={id:a.routeTable.id},e.next=12,fetch(a.id?"/referentiel/routeTables/"+a.routeTable.id+"/tags/"+a.id:"/referentiel/routeTables/"+a.routeTable.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/routetable/"+t.routeTable.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"routeTableId"},"Nacl: ",t.routeTable.name),c.a.createElement(m.j,{type:"text",name:"routeTableId",id:"routeTableId",value:t.routeTable.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),dt=Object(B.a)(ut),ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={targetgroups:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/targetGroups")).then(function(e){return e.json()}).then(function(t){return e.setState({targetgroups:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/targetGroups/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.targetgroups).filter(function(e){return e.id!==a});n.setState({targetgroups:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.targetgroups;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/accounts/"+t.account.id,r=t.ahportoverride?"Yes":"No",l=t.listener?t.listener.id+"["+t.listener.lb.name+"]":"",i=!!t.listener,o=t.stickySession?"Enabled":"Disabled";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.protocole),c.a.createElement("td",null,t.port),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.hcprotocole),c.a.createElement("td",null,t.hcpath),c.a.createElement("td",null,r),c.a.createElement("td",null,t.ahport),c.a.createElement("td",null,t.ahhealthythreshold),c.a.createElement("td",null,t.ahuhealthythreshold),c.a.createElement("td",null,t.ahtimeout),c.a.createElement("td",null,t.ahtinterval),c.a.createElement("td",null,t.ahsucesscode),c.a.createElement("td",null,t.deregistrationDelay),c.a.createElement("td",null,t.shortStartDuration),c.a.createElement("td",null,o),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,l),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/targetgroup/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/targetgroup/"+t.id+"/targets"},"Targets"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/targetgroups/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)},disabled:i},"Delete"))))}),r="".concat(v,"/targetgroups/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add TargetGroup")),c.a.createElement("h3",null,"TargetGroup"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Protocole"),c.a.createElement("th",{width:"5%"},"Port"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Protocole"),c.a.createElement("th",{width:"5%"},"Path"),c.a.createElement("th",{width:"5%"},"Portocole Override"),c.a.createElement("th",{width:"5%"},"Port Override"),c.a.createElement("th",{width:"5%"},"Healthy Threshold"),c.a.createElement("th",{width:"5%"},"Unhealthy Threshold"),c.a.createElement("th",{width:"5%"},"Timeout"),c.a.createElement("th",{width:"5%"},"Interval"),c.a.createElement("th",{width:"5%"},"Sucess Code"),c.a.createElement("th",{width:"5%"},"DDY"),c.a.createElement("th",{width:"5%"},"SSD"),c.a.createElement("th",{width:"5%"},"sticky"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Listener"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",protocole:"",port:"",type:"",hcprotocole:"",hcpath:"",ahport:"",ahhealthythreshold:"",ahuhealthythreshold:"",ahtimeout:"",ahtinterval:"",ahsucesscode:"",ahportoverride:!1,deregistrationDelay:"",shortStartDuration:"",stickySession:!1,touched:{name:!1,accountId:!1,vpcId:!1,protocole:!1,port:!1,type:!1,hcprotocole:!1,hcpath:!1,ahport:!1,ahhealthythreshold:!1,ahuhealthythreshold:!1,ahtimeout:!1,ahtinterval:!1,ahsucesscode:!1,deregistrationDelay:!1,shortStartDuration:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=16;break}return e.next=3,fetch("".concat(v,"/targetGroups/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,protocole:!1,port:!1,type:!1,hcprotocole:!1,hcpath:!1,ahport:!1,ahhealthythreshold:!1,ahuhealthythreshold:!1,ahtimeout:!1,ahtinterval:!1,ahsucesscode:!1,deregistrationDelay:!1,shortStartDuration:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.vpcs=e,c.setState({item:t})});case 10:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,this.setState({item:a}),e.next=19;break;case 16:(n={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",protocole:"",port:"",type:"",hcprotocole:"",hcpath:"",ahport:"",ahhealthythreshold:"",ahuhealthythreshold:"",ahtimeout:"",ahtinterval:"",ahsucesscode:"",ahportoverride:!1,deregistrationDelay:"",shortStartDuration:"",stickySession:!1,touched:{name:!1,accountId:!1,vpcId:!1,protocole:!1,port:!1,type:!1,hcprotocole:!1,hcpath:!1,ahport:!1,ahhealthythreshold:!1,ahuhealthythreshold:!1,ahtimeout:!1,ahtinterval:!1,ahsucesscode:!1,deregistrationDelay:!1,shortStartDuration:!1}}).touched={name:!1,accountId:!1,vpcId:!1,protocole:!1,port:!1,type:!1,hcprotocole:!1,hcpath:!1,ahport:!1,ahhealthythreshold:!1,ahuhealthythreshold:!1,ahtimeout:!1,ahtinterval:!1,ahsucesscode:!1,deregistrationDelay:!1,shortStartDuration:!1},this.setState({item:n});case 19:return e.next=21,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accessType"===c&&(r.ahportoverride="override"===n),"stickySession"===c&&(r.stickySession=!!a.checked),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="")}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,protocole:!0,port:!0,type:!0,hcprotocole:!0,hcpath:!0,ahport:!0,ahhealthythreshold:!0,ahuhealthythreshold:!0,ahtimeout:!0,ahtinterval:!0,ahsucesscode:!0,deregistrationDelay:!0,shortStartDuration:!0},n=this.validate(a.name,a.vpcId,a.protocole,a.port,a.type,a.hcprotocole,a.hcpath,a.ahport,a.ahhealthythreshold,a.ahuhealthythreshold,a.ahtimeout,a.ahtinterval,a.ahsucesscode,a.ahportoverride,a.deregistrationDelay,a.shortStartDuration,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/targetgroups",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.ahportoverride||(a.ahport=a.port),a.listener&&(a.listener={id:a.listener.id}),e.next=15,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/targetGroups/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/targetGroups",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s,u,d,h,m,p,v,E){var g={name:"",accountId:"",vpcId:"",protocole:"",port:"",type:"",hcprotocole:"",hcpath:"",ahport:"",ahhealthythreshold:"",ahuhealthythreshold:"",ahtimeout:"",ahtinterval:"",ahsucesscode:"",deregistrationDelay:"",shortStartDuration:""};return this.state.item.touched.name&&0===e.length?(g.name="Name should not be null",g):this.state.item.touched.accountId&&0===E.length?(g.accountId="accountId should not be null",g):this.state.item.touched.vpcId&&0===t.length?(g.vpcId="Vpc should not be null",g):this.state.item.touched.port&&0===n.length?(g.port="port should not be null",g):this.state.item.touched.protocole&&0===a.length?(g.protocole="protocole should not be null",g):this.state.item.touched.type&&0===c.length?(g.type="type should not be null",g):this.state.item.touched.hcprotocole&&0===r.length?(g.hcprotocole="protocole should not be null",g):this.state.item.touched.hcpath&&0===l.length?(g.hcpath="path should not be null",g):m&&this.state.item.touched.ahport&&0===i.length?(g.ahport="port should not be null",g):this.state.item.touched.ahhealthythreshold&&0===o.length?(g.ahhealthythreshold="healthy threshold should not be null",g):this.state.item.touched.ahuhealthythreshold&&0===s.length?(g.ahuhealthythreshold="unhealthy threshold should not be null",g):this.state.item.touched.ahtimeout&&0===u.length?(g.ahtimeout="timeout should not be null",g):this.state.item.touched.ahtinterval&&0===d.length?(g.ahtinterval="interval should not be null",g):this.state.item.touched.ahsucesscode&&0===h.length?(g.ahsucesscode="sucess code should not be null",g):this.state.item.touched.deregistrationDelay&&0===p.length?(g.deregistrationDelay="deregistrationDelay should not be null",g):this.state.item.touched.shortStartDuration&&0===v.length?(g.shortStartDuration="shortStartDuration should not be null",g):g}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Target Group":"Add Target Group"),a=this.validate(e.name,e.vpcId,e.protocole,e.port,e.type,e.hcprotocole,e.hcpath,e.ahport,e.ahhealthythreshold,e.ahuhealthythreshold,e.ahtimeout,e.ahtinterval,e.ahsucesscode,e.ahportoverride,e.deregistrationDelay,e.shortStartDuration,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=!!e.listener,u=e.ahportoverride,d=u?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahport"},"Port (*)"),c.a.createElement(m.j,{type:"number",name:"ahport",id:"ahport",value:e.ahport||"",placeholder:"Enter Port",onChange:this.handleChange,onBlur:this.handleBlur("ahport"),autoComplete:"ahport",valid:""===a.ahport,invalid:""!==a.ahport}),c.a.createElement(m.g,null,a.ahport)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"protocole"},"Protocole (*)"),c.a.createElement(m.j,{type:"select",name:"protocole",id:"protocole",value:e.protocole||"",disabled:s,onChange:this.handleChange,onBlur:this.handleBlur("protocole"),valid:""===a.protocole,invalid:""!==a.protocole},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"HTTP"},"HTTP"),c.a.createElement("option",{value:"HTTPS"},"HTTPS"),c.a.createElement("option",{value:"TCP"},"TCP")),c.a.createElement(m.g,null,a.protocole)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"port"},"Port (*)"),c.a.createElement(m.j,{type:"number",name:"port",id:"port",value:e.port||"",placeholder:"Enter port",disabled:s,onChange:this.handleChange,onBlur:this.handleBlur("port"),autoComplete:"port",valid:""===a.port,invalid:""!==a.port}),c.a.createElement(m.g,null,a.port)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Target type (*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:e.type||"",onChange:this.handleChange,onBlur:this.handleBlur("type"),valid:""===a.type,invalid:""!==a.type},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"instance"},"Instance")),c.a.createElement(m.g,null,a.type)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.k,{for:""},"Health check settings"),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"hcprotocole"},"Protocole (*)"),c.a.createElement(m.j,{type:"select",name:"hcprotocole",id:"hcprotocole",value:e.hcprotocole||"",onChange:this.handleChange,onBlur:this.handleBlur("hcprotocole"),valid:""===a.hcprotocole,invalid:""!==a.hcprotocole},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"HTTP"},"HTTP"),c.a.createElement("option",{value:"HTTPS"},"HTTPS")),c.a.createElement(m.g,null,a.hcprotocole)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"hcpath"},"Path (*)"),c.a.createElement(m.j,{type:"text",name:"hcpath",id:"hcpath",value:e.hcpath||"",placeholder:"Enter Path",onChange:this.handleChange,onBlur:this.handleBlur("hcpath"),autoComplete:"hcpath",valid:""===a.hcpath,invalid:""!==a.hcpath}),c.a.createElement(m.g,null,a.hcpath)),c.a.createElement(m.k,{for:""},"Advanced health check settings"),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Port(*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"nooverride",checked:!1===u,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","traffic port")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"override",checked:!0===u,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===a.accessType,invalid:""!==a.accessType})," ","override")),c.a.createElement(m.g,null,a.accessType)),d,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahhealthythreshold"},"Healthy threshold (*)"),c.a.createElement(m.j,{type:"number",name:"ahhealthythreshold",id:"ahhealthythreshold",value:e.ahhealthythreshold||"",placeholder:"Enter Healthy threshold",onChange:this.handleChange,onBlur:this.handleBlur("ahhealthythreshold"),autoComplete:"ahhealthythreshold",valid:""===a.ahhealthythreshold,invalid:""!==a.ahhealthythreshold}),c.a.createElement(m.g,null,a.ahhealthythreshold)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahuhealthythreshold"},"Unhealthy threshold (*)"),c.a.createElement(m.j,{type:"number",name:"ahuhealthythreshold",id:"ahuhealthythreshold",value:e.ahuhealthythreshold||"",placeholder:"Enter Unhealthy threshold",onChange:this.handleChange,onBlur:this.handleBlur("ahuhealthythreshold"),autoComplete:"ahuhealthythreshold",valid:""===a.ahuhealthythreshold,invalid:""!==a.ahuhealthythreshold}),c.a.createElement(m.g,null,a.ahuhealthythreshold)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahtinterval"},"Interval (*)"),c.a.createElement(m.j,{type:"number",name:"ahtinterval",id:"ahtinterval",value:e.ahtinterval||"",placeholder:"Enter Interval",onChange:this.handleChange,onBlur:this.handleBlur("ahtinterval"),autoComplete:"ahtinterval",valid:""===a.ahtinterval,invalid:""!==a.ahtinterval}),c.a.createElement(m.g,null,a.ahtinterval)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahtimeout"},"Timeout (*)"),c.a.createElement(m.j,{type:"number",name:"ahtimeout",id:"ahtimeout",value:e.ahtimeout||"",placeholder:"Enter Timeout",onChange:this.handleChange,onBlur:this.handleBlur("ahtimeout"),autoComplete:"ahtimeout",valid:""===a.ahtimeout,invalid:""!==a.ahtimeout}),c.a.createElement(m.g,null,a.ahtimeout)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ahsucesscode"},"Sucess codes (*)"),c.a.createElement(m.j,{type:"text",name:"ahsucesscode",id:"ahsucesscode",value:e.ahsucesscode||"",placeholder:"Enter Sucess code",onChange:this.handleChange,onBlur:this.handleBlur("ahsucesscode"),autoComplete:"ahsucesscode",valid:""===a.ahsucesscode,invalid:""!==a.ahsucesscode}),c.a.createElement(m.g,null,a.ahsucesscode)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"deregistrationDelay"},"deregistrationDelay (*)"),c.a.createElement(m.j,{type:"number",name:"deregistrationDelay",id:"deregistrationDelay",value:e.deregistrationDelay||"",placeholder:"Enter deregistrationDelay",onChange:this.handleChange,onBlur:this.handleBlur("deregistrationDelay"),autoComplete:"deregistrationDelay",valid:""===a.deregistrationDelay,invalid:""!==a.deregistrationDelay}),c.a.createElement(m.g,null,a.deregistrationDelay)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"shortStartDuration"},"shortStartDuration (*)"),c.a.createElement(m.j,{type:"number",name:"shortStartDuration",id:"shortStartDuration",value:e.shortStartDuration||"",placeholder:"Enter shortStartDuration",onChange:this.handleChange,onBlur:this.handleBlur("shortStartDuration"),autoComplete:"shortStartDuration",valid:""===a.shortStartDuration,invalid:""!==a.shortStartDuration}),c.a.createElement(m.g,null,a.shortStartDuration)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"stickySession"},"stickySession:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"stickySession",id:"stickySession",onChange:this.handleChange,onBlur:this.handleBlur("stickySession"),checked:!0===e.stickySession})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/targetgroups"},"Cancel")))))}}]),t}(n.Component),pt=Object(B.a)(mt),vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={targets:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/targetGroups/").concat(this.props.match.params.id,"/targets")).then(function(e){return e.json()}).then(function(t){return e.setState({targets:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/targetGroups/").concat(t,"/targets/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.targets).filter(function(e){return e.id!==a});n.setState({targets:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.targets;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/targetgroups/"+t.targetGroup.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.ecc.id," ",t.ecc.name),c.a.createElement("td",null,t.port),c.a.createElement("td",null,t.ecc.subnet.az.name),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.targetGroup.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/targetgroup/"+t.targetGroup.id+"/targets/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.targetGroup.id,t.id)}},"Delete"))))}),r="/targetgroup/".concat(this.props.match.params.id,"/targets/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:"/targetgroups"},"Target Group"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Target")),c.a.createElement("h3",null,"Target"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Ec2"),c.a.createElement("th",{width:"5%"},"Port"),c.a.createElement("th",{width:"5%"},"Az"),c.a.createElement("th",{width:"5%"},"Target Group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Et=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={port:"",targetGroup:{},eccId:"",ecc:{},eccs:[],touched:{port:!1,eccId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/targets/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={port:!1,eccId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).eccId=t.ecc.id,this.setState({item:a}),e.next=22;break;case 13:return e.next=15,fetch("".concat(v,"/targetGroups/").concat(this.props.match.params.idt));case 15:return e.next=17,e.sent.json();case 17:n=e.sent,(c={port:"",targetGroup:{},eccId:"",ecc:{},eccs:[],touched:{port:!1,eccId:!1}}).targetGroup=n,c.touched={port:!1,eccId:!1},this.setState({item:c});case 22:return r=Object(T.a)({},this.state.item),e.next=25,fetch("/referentiel/vpcs/"+r.targetGroup.vpc.id+"/eccs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.eccs=e,l.setState({item:t})});case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={port:!0,eccId:!0},n=this.validate(a.port,a.eccId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return a.port=Number(a.port),a.ecc={id:a.eccId},c="/referentiel/targetgroup/"+a.targetGroup.id+"/targets",a.targetGroup={id:a.targetGroup.id},e.next=14,fetch(a.id?"/referentiel/targetGroups/"+a.targetGroup.id+"/targets/"+a.id:"/referentiel/targetGroups/"+a.targetGroup.id+"/targets",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 14:this.props.history.push(c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={port:"",eccId:""};return this.state.item.touched.eccId&&0===t.length?(a.eccId="Ec2 should not be null",a):this.state.item.touched.port&&0===e.length?(a.port="port should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit target":"Add target"),n=this.validate(t.port,t.eccId),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/targetgroup/"+t.targetGroup.id+"/targets";t.propagation;e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetgroupId"},"Target Group: ",t.targetGroup.name),c.a.createElement(m.j,{type:"text",name:"targetgroupId",id:"targetgroupId",value:t.targetGroup.id||"",disabled:"true"}));var i=[];t.eccs&&t.eccs.length&&t.eccs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name," ",e.subnet.az.name," "))});var o=t.eccId||"";return t.eccId=o,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"eccId"},"Ec2 (*)"),c.a.createElement(m.j,{type:"select",name:"eccId",id:"eccId",value:t.eccId||"",placeholder:"Enter ecc",onChange:this.handleChange,onBlur:this.handleBlur("eccId"),autoComplete:"eccId",valid:""===n.eccId,invalid:""!==n.eccId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,n.eccId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"port"},"Port (*)"),c.a.createElement(m.j,{type:"number",name:"port",id:"port",value:t.port||"",placeholder:"Enter port",onChange:this.handleChange,onBlur:this.handleBlur("port"),autoComplete:"port",valid:""===n.port,invalid:""!==n.port}),c.a.createElement(m.g,null,n.port)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),gt=Object(B.a)(Et),ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/targetGroups/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/targetGroups/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/targetgroups/"+t.targetGroup.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.targetGroup.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/targetgroup/"+t.targetGroup.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.targetGroup.id,t.id)}},"Delete"))))}),r="".concat(v,"/targetgroup/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/targetgroups");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Target Group"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add TagTargetGroup")),c.a.createElement("h3",null,"TagTargetGroup"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Target Group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),bt=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",targetGroup:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/targetGroups/").concat(this.props.match.params.idr));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",targetGroup:{},touched:{key:!1,value:!1}}).targetGroup=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/targetgroup/"+a.targetGroup.id+"/tags",a.targetGroup={id:a.targetGroup.id},e.next=12,fetch(a.id?"/referentiel/targetGroups/"+a.targetGroup.id+"/tags/"+a.id:"/referentiel/targetGroups/"+a.targetGroup.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/targetgroup/"+t.targetGroup.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetGroupId"},"Nacl: ",t.targetGroup.name),c.a.createElement(m.j,{type:"text",name:"targetGroupId",id:"targetGroupId",value:t.targetGroup.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),yt=Object(B.a)(bt),It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={lbs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/lbs")).then(function(e){return e.json()}).then(function(t){return e.setState({lbs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/lbs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.lbs).filter(function(e){return e.id!==a});n.setState({lbs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.lbs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.scheme?"internal":"internet-facing",l="ipv6"===t.ipType?"dualstack":t.ipType,i=t.deletionProtection?"Enabled":"Disabled",o=t.crossZoneLoadBalancing?"Enabled":"Disabled",s=t.http2?"Enabled":"Disabled",u=t.accessLogs?"Enabled":"Disabled",d="",h=(t.subnets.map(function(e){d=d+"|"+e.id+":"+e.name}),"");t.sgs.map(function(e){h=h+"|"+e.id+":"+e.name});return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,r),c.a.createElement("td",null,t.type),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,t.idleTimeout),c.a.createElement("td",null,s),c.a.createElement("td",null,u),c.a.createElement("td",null,t.connectionDraining),c.a.createElement("td",null,d),c.a.createElement("td",null,h),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/lb/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/lb/"+t.id+"/listeners"},"Listeners"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/lbs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/lbs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Lb")),c.a.createElement("h3",null,"Lb"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Scheme"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"IP address type"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Deletion Protection"),c.a.createElement("th",{width:"5%"},"Cross-Zone Load Balancing"),c.a.createElement("th",{width:"5%"},"Idle timeout"),c.a.createElement("th",{width:"5%"},"HTTP/2"),c.a.createElement("th",{width:"5%"},"Access logs Disabled"),c.a.createElement("th",{width:"5%"},"Connection Draining"),c.a.createElement("th",{width:"5%"},"Subnets"),c.a.createElement("th",{width:"5%"},"Security Group"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",account:{},accounts:{},accountId:"",vpc:{},vpcs:{},vpcId:"",type:"",ipType:"",scheme:!0,subnetss:{},subnets:[],subnetId:[],sgss:{},sgs:[],sgId:[],touched:{name:!1,accountId:!1,vpcId:!1,type:!1,ipType:!1,subnetId:!1,sgId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("sgId"===e){for(var l=0,i=c.length;l<i;l++)n.sgss&&n.sgss.length&&n.sgss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.sgs=r}else if("subnetId"===e){for(l=0,i=c.length;l<i;l++)n.subnetss&&n.subnetss.length&&n.subnetss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.subnets=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=27;break}return e.next=3,fetch("".concat(v,"/lbs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,type:!1,ipType:!1,subnetId:!1,sgId:!1},this.setState({item:t}),{},e.next=11,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 11:return e.next=13,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.subnetss=e,r.setState({item:t})});case 13:return e.next=15,fetch("/referentiel/vpcs/"+t.vpc.id+"/sgs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.sgss=e,r.setState({item:t})});case 15:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,n=[],a.subnets.map(function(e){n.push({id:e.id})}),a.subnets=n,n=[],a.sgs.map(function(e){n.push({id:e.id})}),a.sgs=n,this.setState({item:a}),e.next=30;break;case 27:(c={name:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",type:"",ipType:"",scheme:!0,subnetss:{},subnets:[],subnetId:[],sgss:{},sgs:[],sgId:[],touched:{name:!1,accountId:!1,vpcId:!1,type:!1,ipType:!1,subnetId:!1,sgId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,type:!1,ipType:!1,subnetId:!1,sgId:!1},this.setState({item:c});case 30:return e.next=32,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,c=a.value,r=Object(T.a)({},this.state.item);if(r[n]=c,this.setState({item:r}),"accessType"===n)r.scheme="internal"===c;else if("deletionProtection"===n)r.deletionProtection=!!a.checked;else if("crossZoneLoadBalancing"===n)r.crossZoneLoadBalancing=!!a.checked;else if("http2"===n)r.http2=!!a.checked;else if("accessLogs"===n)r.accessLogs=!!a.checked;else if("accountId"===n)fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.sgsId="",r.sgs=[],r.sgss=[],r.subnetId="",r.subnets=[],r.subnetss=[];else if("vpcId"===n){fetch("/referentiel/vpcs/"+r.vpcId+"/subnets").then(function(e){return e.json()}).then(function(e){r.subnetss=e,t.setState({item:r})}),fetch("/referentiel/vpcs/"+r.vpcId+"/sgs").then(function(e){return e.json()}).then(function(e){r.sgss=e,t.setState({item:r})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,type:!0,ipType:!0,subnetId:!0,sgId:!0},n=this.validate(a.name,a.vpcId,a.type,a.scheme,a.ipType,a.subnetId,a.subnets,a.sgId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/lbs",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.scheme&&(a.ipType="ipv4"),"ALB"!==a.type&&(a.sgs=[]),e.next=15,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/lbs/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/lbs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o){var s={name:"",accountId:"",vpcId:"",type:"",ipType:"",subnetId:"",sgId:""};return this.state.item.touched.name&&0===e.length?(s.name="Name should not be null",s):this.state.item.touched.accountId&&0===o.length?(s.accountId="Vpc should not be null",s):this.state.item.touched.vpcId&&0===t.length?(s.vpcId="Vpc should not be null",s):this.state.item.touched.type&&0===a.length?(s.type="type should not be null",s):!n&&this.state.item.touched.ipType&&0===c.length?(s.ipType="Ip type should not be null",s):this.state.item.touched.subnetId&&r&&"ALB"===a&&l.length<=1?(s.subnetId="Add subnets to cover at least 2 availability zones.",s):this.state.item.touched.subnetId&&r&&"NLB"===a&&l.length<=0?(s.subnetId="Add subnets to cover at least 1 availability zones.",s):this.state.item.touched.subnetId&&r&&"ELB"===a&&l.length<=0?(s.subnetId="Add subnets to cover at least 1 availability zones.",s):s}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Target Group":"Add Target Group"),n=this.validate(t.name,t.vpcId,t.type,t.scheme,t.ipType,t.subnetId,t.subnets,t.sgId,t.accountId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){o.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var s=t.vpcId||"";t.vpcId=s;var u=t.scheme,d=t.scheme||"ALB"!==t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ipType"},"IP address type (*)"),c.a.createElement(m.j,{type:"select",name:"ipType",id:"ipType",value:t.ipType||"",onChange:this.handleChange,onBlur:this.handleBlur("ipType"),disabled:"true",valid:""===n.ipType,invalid:""!==n.ipType},c.a.createElement("option",{value:"ipv4"},"ipv4")),c.a.createElement(m.g,null,n.ipType)):c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ipType"},"IP address type (*)"),c.a.createElement(m.j,{type:"select",name:"ipType",id:"ipType",value:t.ipType||"",onChange:this.handleChange,onBlur:this.handleBlur("ipType"),valid:""===n.ipType,invalid:""!==n.ipType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"ipv4"},"ipv4"),c.a.createElement("option",{value:"ipv6"},"dualstack")),c.a.createElement(m.g,null,n.ipType)),h="ELB"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"connectionDraining"},"Connection Draining"),c.a.createElement(m.j,{type:"number",name:"connectionDraining",id:"connectionDraining",value:t.connectionDraining||"",placeholder:"Enter connectionDraining",onChange:this.handleChange,onBlur:this.handleBlur("connectionDraining"),autoComplete:"connectionDraining"})):"",v="ALB"!==t.type?c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{for:"crossZoneLoadBalancing",check:!0},"Cross-Zone Load Balancing:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"crossZoneLoadBalancing",id:"crossZoneLoadBalancing",onChange:this.handleChange,onBlur:this.handleBlur("crossZoneLoadBalancing"),checked:!0===t.crossZoneLoadBalancing})):"",g="NLB"!==t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"idleTimeout"},"Idle timeout"),c.a.createElement(m.j,{type:"number",name:"idleTimeout",id:"idleTimeout",value:t.idleTimeout||"",placeholder:"Enter idleTimeout",onChange:this.handleChange,onBlur:this.handleBlur("idleTimeout"),autoComplete:"idleTimeout"})):"",f="ALB"===t.type?c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{for:"http2",check:!0},"HTTP/2:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"http2",id:"http2",onChange:this.handleChange,onBlur:this.handleBlur("http2"),checked:!0===t.http2})):"",b="NLB"!==t.type?c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{for:"accessLogs",check:!0},"Access logs:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"accessLogs",id:"accessLogs",onChange:this.handleChange,onBlur:this.handleBlur("accessLogs"),checked:!0===t.accessLogs})):"",y=[],I=[];t.subnetss&&t.subnetss.length&&t.subnetss.map(function(e){t.subnets&&t.subnets.length&&t.subnets.map(function(t){e.id==t.id&&I.push({value:e.id,label:e.name+"   "+e.az.name})}),y.push({value:e.id,label:e.name+"   "+e.az.name})});var j=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnets (*)"),c.a.createElement(De.a,{name:"subnetId",id:"subnetId",placeholder:"Enter Subnet",isMulti:!0,isSearchable:!0,value:I,onChange:function(t){return e.onOptionChange("subnetId",t)},onBlur:this.handleBlur("subnetId"),options:y}),c.a.createElement(m.g,null,n.subnetId)),k=t.subnetId||{};t.subnetId=k;var C=[],O=[];t.sgss&&t.sgss.length&&t.sgss.map(function(e){t.sgs&&t.sgs.length&&t.sgs.map(function(t){e.id==t.id&&O.push({value:e.id,label:e.name})}),C.push({value:e.id,label:e.name})});var S="ALB"===t.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Security Group (*)"),c.a.createElement(De.a,{name:"sgId",id:"sgId",placeholder:"Enter Security group",isMulti:!0,value:O,onChange:function(t){return e.onOptionChange("sgId",t)},onBlur:this.handleBlur("sgId"),options:C}),c.a.createElement(m.g,null,n.sgId)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Target type (*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:t.type||"",onChange:this.handleChange,onBlur:this.handleBlur("type"),valid:""===n.type,invalid:""!==n.type},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"ALB"},"ALB"),c.a.createElement("option",{value:"NLB"},"NLB"),c.a.createElement("option",{value:"ELB"},"ELB (deprecated)")),c.a.createElement(m.g,null,n.type)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Scheme(*)"),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"internet",checked:!1===u,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===n.accessType,invalid:""!==n.accessType})," ","internet-facing")),c.a.createElement(m.h,{check:!0,inline:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"internal",checked:!0===u,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===n.accessType,invalid:""!==n.accessType})," ","internal")),c.a.createElement(m.g,null,n.accessType)),d,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.vpcId)),j,S,c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{for:"deletionProtection",check:!0},"Deletion Protection:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"deletionProtection",id:"deletionProtection",onChange:this.handleChange,onBlur:this.handleBlur("deletionProtection"),checked:!0===t.deletionProtection})),v,f,b,g,h,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/lbs"},"Cancel")))))}}]),t}(n.Component),kt=Object(B.a)(jt),Ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={listeners:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/lbs/").concat(this.props.match.params.id,"/listeners")).then(function(e){return e.json()}).then(function(t){return e.setState({listeners:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/lbs/").concat(t,"/listeners/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.listeners).filter(function(e){return e.id!==a});n.setState({listeners:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.listeners;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/lbs/"+t.lb.id,n=null!==t.targetGroup?t.targetGroup.id:"";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.protocole),c.a.createElement("td",null,t.port),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.lb.name)),c.a.createElement("td",null,n),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/lb/"+t.lb.id+"/listeners/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.lb.id,t.id)}},"Delete"))))}),r="".concat(v,"/lb/").concat(this.props.match.params.id,"/listeners/new"),l="".concat(v,"/lbs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Lbs"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Listener")),c.a.createElement("h3",null,"Listener"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Protocole"),c.a.createElement("th",{width:"5%"},"Port"),c.a.createElement("th",{width:"5%"},"Lb"),c.a.createElement("th",{width:"5%"},"Target group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={protocole:"",port:"",lb:{},targetGroup:{},targetGroups:[],targetGroupId:"",touched:{protocole:!1,port:!1,targetGroupId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l,i=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,a=-1,"new"===this.props.match.params.id){e.next=17;break}return e.next=5,fetch("".concat(v,"/listeners/").concat(this.props.match.params.id));case 5:return e.next=7,e.sent.json();case 7:(n=e.sent).touched={protocole:!1,port:!1,targetGroupId:!1},this.setState({item:n}),(c=Object(T.a)({},this.state.item)).targetGroupId=n.targetGroup.id,t=n.lb.vpc.id,a=n.id,this.setState({item:c}),e.next=27;break;case 17:return e.next=19,fetch("".concat(v,"/lbs/").concat(this.props.match.params.idl));case 19:return e.next=21,e.sent.json();case 21:r=e.sent,(l={protocole:"",port:"",lb:{},touched:{protocole:!1,port:!1,targetGroupId:!1}}).lb=r,l.touched={protocole:!1,port:!1,targetGroupId:!1},t=r.vpc.id,this.setState({item:l});case 27:return e.next=29,fetch("/referentiel/vpcs/"+t+"/listeners/"+a+"/targetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},i.state.item);t.targetGroups=e,i.setState({item:t})});case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={protocole:!0,port:!0,targetGroupId:!0},n=this.validate(a.protocole,a.port,a.targetGroupId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/lb/"+a.lb.id+"/listeners",a.lb={id:a.lb.id},a.targetGroup={id:a.targetGroupId},e.next=13,fetch(a.id?"/referentiel/lbs/"+a.lb.id+"/listeners/"+a.id:"/referentiel/lbs/"+a.lb.id+"/listeners",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={protocole:"",port:"",targetGroupId:""};return this.state.item.touched.protocole&&0===e.length?(n.protocole="protocole should not be null",n):this.state.item.touched.port&&0===t.length?(n.port="port should not be null",n):this.state.item.touched.targetGroupId&&0===a.length?(n.targetGroupId="targetGroupId should not be null",n):n}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit listener":"Add listener"),a=this.validate(e.protocole,e.port,e.targetGroupId),n=Object.keys(a).some(function(e){return a[e]}),r="/referentiel/lb/"+e.lb.id+"/listeners",l=[];e.targetGroups&&e.targetGroups.length&&e.targetGroups.map(function(e){l.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var i=e.targetGroupId||"";e.targetGroupId=i;var o;o=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"lbId"},"load Balancer: ",e.lb.name),c.a.createElement(m.j,{type:"text",name:"lbId",id:"lbId",value:e.lb.id||"",disabled:"true"}));var s="ALB"!==e.lb.type?c.a.createElement("option",{value:"TCP"},"TCP"):"",u="NLB"!==e.lb.type?c.a.createElement("option",{value:"HTTP"},"HTTP"):"",d="NLB"!==e.lb.type?c.a.createElement("option",{value:"HTTPS"},"HTTPS"):"",h="ELB"===e.lb.type?c.a.createElement("option",{value:"SSL"},"TCP SSL"):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},o,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Protocole (*)"),c.a.createElement(m.j,{type:"select",name:"protocole",id:"protocole",value:e.protocole||"",onChange:this.handleChange,onBlur:this.handleBlur("protocole"),valid:""===a.protocole,invalid:""!==a.protocole},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s,u,d,h),c.a.createElement(m.g,null,a.protocole)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"port"},"Port (*)"),c.a.createElement(m.j,{type:"number",name:"port",id:"port",value:e.port||"",placeholder:"Enter port",onChange:this.handleChange,onBlur:this.handleBlur("port"),autoComplete:"port",valid:""===a.port,invalid:""!==a.port}),c.a.createElement(m.g,null,a.port)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetGroupId"},"Target Group (*)"),c.a.createElement(m.j,{type:"select",name:"targetGroupId",id:"targetGroupId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("targetGroupId"),valid:""===a.targetGroupId,invalid:""!==a.targetGroupId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,a.targetGroupId)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:r},"Cancel")))))}}]),t}(n.Component),St=Object(B.a)(Ot),xt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/lbs/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/lbs/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/lbs/"+t.lb.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.lb.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/lb/"+t.lb.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.lb.id,t.id)}},"Delete"))))}),r="".concat(v,"/lb/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/lbs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Lb"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagLb"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Lb"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),wt=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",lb:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/lbs/").concat(this.props.match.params.idl));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",lb:{},touched:{key:!1,value:!1}}).lb=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/lb/"+a.lb.id+"/tags",a.lb={id:a.lb.id},e.next=12,fetch(a.id?"/referentiel/lbs/"+a.lb.id+"/tags/"+a.id:"/referentiel/lbs/"+a.lb.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/lb/"+t.lb.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"lbId"},"Lb: ",t.lb.name),c.a.createElement(m.j,{type:"text",name:"lbId",id:"lbId",value:t.lb.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),Tt=Object(B.a)(wt),Bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={peerings:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/peerings")).then(function(e){return e.json()}).then(function(t){return e.setState({peerings:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/peerings/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.peerings).filter(function(e){return e.id!==a});n.setState({peerings:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.peerings;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.vpc.cidr.cidr,l=t.vpc.account.numAccount,i=t.vpc.cidr.region.name,o="External"===t.type?t.peeringAccepterExternal.vpcId:t.peeringAccepterInternal.vpc.cidr.cidr,s="External"===t.type?t.peeringAccepterExternal.owner:t.peeringAccepterInternal.vpc.account.numAccount,u="External"===t.type?t.peeringAccepterExternal.region.name:t.peeringAccepterInternal.vpc.cidr.region.name,d="";return t.routes&&t.routes.map(function(e){d=d+e.routeTable.id+":"+e.routeTable.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.text),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,s),c.a.createElement("td",null,u),c.a.createElement("td",null,d),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/peering/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/peerings/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/peerings/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Peering")),c.a.createElement("h3",null,"Peering"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"10%"},"requester Vpc"),c.a.createElement("th",{width:"10%"},"requester Owner"),c.a.createElement("th",{width:"10%"},"requester region"),c.a.createElement("th",{width:"10%"},"Accepter Vpc"),c.a.createElement("th",{width:"10%"},"Accepter Owner"),c.a.createElement("th",{width:"10%"},"Accepter region"),c.a.createElement("th",{width:"10%"},"Route table"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),At=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",text:"",type:"",owner:"",vpc:{},vpcs:{},vpcId:"",peeringAccepterExternal:{},peeringAccepterInternal:{},region:{},regions:[],regionId:"",vpc2:{},vpc2s:{},vpc2Id:"",vpceId:"",touched:{name:!1,vpcId:!1,type:!1,regionId:!1,owner:!1,vpc2Id:!1,vpceId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=26;break}return e.next=3,fetch("".concat(v,"/peerings/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,type:!1,regionId:!1,owner:!1,vpc2Id:!1,vpceId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.vpcs=e,c.setState({item:t})});case 10:if((a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,"External"!==t.type){e.next=19;break}a.regionId=t.peeringAccepterExternal.region.id,a.vpceId=t.peeringAccepterExternal.vpcId,a.owner=t.peeringAccepterExternal.owner,e.next=23;break;case 19:return e.next=21,fetch("/referentiel/accounts/"+t.peeringAccepterInternal.vpc.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){a.vpc2s=e,c.setState({item:a})});case 21:a.regionId=t.peeringAccepterInternal.vpc.cidr.region.id,a.vpc2Id=t.peeringAccepterInternal.vpc.id;case 23:this.setState({item:a}),e.next=30;break;case 26:(n={name:"",account:{},accounts:{},accountId:"",text:"",type:"",vpc:{},vpcs:{},vpcId:"",owner:"",peeringAccepterExternal:{},peeringAccepterInternal:{},region:{},regionId:"",vpc2:{},vpc2s:{},vpc2Id:"",vpceId:"",touched:{name:!1,accountId:!1,vpcId:!1,type:!1,regionId:!1,owner:!1,vpc2Id:!1,vpceId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,type:!1,regionId:!1,owner:!1,vpc2Id:!1,vpceId:!1},n.type="External",this.setState({item:n});case 30:return e.next=32,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 32:return e.next=34,fetch("/referentiel/regions").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.regions=e,c.setState({item:t})});case 34:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.vpc2Id="",r.vpc2s=[]),"vpcId"===c&&fetch("/referentiel/vpcs/"+r.vpcId).then(function(e){return e.json()}).then(function(e){fetch("/referentiel/accounts/"+e.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){r.vpc2s=e,t.setState({item:r})})}),"type"===c&&"Internal"===n&&fetch("/referentiel/vpcs/"+r.vpcId).then(function(e){return e.json()}).then(function(e){var a=e;a.account&&fetch("/referentiel/accounts/"+a.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){r.vpc2s=e,t.setState({item:r})})})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,type:!0,regionId:!0,owner:!0,vpc2Id:!0,vpceId:!0},n=this.validate(a.name,a.vpcId,a.type,a.regionId,a.owner,a.vpc2Id,a.vpceId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/peerings",a.vpc={id:a.vpcId},a.account={id:a.accountId},"External"===a.type?(a.peeringAccepterExternal={owner:a.owner,vpcId:a.vpceId},a.peeringAccepterExternal.region={id:a.regionId},a.peeringAccepterInternal=null):(a.peeringAccepterInternal={},a.peeringAccepterInternal.vpc={id:a.vpc2Id},a.peeringAccepterExternal=null),e.next=14,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/peerings/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/peerings",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 14:this.props.history.push(c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i){var o={name:"",accountId:"",vpcId:"",vpc2Id:"",type:"",regionId:"",owner:"",vpceId:""};if(this.state.item.touched.name&&0===e.length)return o.name="Name should not be null",o;if(this.state.item.touched.accountId&&0===i.length)return o.accountId="accountId should not be null",o;if(this.state.item.touched.vpcId&&0===t.length)return o.vpcId="Vpc Requester should not be null",o;if(this.state.item.touched.type&&0===a.length)return o.type="type should not be null",o;if("Internal"===a){if(this.state.item.touched.vpc2Id&&(!r||0===r.length))return o.vpc2Id="Vpc Accepter should not be null",o}else{if(this.state.item.touched.vpceId&&(!l||0===l.length))return o.vpceId="Vpc Accepter should not be null",o;if(this.state.item.touched.regionId&&(!n||0===n.length))return o.regionId="region should not be null",o;if(this.state.item.touched.owner&&(!c||0===c.length))return o.owner="owner should not be null",o}return o}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Peering":"Add Peering"),a=this.validate(e.name,e.vpcId,e.type,e.regionId,e.owner,e.vpc2Id,e.vpceId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r="External"===e.type,l=!!e.id,i=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var o=e.accountId||"";e.accountId=o;var s=[];e.regions&&e.regions.length&&e.regions.map(function(e){s.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var u=e.regionId||"";e.regionId=u;var d=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){d.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var h=e.vpcId||"";e.vpcId=h;var v=[];e.vpc2s&&e.vpc2s.length&&e.vpc2s.map(function(e){v.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var g=e.vpc2Id||"";e.vpc2Id=g;var f="External"===e.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"regionId"},"Region (*)"),c.a.createElement(m.j,{type:"select",name:"regionId",id:"regionId",value:u,onChange:this.handleChange,onBlur:this.handleBlur("regionId"),valid:""===a.regionId,invalid:""!==a.regionId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.regionId)):"",b="External"===e.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"owner"},"Owner (*)"),c.a.createElement(m.j,{type:"text",name:"owner",id:"owner",value:e.owner||"",placeholder:"Enter owner",onChange:this.handleChange,onBlur:this.handleBlur("owner"),autoComplete:"owner",valid:""===a.owner,invalid:""!==a.owner}),c.a.createElement(m.g,null,a.owner)):"",y="External"===e.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpceId"},"VPC Accepter (*)"),c.a.createElement(m.j,{type:"text",name:"vpceId",id:"vpceId",value:e.vpceId||"",placeholder:"Enter Vpc",onChange:this.handleChange,onBlur:this.handleBlur("vpceId"),autoComplete:"vpceId",valid:""===a.vpceId,invalid:""!==a.vpceId}),c.a.createElement(m.g,null,a.vpceId)):"",I="Internal"===e.type?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpc2Id"},"VPC Accepter (*)"),c.a.createElement(m.j,{type:"select",name:"vpc2Id",id:"vpc2Id",value:g,onChange:this.handleChange,onBlur:this.handleBlur("vpc2Id"),valid:""===a.vpc2Id,invalid:""!==a.vpc2Id},c.a.createElement("option",{value:"",disabled:!0},"Choose"),v),c.a.createElement(m.g,null,a.vpc2Id)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:h,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"type"},"External/ Internal (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"External",checked:!0===r,disabled:l,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type})," ","External")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"Internal",checked:!1===r,disabled:l,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type})," ","Internal")),c.a.createElement(m.g,null,a.type)),f," ",b," ",y,I,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/peerings"},"Cancel")))))}}]),t}(n.Component),Dt=Object(B.a)(At),Pt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/peerings/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/peerings/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/peerings/"+t.peering.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.peering.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/peering/"+t.peering.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.peering.id,t.id)}},"Delete"))))}),r="".concat(v,"/peering/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/peerings");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Peering"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add TagPeering")),c.a.createElement("h3",null,"TagPeering"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Peering"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Nt=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",peering:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/peerings/").concat(this.props.match.params.idp));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",peering:{},touched:{key:!1,value:!1}}).peering=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/peering/"+a.peering.id+"/tags",a.peering={id:a.peering.id},e.next=12,fetch(a.id?"/referentiel/peerings/"+a.peering.id+"/tags/"+a.id:"/referentiel/peerings/"+a.peering.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/peering/"+t.peering.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"peeringId"},"Peering: ",t.peering.name),c.a.createElement(m.j,{type:"text",name:"peeringId",id:"peeringId",value:t.peering.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),Lt=Object(B.a)(Nt),zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={sgs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/sgs")).then(function(e){return e.json()}).then(function(t){return e.setState({sgs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/sgs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.sgs).filter(function(e){return e.id!==a});n.setState({sgs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.sgs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r="",l=(t.lbs.map(function(e){r=r+"|"+e}),""),i=(t.eccs.map(function(e){l=l+"|"+e}),""),o=(t.rdss.map(function(e){i=i+"|"+e}),""),s=(t.elasticaches.map(function(e){o=o+"|"+e}),""),u=(t.launchConfigurations.map(function(e){s=s+"|"+e}),!(!t.rdss||0===t.rdss.length)),d=!(!t.elasticaches||0===t.elasticaches.length),h=!(!t.lbs||0===t.lbs.length),v=!(!t.eccs||0===t.eccs.length),E=!(!t.launchConfigurations||0===t.launchConfigurations.length);return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.nameTag),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.text),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,s),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/sg/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/sg/"+t.id+"/ruleSgs"},"Rules"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/sgs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)},disabled:u||h||v||d||E},"Delete"))))}),r="".concat(v,"/sgs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Sg")),c.a.createElement("h3",null,"Sg"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name Tag"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Rds"),c.a.createElement("th",{width:"5%"},"Elc"),c.a.createElement("th",{width:"5%"},"Lb"),c.a.createElement("th",{width:"5%"},"Ec2"),c.a.createElement("th",{width:"5%"},"Launch Conf"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",nameTag:"",account:{},accounts:{},accountId:"",text:"",vpc:{},vpcs:{},vpcId:"",touched:{name:!1,accountId:!1,vpcId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=16;break}return e.next=3,fetch("".concat(v,"/sgs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 10:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,this.setState({item:a}),e.next=19;break;case 16:n={name:"",accountId:!1,nameTag:"",account:{},accounts:{}},Object(w.a)(n,"accountId",""),Object(w.a)(n,"text",""),Object(w.a)(n,"vpc",{}),Object(w.a)(n,"vpcs",{}),Object(w.a)(n,"vpcId",""),Object(w.a)(n,"touched",{name:!1,vpcId:!1}),(c=n).touched={name:!1,accountId:!1,vpcId:!1},this.setState({item:c});case 19:return e.next=21,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="")}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r,l,i,o,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0},n=this.validate(a.name,a.vpcId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/sgs",a.vpc={id:a.vpcId},a.account={id:a.accountId},r=[],a.lbs&&0!==a.lbs.length&&(a.lbs.map(function(e){r.push({id:e.id})}),a.lbs=r),l=[],a.rdss&&0!==a.rdss.length&&(a.rdss.map(function(e){l.push({id:e.id})}),a.rdss=l),i=[],a.eccs&&0!==a.eccs.length&&(a.eccs.map(function(e){i.push({id:e.id})}),a.eccs=i),o=[],a.elasticaches&&0!==a.elasticaches.length&&(a.elasticaches.map(function(e){o.push({id:e.id})}),a.elasticaches=o),s=[],a.launchConfigurations&&0!==a.launchConfigurations.length&&(a.launchConfigurations.map(function(e){s.push({id:e.id})}),a.launchConfigurations=s),e.next=23,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/sgs/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/sgs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 23:this.props.history.push(c);case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={name:"",accountId:"",vpcId:""};return this.state.item.touched.name&&0===e.length?(n.name="Name should not be null",n):this.state.item.touched.accountId&&0===a.length?(n.accountId="accountId should not be null",n):this.state.item.touched.vpcId&&0===t.length?(n.vpcId="Vpc should not be null",n):n}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit sg":"Add sg"),a=this.validate(e.name,e.vpcId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=!(!e.lbs||0===e.lbs.length);return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"nameTag"},"Name tag (*)"),c.a.createElement(m.j,{type:"text",name:"nameTag",id:"nameTag",value:e.nameTag||"",placeholder:"Enter nameTag",onChange:this.handleChange,autoComplete:"nameTag"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:s,valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),disabled:s,valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/sgs"},"Cancel")))))}}]),t}(n.Component),Gt=Object(B.a)(Mt),Rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={ruleSgs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/sgs/").concat(this.props.match.params.id,"/ruleSgs")).then(function(e){return e.json()}).then(function(t){return e.setState({ruleSgs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/sgs/").concat(t,"/ruleSgs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.ruleSgs).filter(function(e){return e.id!==a});n.setState({ruleSgs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.ruleSgs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/sgs/"+t.sg.id;t.allow;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.ruleType),c.a.createElement("td",null,t.protocol),c.a.createElement("td",null,t.portRange),c.a.createElement("td",null,t.cidr),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.sg.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/sg/"+t.sg.id+"/ruleSgs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.sg.id,t.id)}},"Delete"))))}),r="".concat(v,"/sg/").concat(this.props.match.params.id,"/ruleSgs/new"),l="".concat(v,"/sgs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Sg"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add RuleSg")),c.a.createElement("h3",null,"RuleSg"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"IN/OUT"),c.a.createElement("th",{width:"5%"},"Type"),c.a.createElement("th",{width:"5%"},"Protocol"),c.a.createElement("th",{width:"5%"},"PortRange"),c.a.createElement("th",{width:"5%"},"Source/Destination"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Sg"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ut=a(23),Vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={type:"",ruleType:"",protocol:"",portRange:"",cidr:"",text:"",sg:{},touched:{type:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/ruleSgs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={type:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/sgs/").concat(this.props.match.params.ids));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={ruleType:"",protocol:"",portRange:"",cidr:"",type:"",text:"",sg:{},touched:{type:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1}}).sg=a,n.touched={type:!1,ruleType:!1,protocol:!1,portRange:!1,cidr:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={type:!0,ruleType:!0,protocol:!0,portRange:!0,cidr:!0},n=this.validate(a.type,a.ruleType,a.protocol,a.portRange,a.cidr),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/sg/"+a.sg.id+"/ruleSgs",a.sg={id:a.sg.id},e.next=12,fetch(a.id?"/referentiel/sgs/"+a.sg.id+"/ruleSgs/"+a.id:"/referentiel/sgs/"+a.sg.id+"/ruleSgs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={type:"",ruleType:"",protocol:"",portRange:"",cidr:""};return this.state.item.touched.type&&0===e.length?(r.type="Type should not be null",r):this.state.item.touched.ruleType&&0===t.length?(r.ruleType="Type should not be null",r):this.state.item.touched.protocol&&0===a.length?(r.protocol="Protocol should not be null",r):this.state.item.touched.portRange&&0===n.length?(r.portRange="Portrange should not be null",r):this.state.item.touched.cidr&&!Ut({exact:!0}).test(c)?(r.cidr="Cidr should  be a cidr format",r):r}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit ruleSg":"Add ruleSg"),n=this.validate(t.type,t.ruleType,t.protocol,t.portRange,t.cidr),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/sg/"+t.sg.id+"/ruleSgs";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Sg: ",t.sg.name),c.a.createElement(m.j,{type:"text",name:"sgId",id:"sgId",value:t.sg.id||"",disabled:!0})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"In/Out (*)"),c.a.createElement(m.j,{type:"select",name:"type",id:"type",value:t.type||"",onChange:this.handleChange,onBlur:this.handleBlur("type"),valid:""===n.type,invalid:""!==n.type},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"INBOUND"},"INBOUND"),c.a.createElement("option",{value:"OUTBOUND"},"OUTBOUND")),c.a.createElement(m.g,null,n.type)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ruleType"},"Type (*)"),c.a.createElement(m.j,{type:"select",name:"ruleType",id:"ruleType",value:t.ruleType||"",onChange:this.handleChange,onBlur:this.handleBlur("ruleType"),valid:""===n.ruleType,invalid:""!==n.ruleType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"ruleSgType1"},"ruleSgType1"),c.a.createElement("option",{value:"ruleSgType2"},"ruleSgType2")),c.a.createElement(m.g,null,n.ruleType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"protocol"},"Protocol (*)"),c.a.createElement(m.j,{type:"select",name:"protocol",id:"protocol",value:t.protocol||"",onChange:this.handleChange,onBlur:this.handleBlur("protocol"),valid:""===n.protocol,invalid:""!==n.protocol},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"protocol1"},"protocol1"),c.a.createElement("option",{value:"protocol2"},"protocol2")),c.a.createElement(m.g,null,n.protocol)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"portRange"},"Port Range (*)"),c.a.createElement(m.j,{type:"text",name:"portRange",id:"portRange",value:t.portRange||"",placeholder:"Enter portRange",onChange:this.handleChange,onBlur:this.handleBlur("portRange"),autoComplete:"portRange",valid:""===n.portRange,invalid:""!==n.portRange}),c.a.createElement(m.g,null,n.portRange)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cidr"},"Source/Destination (*)"),c.a.createElement(m.j,{type:"text",name:"cidr",id:"cidr",value:t.cidr||"",placeholder:"Enter cidr",onChange:this.handleChange,onBlur:this.handleBlur("cidr"),autoComplete:"cidr",valid:""===n.cidr,invalid:""!==n.cidr}),c.a.createElement(m.g,null,n.cidr)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Kt=Object(B.a)(Vt),Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/sgs/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/sgs/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/sgs/"+t.sg.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.sg.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/sg/"+t.sg.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.sg.id,t.id)}},"Delete"))))}),r="".concat(v,"/sg/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/sgs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Sg"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagSg"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Sg"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Yt=(a(23),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",sg:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/sgs/").concat(this.props.match.params.ids));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",sg:{},touched:{key:!1,value:!1}}).sg=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/sg/"+a.sg.id+"/tags",a.sg={id:a.sg.id},e.next=12,fetch(a.id?"/referentiel/sgs/"+a.sg.id+"/tags/"+a.id:"/referentiel/sgs/"+a.sg.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/sg/"+t.sg.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Sg: ",t.sg.name),c.a.createElement(m.j,{type:"text",name:"sgId",id:"sgId",value:t.sg.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component)),Zt=Object(B.a)(Yt),Ft=a(61),Ht=a.n(Ft),Wt=a(24),qt=a.n(Wt),_t=a(62),$t=a.n(_t),Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cidrs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/referentiel/cidrs").then(function(e){return e.json()}).then(function(t){return e.setState({cidrs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/cidrs/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.cidrs).filter(function(e){return e.id!==t});a.setState({cidrs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.cidrs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=[{dataField:"id",text:"ID",filter:Object(Wt.textFilter)({delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Id"}),sort:!0},{dataField:"cidr",text:"Cidr",filter:Object(Wt.textFilter)({delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Cidr"}),sort:!0},{dataField:"env",text:"Env",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Env"}),sort:!0},{dataField:"text",text:"Description",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Description"}),sort:!0},{dataField:"region.name",text:"Region",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Region"}),sort:!0,formatter:function(e,t){if(t.region&&t.region.id){var a;a="/referentiel/regions/"+t.region.id;var n;return n=t.region.name,c.a.createElement("a",{href:a},n)}}},,{dataField:"vpc.name",text:"Vpc",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Vpc"}),sort:!0,formatter:function(e,t){if(t.vpc&&t.vpc.id){var a;a="/referentiel/account/"+t.vpc.account.id+"/vpcs/"+t.vpc.id;var n;return n=t.vpc.name,c.a.createElement("a",{href:a},n)}}},{dataField:"vpc.account.numAccount",text:"Account",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Account"}),sort:!0,isDummyField:!0,formatter:function(e,t){if(t.vpc&&t.vpc.id){var a;a="/referentiel/product/"+t.vpc.account.product.id+"/accounts/"+t.vpc.account.id;var n;return n=t.vpc.account.numAccount,c.a.createElement("a",{href:a},n)}}},{dataField:"vpc.account.product.name",text:"Product",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Product"}),sort:!0,isDummyField:!0,formatter:function(e,t){if(t.vpc&&t.vpc.id){var a;a="/referentiel/trigramme/"+t.vpc.account.product.trigramme.id+"/products/"+t.vpc.account.product.id;var n;return n=t.vpc.account.product.name,c.a.createElement("a",{href:a},n)}}},{dataField:"vpc.account.product.trigramme.name",text:"Trigramme",filter:Object(Wt.textFilter)({caseSensitive:!0,delay:1e3,style:{backgroundColor:"white"},className:"test-classname",placeholder:"Trigramme"}),sort:!0,isDummyField:!0,formatter:function(e,t){if(t.vpc&&t.vpc.id){var a;a="/referentiel/trigrammes/"+t.vpc.account.product.trigramme.id;var n;return n=t.vpc.account.product.trigramme.name,c.a.createElement("a",{href:a},n)}}},{dataField:"vpc",text:"Action",isDummyField:!0,formatter:function(t,a){var n=!1;return a.vpc&&(n=!0),c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/vpcmanages/"+a.id+"/subnetmanage"},"Subnets Cidr"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/vpcmanage/"+a.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(a.id)},disabled:n},"Delete"))}}];return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:"/referentiel/vpcmanage/new"},"Add Cidr")),c.a.createElement("h3",null,"Cidr"),c.a.createElement(Ht.a,{headerClasses:"header-class",keyField:"id",data:a,columns:n,bordered:!1,defaultSorted:[{dataField:"id",order:"desc"}],filter:qt()(),pagination:$t()(),hover:!0})))}}]),t}(n.Component),Xt=a(23),ea=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={cidr:"",text:"",env:"",vpc:{id:""},regions:{},region:{},regionId:"",touched:{cidr:!1,env:!1,regionId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/cidrs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={cidr:!1,env:!1,regionId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).regionId=t.region.id,this.setState({item:a}),e.next=15;break;case 13:n={cidr:"",text:"",env:"",vpc:{id:""},regions:{},region:{},regionId:"",touched:{cidr:!1,env:!1,regionId:!1}},this.setState({item:n});case 15:return e.next=17,fetch("/referentiel/regions").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.regions=e,c.setState({item:t})});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r,l,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={cidr:!0,env:!0},n=this.validate(a.cidr,a.env),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return alert(n.cidr+"  "+n.env),e.abrupt("return");case 8:return r="",r=a.cidr,l=r.replace("/","@"),a.region={id:a.regionId},e.next=14,fetch(a.id?"/referentiel/cidr/"+l+"/env/"+a.env+"/cidrId/"+a.id:"/referentiel/cidr/"+l+"/env/"+a.env+"/cidrId/0").then(function(e){return e.json()}).then(function(e){c=e.length,console.log(e.length)});case 14:if(0===c){e.next=18;break}return n.cidr="Cidr should be unique by env",alert(n.cidr),e.abrupt("return");case 18:return a.id||(a.vpc=null),i="/referentiel/vpcmanage",e.next=22,fetch(a.id?"/referentiel/cidrs/"+a.id:"/referentiel/cidr",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 22:this.props.history.push(i);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={cidr:"",env:"",regionId:""};return this.state.item.touched.cidr&&0===e.length?(n.cidr="cidr should not be null",n):this.state.item.touched.cidr&&!Xt({exact:!0}).test(e)?(n.cidr="cidr should  be a cidr format",n):this.state.item.touched.env&&0===t.length?(n.env="env should not be null",n):this.state.item.touched.regionId&&0===a.length?(n.regionId="Region should not be null",n):n}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Cidr":"Add Cidr"),a=this.validate(e.cidr,e.env,e.regionId),n=Object.keys(a).some(function(e){return a[e]}),r=!1;e.vpc&&e.vpc.id&&(r=!0);var l=[];e.regions&&e.regions.length&&e.regions.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var i=e.regionId||"";return e.regionId=i,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cidr"},"CIDR (*)"),c.a.createElement(m.j,{type:"text",name:"cidr",id:"cidr",value:e.cidr||"",onChange:this.handleChange,onBlur:this.handleBlur("cidr"),autoComplete:"cidr",valid:""===a.cidr,invalid:""!==a.cidr,disabled:r}),c.a.createElement(m.g,null,a.cidr)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"regionId"},"Region (*)"),c.a.createElement(m.j,{type:"select",name:"regionId",id:"regionId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("regionId"),valid:""===a.regionId,invalid:""!==a.regionId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,a.regionId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"env"},"Env (*)"),c.a.createElement(m.j,{type:"select",name:"env",id:"env",value:e.env||"",onChange:this.handleChange,onBlur:this.handleBlur("env"),valid:""===a.env,invalid:""!==a.env,disabled:r},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"DEV"},"DEV"),c.a.createElement("option",{value:"HML"},"HML"),c.a.createElement("option",{value:"PRD"},"PRD"),c.a.createElement("option",{value:"SDB"},"SDB")),c.a.createElement(m.g,null,a.env)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:e.text||"",onChange:this.handleChange,autoComplete:"env"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/vpcmanage"},"Cancel")))))}}]),t}(n.Component),ta=Object(B.a)(ea),aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={subnetcidrs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/cidrs/").concat(this.props.match.params.id,"/subnetcidrs")).then(function(e){return e.json()}).then(function(t){return e.setState({subnetcidrs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/cidrs/").concat(t,"/subnetcidrs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.subnetcidrs).filter(function(e){return e.id!==a});n.setState({subnetcidrs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.subnetcidrs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcmanage/"+t.cidr.id,n="",r="";t.subnet&&(n=t.subnet.id+":"+t.subnet.name,r="/referentiel/vpc/"+t.subnet.vpc.id+"/subnets/"+t.subnet.id);var l=!1;return t.subnet&&(l=!0),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.subnetCidr),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.cidr.cidr)),c.a.createElement("td",null,c.a.createElement("a",{href:r},n)),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/vpcmanages/"+t.cidr.id+"/subnetmanage/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.cidr.id,t.id)},disabled:l},"Delete"))))}),r="".concat(v,"/vpcmanages/").concat(this.props.match.params.id,"/subnetmanage/new"),l="".concat(v,"/vpcmanage");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Cidrs"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Subnet Cidr")),c.a.createElement("h3",null,"Subnet"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"Id"),c.a.createElement("th",{width:"20%"},"subnet"),c.a.createElement("th",{width:"20%"},"Cidr"),c.a.createElement("th",{width:"20%"},"Subnet vpc"),c.a.createElement("th",{width:"20%"},"Description"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),na=a(23),ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={subnetCidr:"",text:"",cidr:"",subnet:{},touched:{subnetCidr:!1,cidrId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/subnetcidrs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={subnetCidr:!1,cidrId:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/cidrs/").concat(this.props.match.params.idc));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={subnetCidr:"",text:"",cidr:"",subnet:{},touched:{subnetCidr:!1,cidrId:!1}}).cidr=a,n.touched={subnetCidr:!1,cidrId:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={subnetCidr:!0,cidrId:!0},n=this.validate(a.subnetCidr,a.cidrId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/vpcmanages/"+a.cidr.id+"/subnetmanage",r=0,a.id&&a.subnet&&a.subnet.id?(r=a.subnet.id,a.subnet={}):a.subnet=null,e.next=13,fetch(a.id?"/referentiel/cidrs/"+a.cidr.id+"/subnetcidrs/"+a.id+"/subnet/"+r:"/referentiel/cidrs/"+a.cidr.id+"/subnetcidrs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={subnetCidr:"",cidrId:""};return this.state.item.touched.subnetCidr&&0===e.length?(a.subnetCidr="subnet should not be null",a):this.state.item.touched.subnetCidr&&!na({exact:!0}).test(e)?(a.subnetCidr="subnet should  be a cidr format",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Subnet Cidr":"Add Subnet Cidr"),n=this.validate(t.subnetCidr,t.cidrId),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/vpcmanages/"+t.cidr.id+"/subnetmanage";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"cidrId"},"Cidr: ",t.cidr.cidr),c.a.createElement(m.j,{type:"text",name:"cidrId",id:"cidrId",value:t.cidr.id||"",disabled:!0}));var i=!1;return t.subnet&&t.subnet.id&&(i=!0),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetCidr"},"Subnet"),c.a.createElement(m.j,{type:"text",name:"subnetCidr",id:"subnetCidr",value:t.subnetCidr||"",onChange:this.handleChange,onBlur:this.handleBlur("subnetCidr"),autoComplete:"subnetCidr",valid:""===n.subnetCidr,invalid:""!==n.subnetCidr,disabled:i}),c.a.createElement(m.g,null,n.subnetCidr)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),ra=Object(B.a)(ca),la=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={regions:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("regions").then(function(e){return e.json()}).then(function(t){return e.setState({regions:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/regions/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.regions).filter(function(e){return e.id!==t});a.setState({regions:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.regions;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a=!1;return 0!==t.cidrs.length&&(a=!0),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.description),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"".concat(v,"/region/").concat(t.id,"/azs")},"Azs"),"\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"".concat(v,"/region/").concat(t.id,"/amis")},"Amis"))),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"".concat(v,"/regions/").concat(t.id)},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)},disabled:a},"Delete"))))});return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:"".concat(v,"/regions/new")},"Add Region")),c.a.createElement("h3",null,"Region"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"10%"},"Id"),c.a.createElement("th",{width:"10%"},"Name"),c.a.createElement("th",{width:"10%"},"Description"),c.a.createElement("th",{width:"10%"},"Components"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",description:"",touched:{name:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=8;break}return e.next=3,fetch("".concat(v,"/regions/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1},this.setState({item:t});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0},n=this.validate(a.name),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return e.next=10,fetch(a.id?"/referentiel/regions/"+a.id:"/referentiel/regions",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 10:this.props.history.push("/referentiel/regions");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n){var c={name:""};return this.state.item.touched.name&&0===e.length?(c.name="Name should be = 3 characters",c):c}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Region":"Add Region"),a=this.validate(e.name),n=Object.keys(a).some(function(e){return a[e]}),r=null;e.id&&(r=c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"".concat(v,"/region/").concat(e.id,"/azs")},"Azs"));var l=!1;return e.id&&0!==e.cidrs.length&&(l=!0),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter text",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name,disabled:l}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"description"},"Description"),c.a.createElement(m.j,{type:"text",name:"description",id:"description",value:e.description||"",onChange:this.handleChange,autoComplete:"description"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"".concat(v,"/regions")},"Cancel"),"\xa0\xa0\xa0\xa0",r))))}}]),t}(n.Component),oa=Object(B.a)(ia),sa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={azs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/regions/").concat(this.props.match.params.id,"/azs")).then(function(e){return e.json()}).then(function(t){return e.setState({azs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/regions/").concat(t,"/azs/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.azs).filter(function(e){return e.id!==a});n.setState({azs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.azs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/regions/"+t.region.id,n=!1;return 0!==t.subnets.length&&(n=!0),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.description),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.region.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/region/"+t.region.id+"/azs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.region.id,t.id)},disabled:n},"Delete"))))}),r="".concat(v,"/region/").concat(this.props.match.params.id,"/azs/new"),l="".concat(v,"/regions");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Regions"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Az")),c.a.createElement("h3",null,"Az"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"Id"),c.a.createElement("th",{width:"20%"},"Name"),c.a.createElement("th",{width:"20%"},"Description"),c.a.createElement("th",{width:"20%"},"Region"),c.a.createElement("th",{width:"20%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",region:"",regionId:"",touched:{name:!1,regionId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/azs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,regionId:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/regions/").concat(this.props.match.params.idr));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={name:"",text:"",region:"",regionId:"",touched:{name:!1,regionId:!1}}).region=a,n.touched={name:!1,regionId:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,regionId:!0},n=this.validate(a.name,a.mailList,a.regionId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/region/"+a.region.id+"/azs",a.region={id:a.region.id},r=[],a.subnets=[],a.subnets&&a.subnets.length&&(a.subnets.map(function(e){r.push({id:e.id})}),a.subnets=r),e.next=15,fetch(a.id?"/referentiel/regions/"+a.region.id+"/azs/"+a.id:"/referentiel/regions/"+a.region.id+"/azs",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",regionId:""};return this.state.item.touched.name&&0===e.length?(r.name="Name should not be null",r):r}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Az":"Add Az"),n=this.validate(t.name,t.mailList,t.regionId),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/region/"+t.region.id+"/azs";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"regionId"},"Region: ",t.region.name),c.a.createElement(m.j,{type:"text",name:"regionId",id:"regionId",value:t.region.id||"",disabled:!0}));var i=!1;return t.id&&0!==t.subnets.length&&(i=!0),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name,disabled:i}),c.a.createElement(m.g,null,n.name)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"description"},"Description"),c.a.createElement(m.j,{type:"description",name:"description",id:"description",value:t.description||"",onChange:this.handleChange,autoComplete:"description"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),da=Object(B.a)(ua),ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={amis:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/regions/").concat(this.props.match.params.id,"/amis")).then(function(e){return e.json()}).then(function(t){return e.setState({amis:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/regions/").concat(t,"/amis/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.amis).filter(function(e){return e.id!==a});n.setState({amis:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.amis;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/regions/"+t.region.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.amiId),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.region.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/region/"+t.region.id+"/amis/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.region.id,t.id)},disabled:!1},"Delete"))))}),r="".concat(v,"/region/").concat(this.props.match.params.id,"/amis/new"),l="".concat(v,"/regions");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Regions"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Ami")),c.a.createElement("h3",null,"Ami"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"Id"),c.a.createElement("th",{width:"20%"},"Name"),c.a.createElement("th",{width:"20%"},"Ami Id"),c.a.createElement("th",{width:"20%"},"Description"),c.a.createElement("th",{width:"20%"},"Region"),c.a.createElement("th",{width:"20%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ma=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",text:"",region:"",regionId:"",amiId:"",touched:{name:!1,regionId:!1,amiId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/amis/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,regionId:!1,amiId:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/regions/").concat(this.props.match.params.idr));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={name:"",text:"",region:"",regionId:"",amiId:"",touched:{name:!1,regionId:!1,amiId:!1}}).region=a,n.touched={name:!1,regionId:!1,amiId:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,regionId:!0,amiId:!0},n=this.validate(a.name,a.regionId,a.amiId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/region/"+a.region.id+"/amis",a.region={id:a.region.id},e.next=12,fetch(a.id?"/referentiel/regions/"+a.region.id+"/amis/"+a.id:"/referentiel/regions/"+a.region.id+"/amis",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={name:"",regionId:"",amiId:""};return this.state.item.touched.name&&0===e.length?(n.name="Name should not be null",n):this.state.item.touched.amiId&&0===a.length?(n.amiId="amiId should not be null",n):n}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Ami":"Add Ami"),n=this.validate(t.name,t.regionId,t.amiId),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/region/"+t.region.id+"/amis";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"regionId"},"Region: ",t.region.name),c.a.createElement(m.j,{type:"text",name:"regionId",id:"regionId",value:t.region.id||"",disabled:!0}));return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name,disabled:!1}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"amiId"},"Ami Id"),c.a.createElement(m.j,{type:"text",name:"amiId",id:"amiId",value:t.amiId||"",placeholder:"Enter amiId",onChange:this.handleChange,onBlur:this.handleBlur("amiId"),autoComplete:"amiId",valid:""===n.amiId,invalid:""!==n.amiId,disabled:!1}),c.a.createElement(m.g,null,n.amiId)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),pa=Object(B.a)(ma),va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={instanceTypes:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/referentielinstanceTypes").then(function(e){return e.json()}).then(function(t){return e.setState({instanceTypes:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/instanceTypes/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.instanceTypes).filter(function(e){return e.id!==t});a.setState({instanceTypes:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.instanceTypes;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a=t.ebsOptimized?"Yes":"-";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.family),c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.vcpus),c.a.createElement("td",null,t.memory),c.a.createElement("td",null,t.instanceStorage),c.a.createElement("td",null,a),c.a.createElement("td",null,t.networkPerformance),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/instancetypes/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)}},"Delete"))))});return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:"/referentiel/instancetypes/new"},"Add Instance Type")),c.a.createElement("h3",null,"InstanceType"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"10%"},"Id"),c.a.createElement("th",{width:"10%"},"Family"),c.a.createElement("th",{width:"10%"},"Type"),c.a.createElement("th",{width:"10%"},"vCPUs"),c.a.createElement("th",{width:"10%"},"Memory (GiB)"),c.a.createElement("th",{width:"10%"},"Instance Storage (GB)"),c.a.createElement("th",{width:"10%"},"EBS-Optimized Available"),c.a.createElement("th",{width:"10%"},"Network Performance"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ea=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={family:"",type:"",vcpus:"",memory:"",instanceStorage:"",ebsOptimized:!0,networkPerformance:"",touched:{family:!1,type:!1,vcpus:!1,memory:!1,instanceStorage:!1,networkPerformance:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=8;break}return e.next=3,fetch("".concat(v,"/instanceTypes/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={family:!1,type:!1,vcpus:!1,memory:!1,instanceStorage:!1,networkPerformance:!1},this.setState({item:t});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c}),"ebsOptimized"===n&&(c.ebsOptimized=!!t.checked)}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={family:!0,type:!0,vcpus:!0,memory:!0,instanceStorage:!0,networkPerformance:!0},n=this.validate(a.family,a.type,a.vcpus,a.memory,a.instanceStorage,a.networkPerformance),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c=[],a.eccs=[],a.eccs&&a.eccs.length&&(a.eccs.map(function(e){c.push({id:e.id})}),a.eccs=c),e.next=13,fetch(a.id?"/referentiel/instanceTypes/"+a.id:"/referentiel/instanceType",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push("/referentiel/instanceTypes");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={family:"",type:"",vcpus:"",memory:"",instanceStorage:"",networkPerformance:""};return this.state.item.touched.family&&0===e.length?(l.family="family should not be null",l):this.state.item.touched.type&&0===t.length?(l.type="type should not be null",l):this.state.item.touched.vcpus&&0===a.length?(l.vcpus="vcpus should not be null",l):this.state.item.touched.memory&&0===n.length?(l.memory="memory should not be null",l):this.state.item.touched.instanceStorage&&0===c.length?(l.instanceStorage="instanceStorage should not be null",l):this.state.item.touched.networkPerformance&&0===r.length?(l.networkPerformance="networkPerformance should not be null",l):l}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Instance Type":"Add Instance Type"),a=this.validate(e.family,e.type,e.vcpus,e.memory,e.instanceStorage,e.networkPerformance),n=Object.keys(a).some(function(e){return a[e]});return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"family"},"Family (*)"),c.a.createElement(m.j,{type:"text",name:"family",id:"family",value:e.family||"",placeholder:"Enter family",onChange:this.handleChange,onBlur:this.handleBlur("family"),autoComplete:"family",valid:""===a.family,invalid:""!==a.family}),c.a.createElement(m.g,null,a.family)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"type"},"Type (*)"),c.a.createElement(m.j,{type:"text",name:"type",id:"type",value:e.type||"",placeholder:"Enter type",onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===a.type,invalid:""!==a.type}),c.a.createElement(m.g,null,a.type)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vcpus"},"vCPUs (*)"),c.a.createElement(m.j,{type:"number",name:"vcpus",id:"vcpus",value:e.vcpus||"",placeholder:"Enter vcpus",onChange:this.handleChange,onBlur:this.handleBlur("vcpus"),autoComplete:"vcpus",valid:""===a.vcpus,invalid:""!==a.vcpus}),c.a.createElement(m.g,null,a.vcpus)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"memory"},"Memory (GiB) (*)"),c.a.createElement(m.j,{type:"number",name:"memory",id:"memory",value:e.memory||"",placeholder:"Enter memory",onChange:this.handleChange,onBlur:this.handleBlur("memory"),autoComplete:"memory",valid:""===a.memory,invalid:""!==a.memory}),c.a.createElement(m.g,null,a.memory)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"instanceStorage"},"Instance Storage (GB) (*)"),c.a.createElement(m.j,{type:"text",name:"instanceStorage",id:"instanceStorage",value:e.instanceStorage||"",placeholder:"Enter instanceStorage",onChange:this.handleChange,onBlur:this.handleBlur("instanceStorage"),autoComplete:"instanceStorage",valid:""===a.instanceStorage,invalid:""!==a.instanceStorage}),c.a.createElement(m.g,null,a.instanceStorage)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ebsOptimized"},"EBS-Optimized Available:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"ebsOptimized",id:"ebsOptimized",onChange:this.handleChange,onBlur:this.handleBlur("ebsOptimized"),checked:!0===e.ebsOptimized})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"networkPerformance"},"Network Performance (*)"),c.a.createElement(m.j,{type:"text",name:"networkPerformance",id:"networkPerformance",value:e.networkPerformance||"",placeholder:"Enter networkPerformance",onChange:this.handleChange,onBlur:this.handleBlur("networkPerformance"),autoComplete:"networkPerformance",valid:""===a.networkPerformance,invalid:""!==a.networkPerformance}),c.a.createElement(m.g,null,a.networkPerformance)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/instanceTypes"},"Cancel")))))}}]),t}(n.Component),ga=Object(B.a)(Ea),fa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eccs:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/eccs")).then(function(e){return e.json()}).then(function(t){return e.setState({eccs:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/eccs/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.eccs).filter(function(e){return e.id!==t});a.setState({eccs:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.eccs;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a,n="/referentiel/vpcs/"+t.vpc.id,r="/referentiel/subnets/"+t.subnet.id,l="/referentiel/accounts/"+t.account.id,i=t.enableTerminationProtection?"Yes":"No",o=t.encoded64?"Yes":"No",s=t.userData?"Yes":"No",u=t.monitoring?"Yes":"No",d="",h=(t.sgs.map(function(e){d=d+"|"+e.id+":"+e.name}),t.role?t.role.id:""),v="";t.targets.map(function(e){v=v+"|"+e.id});return a=""!==v,c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:l},t.account.numAccount)),c.a.createElement("td",null,t.ami.id),c.a.createElement("td",null,t.instanceType.id),c.a.createElement("td",null,t.autoAssignPublicIp),c.a.createElement("td",null,t.shutdownBehaviour),c.a.createElement("td",null,i),c.a.createElement("td",null,u),c.a.createElement("td",null,s),c.a.createElement("td",null,o),c.a.createElement("td",null,t.userDataText),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.vpc.name)),c.a.createElement("td",null,c.a.createElement("a",{href:r},t.subnet.name)),c.a.createElement("td",null,d),c.a.createElement("td",null,h),c.a.createElement("td",null,v),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/ecc/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/ecc/"+t.id+"/eccStorages"},"Storages"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/ecc/"+t.id+"/eccNetworkinterfaces"},"Network Interfaces"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/eccs/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)},disabled:a},"Delete"))))}),r="".concat(v,"/eccs/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Ecc")),c.a.createElement("h3",null,"Ecc"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Ami"),c.a.createElement("th",{width:"5%"},"Instance Type"),c.a.createElement("th",{width:"5%"},"Auto Assign Public Ip"),c.a.createElement("th",{width:"5%"},"Shutdown Behaviour"),c.a.createElement("th",{width:"5%"},"Enable Termination Protection"),c.a.createElement("th",{width:"5%"},"Monitoring"),c.a.createElement("th",{width:"5%"},"user Data"),c.a.createElement("th",{width:"5%"},"Encoded64"),c.a.createElement("th",{width:"5%"},"User Data Text"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Subnet"),c.a.createElement("th",{width:"5%"},"Sg"),c.a.createElement("th",{width:"5%"},"Role"),c.a.createElement("th",{width:"5%"},"Target"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ba=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",autoAssignPublicIp:"",shutdownBehaviour:"",enableTerminationProtection:!1,encoded64:!1,instanceType:"",amiId:"",amis:[],monitoring:!1,userData:!1,userDataText:"",instanceTypes:[],instanceTypeId:"",vpcs:[],vpcId:"",subnets:[],subnetId:"",sgss:{},sgs:[],sgId:[],roles:[],roleId:"",touched:{autoAssignPublicIp:!1,shutdownBehaviour:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,vpcId:!1,subnetId:!1,sgId:!1,name:!1,accountId:!1,roleId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("sgId"===e){for(var l=0,i=c.length;l<i;l++)n.sgss&&n.sgss.length&&n.sgss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.sgs=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=31;break}return e.next=3,fetch("".concat(v,"/eccs/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={autoAssignPublicIp:!1,shutdownBehaviour:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,vpcId:!1,subnetId:!1,sgId:!1,name:!1,accountId:!1,roleId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).instanceTypeId=t.instanceType.id,a.amiId=t.ami.id,a.vpcId=t.vpc.id,a.accountId=t.account.id,a.subnetId=t.subnet.id,t.role?a.roleId=t.role.id:a.roleId="",e.next=17,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){a.vpcs=e,l.setState({item:a})});case 17:return e.next=19,fetch("/referentiel/regions/"+t.vpc.cidr.region.id+"/amis").then(function(e){return e.json()}).then(function(e){a.amis=e,l.setState({item:a})});case 19:return e.next=21,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){a.subnets=e,l.setState({item:a})});case 21:return e.next=23,fetch("/referentiel/vpcs/"+t.vpc.id+"/sgs").then(function(e){return e.json()}).then(function(e){a.sgss=e,l.setState({item:a})});case 23:return e.next=25,fetch("/referentiel/accounts/"+t.account.id+"/roles").then(function(e){return e.json()}).then(function(e){a.roles=e,l.setState({item:a})});case 25:n=[],a.sgs.map(function(e){n.push({id:e.id})}),a.sgs=n,this.setState({item:a}),e.next=34;break;case 31:c={name:"",account:{},accounts:{},accountId:"",autoAssignPublicIp:"",shutdownBehaviour:"",enableTerminationProtection:!1,encoded64:!1,instanceType:""},Object(w.a)(c,"instanceType",""),Object(w.a)(c,"amiId",""),Object(w.a)(c,"amis",[]),Object(w.a)(c,"monitoring",!1),Object(w.a)(c,"userData",!1),Object(w.a)(c,"userDataText",""),Object(w.a)(c,"vpcs",[]),Object(w.a)(c,"vpcId",""),Object(w.a)(c,"sgss",{}),Object(w.a)(c,"sgs",[]),Object(w.a)(c,"sgId",[]),Object(w.a)(c,"roles",[]),Object(w.a)(c,"roleId",""),Object(w.a)(c,"touched",{autoAssignPublicIp:!1,shutdownBehaviour:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,vpcId:!1,subnetId:!1,sgId:!1,name:!1,accountId:!1,roleId:!1}),(r=c).touched={autoAssignPublicIp:!1,shutdownBehaviour:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,vpcId:!1,subnetId:!1,sgId:!1,name:!1,accountId:!1,roleId:!1},this.setState({item:r});case 34:return e.next=36,fetch("/referentiel/instanceTypes").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.instanceTypes=e,l.setState({item:t})});case 36:return e.next=38,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 38:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,c=a.value,r=Object(T.a)({},this.state.item);if(r[n]=c,this.setState({item:r}),"enableTerminationProtection"===n)r.enableTerminationProtection=!!a.checked;else if("monitoring"===n)r.monitoring=!!a.checked;else if("userData"===n)r.userData=!!a.checked;else if("encoded64"===n)r.encoded64=!!a.checked;else if("accountId"===n)fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.amis=[],r.amiId="",r.ami={},r.subnetId="",r.subnets=[],r.subnet={},r.roleId="",r.roles=[],r.role={},r.sgId="",r.sgs=[],r.sgss=[];else if("vpcId"===n){var l={};fetch("/referentiel/vpcs/"+r.vpcId).then(function(e){return e.json()}).then(function(e){l=e,fetch("/referentiel/regions/"+l.cidr.region.id+"/amis").then(function(e){return e.json()}).then(function(e){r.amis=e,t.setState({item:r})}),fetch("/referentiel/vpcs/"+l.id+"/subnets").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.subnets=e,t.setState({item:a})}),fetch("/referentiel/vpcs/"+l.id+"/sgs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.sgss=e,t.setState({item:a})}),fetch("/referentiel/accounts/"+l.account.id+"/roles").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.roles=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={autoAssignPublicIp:!0,shutdownBehaviour:!0,instanceTypeId:!0,amiId:!0,userDataText:!0,vpcId:!0,subnetId:!0,sgId:!0,name:!0,accountId:!0,roleId:!0},n=this.validate(a.name,a.autoAssignPublicIp,a.shutdownBehaviour,a.instanceTypeId,a.amiId,a.userDataText,a.userData,a.vpcId,a.subnetId,a.sgId,a.roleId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/eccs",a.userData||(a.userDataText="",a.encoded64=!1),a.instanceType={id:a.instanceTypeId},a.ami={id:a.amiId},a.vpc={id:a.vpcId},a.account={id:a.accountId},a.subnet={id:a.subnetId},""!==a.roleId?a.role={id:a.roleId}:a.role=null,r=[],a.sgs&&a.sgs.length&&(a.sgs.map(function(e){r.push({id:e.id}),console.log("item.sg="+e.id)}),a.sg=r),e.next=20,fetch(a.id?"/referentiel/eccs/"+a.id:"/referentiel/ecc",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 20:this.props.history.push(c);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s,u,d){var h={autoAssignPublicIp:"",shutdownBehaviour:"",instanceTypeId:"",amiId:"",userDataText:"",vpcId:"",subnetId:"",sgId:"",name:"",accountId:"",roleId:""};return this.state.item.touched.name&&0===e.length?(h.name="name type should not be null",h):this.state.item.touched.accountId&&0===d.length?(h.accountId="accountId type should not be null",h):this.state.item.touched.vpcId&&0===i.length?(h.vpcId="vpc type should not be null",h):!this.state.item.touched.subnetId||o&&0!==o.length?this.state.item.touched.amiId&&0===c.length?(h.amiId="ami type should not be null",h):this.state.item.touched.instanceTypeId&&0===n.length?(h.instanceTypeId="instanceType should not be null",h):this.state.item.touched.autoAssignPublicIp&&0===t.length?(h.autoAssignPublicIp="autoAssignPublicIp should not be null",h):this.state.item.touched.shutdownBehaviour&&0===a.length?(h.shutdownBehaviour="shutdownBehaviour should not be null",h):l&&this.state.item.touched.userDataText&&0===r.length?(h.userDataText="userDataText type should not be null",h):h:(h.subnetId="subnet type should not be null",h)}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Ecc":"Add Ecc"),n=this.validate(t.name,t.autoAssignPublicIp,t.shutdownBehaviour,t.instanceTypeId,t.amiId,t.userDataText,t.userData,t.vpcId,t.subnetId,t.sgId,t.roleId,t.accountId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=!1;""!==t.id&&t.targets&&0!==t.targets.length&&(o=!0);var s=t.userData?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encoded64"},"Encoded64:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"encoded64",id:"encoded64",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("encoded64"),checked:!0===t.encoded64})):"",u=t.userData?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"userDataText"},"User Data Text(*)"),c.a.createElement(m.j,{type:"textarea",name:"userDataText",id:"userDataText",value:t.userDataText||"",placeholder:"Enter userDataText",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("userDataText"),autoComplete:"userDataText",valid:""===n.userDataText,invalid:""!==n.userDataText}),c.a.createElement(m.g,null,n.userDataText)):"",d=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){d.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var h=t.vpcId||"";t.vpcId=h;var v=[];t.amis&&t.amis.length&&t.amis.map(function(e){v.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name," ",e.amiId))});var g=t.amiId||"";t.amiId=g;var f=[];t.instanceTypes&&t.instanceTypes.length&&t.instanceTypes.map(function(e){f.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.type))});var b=t.instanceTypeId||"";t.instanceTypeId=b;var y=[];t.subnets&&t.subnets.length&&t.subnets.map(function(e){y.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name," "))});var I=t.subnetId||"";t.subnetId=I;var j=[],k=[];t.sgss&&t.sgss.length&&t.sgss.map(function(e){t.sgs&&t.sgs.length&&t.sgs.map(function(t){e.id==t.id&&k.push({value:e.id,label:e.name})}),j.push({value:e.id,label:e.name})});var C=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Security Group (*)"),c.a.createElement(De.a,{name:"sgId",id:"sgId",placeholder:"Enter Security group",isMulti:!0,disabled:o,value:k,onChange:function(t){return e.onOptionChange("sgId",t)},onBlur:this.handleBlur("sgId"),options:j}),c.a.createElement(m.g,null,n.sgId)),O=[];t.roles&&t.roles.length&&t.roles.map(function(e){O.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var S=t.RoleId||"";return t.RoleId=S,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:o,valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpc (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:t.vpcId||"",placeholder:"Enter vpc",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),autoComplete:"vpcId",valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,n.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnet (*)"),c.a.createElement(m.j,{type:"select",name:"subnetId",id:"subnetId",value:t.subnetId||"",placeholder:"Enter subnet",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("subnetId"),autoComplete:"subnetId",valid:""===n.subnetId,invalid:""!==n.subnetId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),y),c.a.createElement(m.g,null,n.subnetId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"amiId"},"Ami(*)"),c.a.createElement(m.j,{type:"select",name:"amiId",id:"amiId",value:t.amiId||"",placeholder:"Enter amiId",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("amiId"),autoComplete:"amiId",valid:""===n.amiId,invalid:""!==n.amiId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),v),c.a.createElement(m.g,null,n.amiId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"instanceTypeId"},"Instance Type (*)"),c.a.createElement(m.j,{type:"select",name:"instanceTypeId",id:"instanceTypeId",value:t.instanceTypeId||"",placeholder:"Enter instanceType",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("instanceTypeId"),autoComplete:"instanceTypeId",valid:""===n.instanceTypeId,invalid:""!==n.instanceTypeId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),f),c.a.createElement(m.g,null,n.instanceTypeId)),C,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"autoAssignPublicIp"},"Auto Assign Public Ip (*)"),c.a.createElement(m.j,{type:"select",name:"autoAssignPublicIp",id:"autoAssignPublicIp",value:t.autoAssignPublicIp||"",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("autoAssignPublicIp"),valid:""===n.autoAssignPublicIp,invalid:""!==n.autoAssignPublicIp},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"Disable"},"Disable"),c.a.createElement("option",{value:"Enable"},"Enable")),c.a.createElement(m.g,null,n.autoAssignPublicIp)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"shutdownBehaviour"},"Shutdown Behaviour (*)"),c.a.createElement(m.j,{type:"select",name:"shutdownBehaviour",id:"shutdownBehaviour",value:t.shutdownBehaviour||"",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("shutdownBehaviour"),valid:""===n.shutdownBehaviour,invalid:""!==n.shutdownBehaviour},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"Stop"},"Stop"),c.a.createElement("option",{value:"Terminate"},"Terminate")),c.a.createElement(m.g,null,n.shutdownBehaviour)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"enableTerminationProtection"},"Enable Termination Protection:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"enableTerminationProtection",id:"enableTerminationProtection",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("enableTerminationProtection"),checked:!0===t.enableTerminationProtection})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"monitoring"},"Monitoring:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"monitoring",id:"monitoring",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("monitoring"),checked:!0===t.monitoring})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"userData"},"User Data:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"userData",id:"userData",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("userData"),checked:!0===t.userData})),s,u,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"roleId"},"Role (*)"),c.a.createElement(m.j,{type:"select",name:"roleId",id:"roleId",value:t.roleId||"",placeholder:"Enter roleId",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("roleId"),autoComplete:"roleId",valid:""===n.roleId,invalid:""!==n.roleId},c.a.createElement("option",{value:""},"Choose"),O),c.a.createElement(m.g,null,n.roleId)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r||o},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/eccs"},"Cancel")))))}}]),t}(n.Component),ya=Object(B.a)(ba),Ia=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eccStorages:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/eccs/").concat(this.props.match.params.id,"/eccStorages")).then(function(e){return e.json()}).then(function(t){return e.setState({eccStorages:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/eccs/").concat(t,"/eccStorages/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.eccStorages).filter(function(e){return e.id!==a});n.setState({eccStorages:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.eccStorages;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/eccs/"+t.ecc.id,n=t.deleteOnTermination?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.volumeType),c.a.createElement("td",null,t.device),c.a.createElement("td",null,t.snapshot),c.a.createElement("td",null,t.size),c.a.createElement("td",null,t.volume),c.a.createElement("td",null,t.iops),c.a.createElement("td",null,t.throughput),c.a.createElement("td",null,n),c.a.createElement("td",null,t.encrypted),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.ecc.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/ecc/"+t.ecc.id+"/eccStorages/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.ecc.id,t.id)}},"Delete"))))}),r="".concat(v,"/ecc/").concat(this.props.match.params.id,"/eccStorages/new"),l="".concat(v,"/eccs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Ec2"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Ec2 Storage")),c.a.createElement("h3",null,"Ec2 Storage"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Volume Type"),c.a.createElement("th",{width:"5%"},"Device"),c.a.createElement("th",{width:"5%"},"Snapshot"),c.a.createElement("th",{width:"5%"},"Size"),c.a.createElement("th",{width:"5%"},"Volume"),c.a.createElement("th",{width:"5%"},"Iops"),c.a.createElement("th",{width:"5%"},"Throughput"),c.a.createElement("th",{width:"5%"},"DeleteOnTermination"),c.a.createElement("th",{width:"5%"},"Encrypted"),c.a.createElement("th",{width:"5%"},"Ecc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),ja=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={volumeType:"",device:"",snapshot:"",size:"",volume:"",iops:"",throughput:"",deleteOnTermination:!0,encrypted:"",ecc:{},touched:{volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/eccStorages/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/eccs/").concat(this.props.match.params.ide));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={volumeType:"",device:"",snapshot:"",size:"",volume:"",iops:"",throughput:"",deleteOnTermination:!0,encrypted:"",ecc:{},touched:{volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1}}).ecc=a,n.touched={volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={volumeType:!0,device:!0,snapshot:!0,volume:!0,iops:!0,throughput:!0,encrypted:!0},n=this.validate(a.volumeType,a.device,a.snapshot,a.volume,a.iops,a.throughput,a.encrypted),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/ecc/"+a.ecc.id+"/eccStorages",a.ecc={id:a.ecc.id},e.next=12,fetch(a.id?"/referentiel/eccs/"+a.ecc.id+"/eccStorages/"+a.id:"/referentiel/eccs/"+a.ecc.id+"/eccStorages",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l){var i={volumeType:"",device:"",snapshot:"",volume:"",iops:"",throughput:"",encrypted:""};return this.state.item.touched.volumeType&&0===e.length?(i.volumeType="volumeType should not be null",i):this.state.item.touched.device&&0===t.length?(i.device="device should not be null",i):this.state.item.touched.snapshot&&0===a.length?(i.snapshot="snapshot should not be null",i):this.state.item.touched.volume&&0===n.length?(i.volume="volume should not be null",i):this.state.item.touched.iops&&0===c.length?(i.iops="iops should not be null",i):this.state.item.touched.throughput&&0===r.length?(i.throughput="throughput should not be null",i):this.state.item.touched.encrypted&&0===l.length?(i.encrypted="encrypted should not be null",i):i}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Ec2 Storage":"Add Ec2 Storage"),n=this.validate(t.volumeType,t.device,t.snapshot,t.volume,t.iops,t.throughput,t.encrypted),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/ecc/"+t.ecc.id+"/eccStorages";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"eccId"},"Ec2: ",t.ecc.id),c.a.createElement(m.j,{type:"text",name:"eccId",id:"eccId",value:t.ecc.id||"",disabled:"true"}));var i;return i="Root"===t.volumeType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"device"},"Device (*)"),c.a.createElement(m.j,{type:"select",name:"device",id:"device",value:t.device||"",placeholder:"Enter device",onChange:this.handleChange,onBlur:this.handleBlur("device"),valid:""===n.device,invalid:""!==n.device},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"/dev/xvda"},"/dev/xvda")),c.a.createElement(m.g,null,n.device)):c.a.createElement(m.h,null," ",c.a.createElement(m.k,{for:"device"},"Device (*)"),c.a.createElement(m.j,{type:"select",name:"device",id:"device",value:t.device||"",placeholder:"Enter device",onChange:this.handleChange,onBlur:this.handleBlur("device"),valid:""===n.device,invalid:""!==n.device},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"/dev/sdb"},"/dev/sdb"),c.a.createElement("option",{value:"/dev/sdc"},"/dev/sdc"),c.a.createElement("option",{value:"/dev/sdd"},"/dev/sdd"),c.a.createElement("option",{value:"/dev/sde"},"/dev/sde"),c.a.createElement("option",{value:"/dev/sdf"},"/dev/sdf"),c.a.createElement("option",{value:"/dev/sdg"},"/dev/sdg"),c.a.createElement("option",{value:"/dev/sdh"},"/dev/sdh"),c.a.createElement("option",{value:"/dev/sdi"},"/dev/sdi"),c.a.createElement("option",{value:"/dev/sdj"},"/dev/sdj"),c.a.createElement("option",{value:"/dev/sdk"},"/dev/sdk"),c.a.createElement("option",{value:"/dev/sdl"},"/dev/sdl")),c.a.createElement(m.g,null,n.device)),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"volumeType"},"Volume Type (*)"),c.a.createElement(m.j,{type:"select",name:"volumeType",id:"volumeType",value:t.volumeType||"",placeholder:"Enter volumeType",onChange:this.handleChange,onBlur:this.handleBlur("volumeType"),valid:""===n.volumeType,invalid:""!==n.volumeType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"Root"},"Root"),c.a.createElement("option",{value:"EBS"},"EBS")),c.a.createElement(m.g,null,n.volumeType)),i,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"snapshot"},"Snapshot (*)"),c.a.createElement(m.j,{type:"text",name:"snapshot",id:"snapshot",value:t.snapshot||"",placeholder:"Enter snapshot",onChange:this.handleChange,onBlur:this.handleBlur("snapshot"),autoComplete:"snapshot",valid:""===n.snapshot,invalid:""!==n.snapshot}),c.a.createElement(m.g,null,n.snapshot)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"size"},"Size (*)"),c.a.createElement(m.j,{type:"number",name:"size",id:"size",value:t.size||"",placeholder:"Enter size",onChange:this.handleChange,onBlur:this.handleBlur("size"),autoComplete:"size"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"volume"},"Volume Type(*)"),c.a.createElement(m.j,{type:"select",name:"volume",id:"volume",value:t.volume||"",placeholder:"Enter volume",onChange:this.handleChange,onBlur:this.handleBlur("volume"),autoComplete:"volume",valid:""===n.volume,invalid:""!==n.volume},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"gp2"},"General Purpose SSD (gp2)"),c.a.createElement("option",{value:"io1"},"Provisioned IOPS SSD (io1)"),c.a.createElement("option",{value:"standard"},"Magnetic (standard)")),c.a.createElement(m.g,null,n.volume)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"iops"},"Iops (*)"),c.a.createElement(m.j,{type:"text",name:"iops",id:"iops",value:t.iops||"",placeholder:"Enter iops",onChange:this.handleChange,onBlur:this.handleBlur("iops"),autoComplete:"iops",valid:""===n.iops,invalid:""!==n.iops}),c.a.createElement(m.g,null,n.iops)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"throughput"},"Throughput (*)"),c.a.createElement(m.j,{type:"text",name:"throughput",id:"throughput",value:t.throughput||"",placeholder:"Enter throughput",onChange:this.handleChange,onBlur:this.handleBlur("throughput"),autoComplete:"throughput",valid:""===n.throughput,invalid:""!==n.throughput}),c.a.createElement(m.g,null,n.throughput)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encrypted"},"Encrypted (*)"),c.a.createElement(m.j,{type:"text",name:"encrypted",id:"encrypted",value:t.encrypted||"",placeholder:"Enter encrypted",onChange:this.handleChange,onBlur:this.handleBlur("encrypted"),autoComplete:"encrypted",valid:""===n.encrypted,invalid:""!==n.encrypted}),c.a.createElement(m.g,null,n.encrypted)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),ka=Object(B.a)(ja),Ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eccNetworkInterfaces:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/eccs/").concat(this.props.match.params.id,"/eccNetworkInterfaces")).then(function(e){return e.json()}).then(function(t){return e.setState({eccNetworkInterfaces:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/eccs/").concat(t,"/eccNetworkInterfaces/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.eccNetworkInterfaces).filter(function(e){return e.id!==a});n.setState({eccNetworkInterfaces:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.eccNetworkInterfaces;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/eccs/"+t.ecc.id;t.deleteOnTermination;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.device),c.a.createElement("td",null,t.networkInterface),c.a.createElement("td",null,t.primaryIp),c.a.createElement("td",null,t.secondaryIp),c.a.createElement("td",null,t.ipv6Ips),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.ecc.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/ecc/"+t.ecc.id+"/eccNetworkInterfaces/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.ecc.id,t.id)}},"Delete"))))}),r="".concat(v,"/ecc/").concat(this.props.match.params.id,"/eccNetworkInterfaces/new"),l="".concat(v,"/eccs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Ec2"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Ec2 Network Interface")),c.a.createElement("h3",null,"Ec2 Network Interface"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Device"),c.a.createElement("th",{width:"5%"},"NetworkInterface"),c.a.createElement("th",{width:"5%"},"PrimaryIp"),c.a.createElement("th",{width:"5%"},"SecondaryIp"),c.a.createElement("th",{width:"5%"},"Ipv6Ips"),c.a.createElement("th",{width:"5%"},"Ecc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Oa=a(132),Sa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={device:"",networkInterface:"",primaryIp:"",secondaryIp:"",ipv6Ips:"",ecc:{},subnet:{},touched:{device:!1,networkInterface:!1,primaryIp:!1,secondaryIp:!1,ipv6Ips:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/eccNetworkInterfaces/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={device:!1,networkInterface:!1,primaryIp:!1,secondaryIp:!1,ipv6Ips:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).subnet=t.ecc.subnet,this.setState({item:a}),e.next=25;break;case 13:return e.next=15,fetch("".concat(v,"/eccs/").concat(this.props.match.params.ide));case 15:return e.next=17,e.sent.json();case 17:n=e.sent,(c={device:"",networkInterface:"",primaryIp:"",secondaryIp:"",ipv6Ips:"",ecc:{},subnet:{},touched:{device:!1,networkInterface:!1,primaryIp:!1,secondaryIp:!1,ipv6Ips:!1}}).ecc=n,c.touched={device:!1,networkInterface:!1,primaryIp:!1,secondaryIp:!1,ipv6Ips:!1},this.setState({item:c}),(r=Object(T.a)({},this.state.item)).subnet=n.subnet,this.setState({item:r});case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={device:!0,networkInterface:!0,primaryIp:!0,secondaryIp:!0,ipv6Ips:!0},n=this.validate(a.device,a.networkInterface,a.primaryIp,a.secondaryIp,a.ipv6Ips,a.subnet),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/ecc/"+a.ecc.id+"/eccNetworkInterfaces",a.ecc={id:a.ecc.id},e.next=12,fetch(a.id?"/referentiel/eccs/"+a.ecc.id+"/eccNetworkInterfaces/"+a.id:"/referentiel/eccs/"+a.ecc.id+"/eccNetworkInterfaces",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={device:"",networkInterface:"",primaryIp:"",secondaryIp:"",ipv6Ips:""},i="",o="",s="";if(r&&r.sCidr&&(o=(i=r.sCidr.subnetCidr.split("/"))[1],s=i[0]),this.state.item.touched.device&&0===e.length)return l.device="device should not be null",l;if(this.state.item.touched.networkInterface&&0===t.length)return l.networkInterface="networkInterface should not be null",l;if(this.state.item.touched.primaryIp&&0!==a.length&&!Oa.isValid(a)&&i)return l.primaryIp="primaryIp should have Ip format",l;if(this.state.item.touched.primaryIp&&0!==a.length&&Oa.isValid(a)&&i){var u=Oa.parse(a),d=Oa.parse(s);if(!u.match(d,o))return l.primaryIp="primaryIp should be in subnet cidr",l}if(this.state.item.touched.secondaryIp&&0!==n.length&&!Oa.isValid(n)&&i)return l.secondaryIp="secondaryIp should have Ip format",l;if(this.state.item.touched.secondaryIp&&0!==n.length&&Oa.isValid(n)&&i){console.log("secondaryIp="+n);u=Oa.parse(n),d=Oa.parse(s);if(!u.match(d,o))return l.secondaryIp="secondaryIp should be in subnet cidr",l}return this.state.item.touched.secondaryIp&&0!==n.length&&i&&this.state.item.touched.primaryIp&&0!==a.length&&a===n?(l.secondaryIp="secondaryIp should be in different to secondaryIp",l):this.state.item.touched.ipv6Ips&&0!==c.length&&Oa.isValid(c)?(l.ipv6Ips="ipv6Ips should have Ip format",l):l}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Ec2 NetworkInterface":"Add Ec2 NetworkInterface"),n=this.validate(t.device,t.networkInterface,t.primaryIp,t.secondaryIp,t.ipv6Ips,t.subnet),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/ecc/"+t.ecc.id+"/eccNetworkInterfaces";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"eccId"},"Ec2: ",t.ecc.id),c.a.createElement(m.j,{type:"text",name:"eccId",id:"eccId",value:t.ecc.id||"",disabled:"true"}));var i=null;return t.subnet&&t.subnet.sCidr&&(i=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sub"},"Subnet: ",t.subnet.name," - ",t.subnet.sCidr.subnetCidr),c.a.createElement(m.j,{type:"text",name:"sub",id:"sub",value:t.subnet.id||"",disabled:"true"}))),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,i,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"device"},"Device (*)"),c.a.createElement(m.j,{type:"text",name:"device",id:"device",value:t.device||"",placeholder:"Enter device",onChange:this.handleChange,onBlur:this.handleBlur("device"),autoComplete:"device",valid:""===n.device,invalid:""!==n.device}),c.a.createElement(m.g,null,n.device)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"networkInterface"},"Network Interface (*)"),c.a.createElement(m.j,{type:"select",name:"networkInterface",id:"networkInterface",value:t.networkInterface||"",placeholder:"Enter networkInterface",onChange:this.handleChange,onBlur:this.handleBlur("networkInterface"),valid:""===n.networkInterface,invalid:""!==n.networkInterface},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"New"},"New")),c.a.createElement(m.g,null,n.networkInterface)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"primaryIp"},"Primary Ip (*)"),c.a.createElement(m.j,{type:"text",name:"primaryIp",id:"primaryIp",value:t.primaryIp||"",placeholder:"Enter primaryIp",onChange:this.handleChange,onBlur:this.handleBlur("primaryIp"),autoComplete:"primaryIp",valid:""===n.primaryIp,invalid:""!==n.primaryIp}),c.a.createElement(m.g,null,n.primaryIp)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"secondaryIp"},"Secondary Ip "),c.a.createElement(m.j,{type:"text",name:"secondaryIp",id:"secondaryIp",value:t.secondaryIp||"",placeholder:"Enter secondaryIp",onChange:this.handleChange,onBlur:this.handleBlur("secondaryIp"),autoComplete:"secondaryIp",valid:""===n.secondaryIp,invalid:""!==n.secondaryIp}),c.a.createElement(m.g,null,n.secondaryIp)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ipv6Ips"},"Ipv6 Ip"),c.a.createElement(m.j,{type:"text",name:"ipv6Ips",id:"ipv6Ips",value:t.ipv6Ips||"",placeholder:"Enter ipv6Ips",disabled:"true",onChange:this.handleChange,onBlur:this.handleBlur("ipv6Ips"),autoComplete:"ipv6Ips",valid:""===n.ipv6Ips,invalid:""!==n.ipv6Ips}),c.a.createElement(m.g,null,n.ipv6Ips)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),xa=Object(B.a)(Sa),wa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/eccs/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/eccs/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/eccs/"+t.ecc.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.ecc.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/ecc/"+t.ecc.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.ecc.id,t.id)}},"Delete"))))}),r="".concat(v,"/ecc/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/eccs");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Ecc"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagEcc"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Ecc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ta=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",ecc:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/eccs/").concat(this.props.match.params.ide));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",ecc:{},touched:{key:!1,value:!1}}).ecc=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/ecc/"+a.ecc.id+"/tags",a.ecc={id:a.ecc.id},e.next=12,fetch(a.id?"/referentiel/eccs/"+a.ecc.id+"/tags/"+a.id:"/referentiel/eccs/"+a.ecc.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/ecc/"+t.ecc.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"eccId"},"Ecc: ",t.ecc.name),c.a.createElement(m.j,{type:"text",name:"eccId",id:"eccId",value:t.ecc.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Ba=Object(B.a)(Ta),Aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={launchConfigurations:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/launchConfigurations")).then(function(e){return e.json()}).then(function(t){return e.setState({launchConfigurations:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/launchConfigurations/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(a.state.launchConfigurations).filter(function(e){return e.id!==t});a.setState({launchConfigurations:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.launchConfigurations;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.encoded64?"Yes":"No",l=t.userData?"Yes":"No",i=t.monitoring?"Yes":"No",o=t.purchasingOption?"Yes":"No",s="";t.sgs.map(function(e){s=s+"|"+e.id+":"+e.name});return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.ami.id),c.a.createElement("td",null,t.instanceType.id),c.a.createElement("td",null,t.kernalId),c.a.createElement("td",null,t.ramDiskId),c.a.createElement("td",null,o),c.a.createElement("td",null,t.iamRole),c.a.createElement("td",null,t.ipAddressType),c.a.createElement("td",null,i),c.a.createElement("td",null,l),c.a.createElement("td",null,r),c.a.createElement("td",null,t.userDataText),c.a.createElement("td",null,s),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/launchconfiguration/"+t.id+"/launchConfigurationStorages"},"Storages"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/launchconfigurations/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)}},"Delete"))))}),r="".concat(v,"/launchconfigurations/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add LaunchConfiguration")),c.a.createElement("h3",null,"Launch Configuration"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Ami"),c.a.createElement("th",{width:"5%"},"Instance Type"),c.a.createElement("th",{width:"5%"},"Kernal Id"),c.a.createElement("th",{width:"5%"},"Ram Disk Id"),c.a.createElement("th",{width:"5%"},"Purchasing Option"),c.a.createElement("th",{width:"5%"},"Iam Role"),c.a.createElement("th",{width:"5%"},"Ip Address Type"),c.a.createElement("th",{width:"5%"},"Monitoring"),c.a.createElement("th",{width:"5%"},"user Data"),c.a.createElement("th",{width:"5%"},"Encoded64"),c.a.createElement("th",{width:"5%"},"User Data Text"),c.a.createElement("th",{width:"5%"},"Sg"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",kernalId:"",ramDiskId:"",purchasingOption:!1,iamRole:"",ipAddressType:"",monitoring:!1,encoded64:!1,instanceType:"",instanceTypes:[],instanceTypeId:"",amiId:"",amis:[],userData:!1,userDataText:"",sgss:{},sgs:[],sgId:[],vpcs:[],vpcId:"",touched:{name:!1,accountId:!1,kernalId:!1,ramDiskId:!1,iamRole:!1,ipAddressType:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,sgId:!1,vpcId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("sgId"===e){for(var l=0,i=c.length;l<i;l++)n.sgss&&n.sgss.length&&n.sgss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.sgs=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=25;break}return e.next=3,fetch("".concat(v,"/launchConfigurations/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,kernalId:!1,ramDiskId:!1,iamRole:!1,ipAddressType:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,sgId:!1,vpcId:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.vpcs=e,r.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/regions/"+t.vpc.cidr.region.id+"/amis").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.amis=e,r.setState({item:t})});case 12:return e.next=14,fetch("/referentiel/vpcs/"+t.vpc.id+"/sgs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.sgss=e,r.setState({item:t})});case 14:(a=Object(T.a)({},this.state.item)).instanceTypeId=t.instanceType.id,a.amiId=t.ami.id,a.vpcId=t.vpc.id,a.accountId=t.account.id,n=[],a.sgs.map(function(e){n.push({id:e.id})}),a.sgs=n,this.setState({item:a}),e.next=28;break;case 25:(c={name:"",account:{},accounts:{},accountId:"",kernalId:"",ramDiskId:"",purchasingOption:!1,iamRole:"",ipAddressType:"",monitoring:!1,encoded64:!1,instanceType:"",instanceTypes:[],instanceTypeId:"",amiId:"",amis:[],userData:!1,userDataText:"",sgss:{},sgs:[],sgId:[],vpcs:[],vpcId:"",touched:{name:!1,accountId:!1,kernalId:!1,ramDiskId:!1,iamRole:!1,ipAddressType:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,sgId:!1,vpcId:!1}}).touched={name:!1,accountId:!1,kernalId:!1,ramDiskId:!1,iamRole:!1,ipAddressType:!1,instanceTypeId:!1,amiId:!1,userDataText:!1,sgId:!1,vpcId:!1},this.setState({item:c});case 28:return e.next=30,fetch("/referentiel/instanceTypes").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.instanceTypes=e,r.setState({item:t})});case 30:return e.next=32,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},r.state.item);t.accounts=e,r.setState({item:t})});case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,c=a.value,r=Object(T.a)({},this.state.item);if(r[n]=c,this.setState({item:r}),"purchasingOption"===n)r.purchasingOption=!!a.checked;else if("monitoring"===n)r.monitoring=!!a.checked;else if("userData"===n)r.userData=!!a.checked;else if("encoded64"===n)r.encoded64=!!a.checked;else if("accountId"===n)fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.amiId="",r.amis=[],r.sgId="",r.sgs=[],r.sgss=[];else if("vpcId"===n){var l={};fetch("/referentiel/vpcs/"+r.vpcId).then(function(e){return e.json()}).then(function(e){l=e,fetch("/referentiel/regions/"+l.cidr.region.id+"/amis").then(function(e){return e.json()}).then(function(e){r.amis=e,t.setState({item:r})}),fetch("/referentiel/vpcs/"+l.id+"/sgs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.sgss=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,kernalId:!0,ramDiskId:!0,iamRole:!0,ipAddressType:!0,instanceTypeId:!0,amiId:!0,userDataText:!0,sgId:!0,vpcId:!0},n=this.validate(a.vpcId,a.name,a.kernalId,a.ramDiskId,a.iamRole,a.ipAddressType,a.instanceTypeId,a.amiId,a.userDataText,a.sgId,a.userData,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/launchconfigurations",a.userData||(a.userDataText="",a.encoded64=!1),a.instanceType={id:a.instanceTypeId},a.ami={id:a.amiId},a.vpc={id:a.vpcId},a.account={id:a.accountId},r=[],a.sgs&&a.sgs.length&&(a.sgs.map(function(e){r.push({id:e.id}),console.log("item.sg="+e.id)}),a.sg=r),e.next=18,fetch(a.id?"/referentiel/launchConfigurations/"+a.id:"/referentiel/launchConfiguration",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 18:this.props.history.push(c);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s,u,d){var h={name:"",accountId:"",kernalId:"",ramDiskId:"",iamRole:"",ipAddressType:"",instanceTypeId:"",amiId:"",userDataText:"",sgId:"",vpcId:""};return this.state.item.touched.name&&0===t.length?(h.name="name type should not be null",h):this.state.item.touched.accountId&&0===d.length?(h.accountId="accountId type should not be null",h):this.state.item.touched.vpcId&&0===e.length?(h.vpcId="vpcId type should not be null",h):this.state.item.touched.kernalId&&0===a.length?(h.kernalId="kernalId type should not be null",h):this.state.item.touched.ramDiskId&&0===n.length?(h.ramDiskId="ramDiskId type should not be null",h):this.state.item.touched.iamRole&&0===c.length?(h.iamRole="iamRole type should not be null",h):this.state.item.touched.ipAddressType&&0===r.length?(h.ipAddressType="ipAddressType should not be null",h):this.state.item.touched.instanceTypeId&&0===l.length?(h.instanceTypeId="instanceTypeId should not be null",h):this.state.item.touched.amiId&&0===i.length?(h.amiId="amiId should not be null",h):u&&this.state.item.touched.userDataText&&0===o.length?(h.userDataText="userDataText type should not be null",h):h}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit LaunchConfiguration":"Add LaunchConfiguration"),n=this.validate(t.vpcId,t.name,t.kernalId,t.ramDiskId,t.iamRole,t.ipAddressType,t.instanceTypeId,t.amiId,t.userDataText,t.sgId,t.userData,t.accountId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){o.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name))});var s=t.vpcId||"";t.vpcId=s;var u=t.userData?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encoded64"},"Encoded64:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"encoded64",id:"encoded64",onChange:this.handleChange,onBlur:this.handleBlur("encoded64"),checked:!0===t.encoded64})):"",d=t.userData?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"userDataText"},"User Data Text(*)"),c.a.createElement(m.j,{type:"textarea",name:"userDataText",id:"userDataText",value:t.userDataText||"",placeholder:"Enter userDataText",onChange:this.handleChange,onBlur:this.handleBlur("userDataText"),autoComplete:"userDataText",valid:""===n.userDataText,invalid:""!==n.userDataText}),c.a.createElement(m.g,null,n.userDataText)):"",h=[];t.amis&&t.amis.length&&t.amis.map(function(e){h.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.name," ",e.amiId))});var v=t.amiId||"";t.amiId=v;var g=[];t.instanceTypes&&t.instanceTypes.length&&t.instanceTypes.map(function(e){g.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.type))});var f=t.instanceTypeId||"";t.instanceTypeId=f;var b=[],y=[];t.sgss&&t.sgss.length&&t.sgss.map(function(e){t.sgs&&t.sgs.length&&t.sgs.map(function(t){e.id==t.id&&y.push({value:e.id,label:e.name})}),b.push({value:e.id,label:e.name})});var I=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"sgId"},"Security Group (*)"),c.a.createElement(De.a,{name:"sgId",id:"sgId",placeholder:"Enter Security group",isMulti:!0,value:y,onChange:function(t){return e.onOptionChange("sgId",t)},onBlur:this.handleBlur("sgId"),options:b}),c.a.createElement(m.g,null,n.sgId));return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpc (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:t.vpcId||"",placeholder:"Enter vpc",onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),autoComplete:"vpcId",valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"kernalId"},"Kernal Id (*)"),c.a.createElement(m.j,{type:"text",name:"kernalId",id:"kernalId",value:t.kernalId||"",placeholder:"Enter kernalId",onChange:this.handleChange,onBlur:this.handleBlur("kernalId"),autoComplete:"kernalId",valid:""===n.kernalId,invalid:""!==n.kernalId}),c.a.createElement(m.g,null,n.kernalId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ramDiskId"},"Ram Disk Id (*)"),c.a.createElement(m.j,{type:"text",name:"ramDiskId",id:"ramDiskId",value:t.ramDiskId||"",placeholder:"Enter ramDiskId",onChange:this.handleChange,onBlur:this.handleBlur("ramDiskId"),autoComplete:"ramDiskId",valid:""===n.ramDiskId,invalid:""!==n.ramDiskId}),c.a.createElement(m.g,null,n.ramDiskId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"purchasingOption"},"Purchasing Option:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"purchasingOption",id:"purchasingOption",disabled:!0,onChange:this.handleChange,onBlur:this.handleBlur("purchasingOption"),checked:!0===t.purchasingOption})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"iamRole"},"Iam Role (*)"),c.a.createElement(m.j,{type:"text",name:"iamRole",id:"iamRole",value:t.iamRole||"",placeholder:"Enter iamRole",onChange:this.handleChange,onBlur:this.handleBlur("iamRole"),autoComplete:"iamRole",valid:""===n.iamRole,invalid:""!==n.iamRole}),c.a.createElement(m.g,null,n.iamRole)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ipAddressType"},"Ip Address Type (*)"),c.a.createElement(m.j,{type:"text",name:"ipAddressType",id:"ipAddressType",value:t.ipAddressType||"",placeholder:"Enter ipAddressType",onChange:this.handleChange,onBlur:this.handleBlur("ipAddressType"),autoComplete:"ipAddressType",valid:""===n.ipAddressType,invalid:""!==n.ipAddressType}),c.a.createElement(m.g,null,n.ipAddressType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"monitoring"},"Monitoring:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"monitoring",id:"monitoring",onChange:this.handleChange,onBlur:this.handleBlur("monitoring"),checked:!0===t.monitoring})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"amiId"},"Ami(*)"),c.a.createElement(m.j,{type:"select",name:"amiId",id:"amiId",value:t.amiId||"",placeholder:"Enter amiId",onChange:this.handleChange,onBlur:this.handleBlur("amiId"),autoComplete:"amiId",valid:""===n.amiId,invalid:""!==n.amiId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),h),c.a.createElement(m.g,null,n.amiId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"instanceTypeId"},"Instance Type (*)"),c.a.createElement(m.j,{type:"select",name:"instanceTypeId",id:"instanceTypeId",value:t.instanceTypeId||"",placeholder:"Enter instanceType",onChange:this.handleChange,onBlur:this.handleBlur("instanceTypeId"),autoComplete:"instanceTypeId",valid:""===n.instanceTypeId,invalid:""!==n.instanceTypeId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),g),c.a.createElement(m.g,null,n.instanceTypeId)),I,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"userData"},"User Data:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"userData",id:"userData",onChange:this.handleChange,onBlur:this.handleBlur("userData"),checked:!0===t.userData})),u,d,c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/launchconfigurations"},"Cancel")))))}}]),t}(n.Component),Pa=Object(B.a)(Da),Na=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eccStorages:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/launchConfigurations/").concat(this.props.match.params.id,"/eccStorages")).then(function(e){return e.json()}).then(function(t){return e.setState({eccStorages:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/launchConfigurations/").concat(t,"/launchConfigurationStorages/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.eccStorages).filter(function(e){return e.id!==a});n.setState({eccStorages:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.eccStorages;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/launchconfigurations/"+t.launchConfiguration.id,n=t.deleteOnTermination?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.volumeType),c.a.createElement("td",null,t.device),c.a.createElement("td",null,t.snapshot),c.a.createElement("td",null,t.size),c.a.createElement("td",null,t.volume),c.a.createElement("td",null,t.iops),c.a.createElement("td",null,t.throughput),c.a.createElement("td",null,n),c.a.createElement("td",null,t.encrypted),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.launchConfiguration.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/launchconfiguration/"+t.launchConfiguration.id+"/launchConfigurationStorages/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.launchConfiguration.id,t.id)}},"Delete"))))}),r="".concat(v,"/launchconfiguration/").concat(this.props.match.params.id,"/launchConfigurationStorages/new"),l="".concat(v,"/launchconfigurations");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Launch Configuration"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Launch Configuration Storage")),c.a.createElement("h3",null,"Launch Configuration Storage"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Volume Type"),c.a.createElement("th",{width:"5%"},"Device"),c.a.createElement("th",{width:"5%"},"Snapshot"),c.a.createElement("th",{width:"5%"},"Size"),c.a.createElement("th",{width:"5%"},"Volume"),c.a.createElement("th",{width:"5%"},"Iops"),c.a.createElement("th",{width:"5%"},"Throughput"),c.a.createElement("th",{width:"5%"},"DeleteOnTermination"),c.a.createElement("th",{width:"5%"},"Encrypted"),c.a.createElement("th",{width:"5%"},"Launch Configuration"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),La=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={volumeType:"",device:"",snapshot:"",size:"",volume:"",iops:"",throughput:"",deleteOnTermination:!0,encrypted:"",launchConfiguration:{},touched:{volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/launchConfigurationStorages/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/launchConfigurations/").concat(this.props.match.params.idl));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={volumeType:"",device:"",snapshot:"",size:"",volume:"",iops:"",throughput:"",deleteOnTermination:!0,encrypted:"",launchConfiguration:{},touched:{volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1}}).launchConfiguration=a,n.touched={volumeType:!1,device:!1,snapshot:!1,volume:!1,iops:!1,throughput:!1,encrypted:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={volumeType:!0,device:!0,snapshot:!0,volume:!0,iops:!0,throughput:!0,encrypted:!0},n=this.validate(a.volumeType,a.device,a.snapshot,a.volume,a.iops,a.throughput,a.encrypted),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/launchConfiguration/"+a.launchConfiguration.id+"/launchConfigurationStorages",a.launchConfiguration={id:a.launchConfiguration.id},e.next=12,fetch(a.id?"/referentiel/launchConfigurations/"+a.launchConfiguration.id+"/launchConfigurationStorages/"+a.id:"/referentiel/launchConfigurations/"+a.launchConfiguration.id+"/launchConfigurationStorages",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l){var i={volumeType:"",device:"",snapshot:"",volume:"",iops:"",throughput:"",encrypted:""};return this.state.item.touched.volumeType&&0===e.length?(i.volumeType="volumeType should not be null",i):this.state.item.touched.device&&0===t.length?(i.device="device should not be null",i):this.state.item.touched.snapshot&&0===a.length?(i.snapshot="snapshot should not be null",i):this.state.item.touched.volume&&0===n.length?(i.volume="volume should not be null",i):this.state.item.touched.iops&&0===c.length?(i.iops="iops should not be null",i):this.state.item.touched.throughput&&0===r.length?(i.throughput="throughput should not be null",i):this.state.item.touched.encrypted&&0===l.length?(i.encrypted="encrypted should not be null",i):i}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Ec2 Storage":"Add Ec2 Storage"),n=this.validate(t.volumeType,t.device,t.snapshot,t.volume,t.iops,t.throughput,t.encrypted),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/launchconfiguration/"+t.launchConfiguration.id+"/launchConfigurationStorages";e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"launchConfigurationId"},"Ec2: ",t.launchConfiguration.id),c.a.createElement(m.j,{type:"text",name:"launchConfigurationId",id:"launchConfigurationId",value:t.launchConfiguration.id||"",disabled:"true"}));var i;return i="Root"===t.volumeType?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"device"},"Device (*)"),c.a.createElement(m.j,{type:"select",name:"device",id:"device",value:t.device||"",placeholder:"Enter device",onChange:this.handleChange,onBlur:this.handleBlur("device"),valid:""===n.device,invalid:""!==n.device},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"/dev/xvda"},"/dev/xvda")),c.a.createElement(m.g,null,n.device)):c.a.createElement(m.h,null," ",c.a.createElement(m.k,{for:"device"},"Device (*)"),c.a.createElement(m.j,{type:"select",name:"device",id:"device",value:t.device||"",placeholder:"Enter device",onChange:this.handleChange,onBlur:this.handleBlur("device"),valid:""===n.device,invalid:""!==n.device},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"/dev/sdb"},"/dev/sdb"),c.a.createElement("option",{value:"/dev/sdc"},"/dev/sdc"),c.a.createElement("option",{value:"/dev/sdd"},"/dev/sdd"),c.a.createElement("option",{value:"/dev/sde"},"/dev/sde"),c.a.createElement("option",{value:"/dev/sdf"},"/dev/sdf"),c.a.createElement("option",{value:"/dev/sdg"},"/dev/sdg"),c.a.createElement("option",{value:"/dev/sdh"},"/dev/sdh"),c.a.createElement("option",{value:"/dev/sdi"},"/dev/sdi"),c.a.createElement("option",{value:"/dev/sdj"},"/dev/sdj"),c.a.createElement("option",{value:"/dev/sdk"},"/dev/sdk"),c.a.createElement("option",{value:"/dev/sdl"},"/dev/sdl")),c.a.createElement(m.g,null,n.device)),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"volumeType"},"Volume Type (*)"),c.a.createElement(m.j,{type:"select",name:"volumeType",id:"volumeType",value:t.volumeType||"",placeholder:"Enter volumeType",onChange:this.handleChange,onBlur:this.handleBlur("volumeType"),valid:""===n.volumeType,invalid:""!==n.volumeType},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"Root"},"Root"),c.a.createElement("option",{value:"EBS"},"EBS")),c.a.createElement(m.g,null,n.volumeType)),i,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"snapshot"},"Snapshot (*)"),c.a.createElement(m.j,{type:"text",name:"snapshot",id:"snapshot",value:t.snapshot||"",placeholder:"Enter snapshot",onChange:this.handleChange,onBlur:this.handleBlur("snapshot"),autoComplete:"snapshot",valid:""===n.snapshot,invalid:""!==n.snapshot}),c.a.createElement(m.g,null,n.snapshot)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"size"},"Size (*)"),c.a.createElement(m.j,{type:"number",name:"size",id:"size",value:t.size||"",placeholder:"Enter size",onChange:this.handleChange,onBlur:this.handleBlur("size"),autoComplete:"size"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"volume"},"Volume Type(*)"),c.a.createElement(m.j,{type:"select",name:"volume",id:"volume",value:t.volume||"",placeholder:"Enter volume",onChange:this.handleChange,onBlur:this.handleBlur("volume"),autoComplete:"volume",valid:""===n.volume,invalid:""!==n.volume},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"gp2"},"General Purpose SSD (gp2)"),c.a.createElement("option",{value:"io1"},"Provisioned IOPS SSD (io1)"),c.a.createElement("option",{value:"standard"},"Magnetic (standard)")),c.a.createElement(m.g,null,n.volume)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"iops"},"Iops (*)"),c.a.createElement(m.j,{type:"text",name:"iops",id:"iops",value:t.iops||"",placeholder:"Enter iops",onChange:this.handleChange,onBlur:this.handleBlur("iops"),autoComplete:"iops",valid:""===n.iops,invalid:""!==n.iops}),c.a.createElement(m.g,null,n.iops)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"throughput"},"Throughput (*)"),c.a.createElement(m.j,{type:"text",name:"throughput",id:"throughput",value:t.throughput||"",placeholder:"Enter throughput",onChange:this.handleChange,onBlur:this.handleBlur("throughput"),autoComplete:"throughput",valid:""===n.throughput,invalid:""!==n.throughput}),c.a.createElement(m.g,null,n.throughput)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"encrypted"},"Encrypted (*)"),c.a.createElement(m.j,{type:"text",name:"encrypted",id:"encrypted",value:t.encrypted||"",placeholder:"Enter encrypted",onChange:this.handleChange,onBlur:this.handleBlur("encrypted"),autoComplete:"encrypted",valid:""===n.encrypted,invalid:""!==n.encrypted}),c.a.createElement(m.g,null,n.encrypted)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),za=Object(B.a)(La),Ma=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={autoScalingGroups:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/autoScalingGroups").then(function(e){return e.json()}).then(function(t){return e.setState({autoScalingGroups:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/autoScalingGroups/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.autoScalingGroups).filter(function(e){return e.id!==a});n.setState({autoScalingGroups:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.autoScalingGroups;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.loadBalancing?"Yes":"No",l=t.createAutoScalingGroup?"Yes":"No",i="";t.subnets&&t.subnets.length&&t.subnets.map(function(e){i=i+e.id+":"+e.name+":"+e.az.name+"| "});var o="";return t.targetGroups&&t.targetGroups.length&&t.targetGroups.map(function(e){o=o+e.id+":"+e.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,t.launchConfiguration.id),c.a.createElement("td",null,i),c.a.createElement("td",null,t.groupSize),c.a.createElement("td",null,r),c.a.createElement("td",null,o),c.a.createElement("td",null,t.healthCheckType),c.a.createElement("td",null,t.healthCheckGracePeriod),c.a.createElement("td",null,t.instanceProtection),c.a.createElement("td",null,t.serviceLinkedRole),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/autoscalinggroup/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/autoscalinggroups/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/autoscalinggroups/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Auto Scaling Group")),c.a.createElement("h3",null,"Auto Scaling Group"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Launch Configuration"),c.a.createElement("th",{width:"5%"},"Subnet"),c.a.createElement("th",{width:"5%"},"Group Size"),c.a.createElement("th",{width:"5%"},"LoadBalancing"),c.a.createElement("th",{width:"5%"},"Target Group"),c.a.createElement("th",{width:"5%"},"HealthCheckType"),c.a.createElement("th",{width:"5%"},"HealthCheckGracePeriod"),c.a.createElement("th",{width:"5%"},"Instance Protection"),c.a.createElement("th",{width:"5%"},"ServiceLinkedRole"),c.a.createElement("th",{width:"5%"},"CreateAutoScalingGroup"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",launchConfiguration:{},launchConfigurations:{},launchConfigurationId:"",groupSize:"",loadBalancing:!1,targetGroups:[],targetGroupss:[],targetGroupId:[],healthCheckType:"EC2",healthCheckGracePeriod:"",instanceProtection:"",serviceLinkedRole:"",createAutoScalingGroup:!0,vpc:{},vpcs:{},vpcId:"",subnets:[],subnetss:[],subnetId:[],touched:{name:!1,accountId:!1,vpcId:!1,subnetId:!1,launchConfigurationId:!1,groupSize:!1,targetGroupId:!1,healthCheckGracePeriod:!1,instanceProtection:!1,serviceLinkedRole:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("targetGroupId"===e){for(var l=0,i=c.length;l<i;l++)n.targetGroupss&&n.targetGroupss.length&&n.targetGroupss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.targetGroups=r}if("subnetId"===e){for(l=0,i=c.length;l<i;l++)n.subnetss&&n.subnetss.length&&n.subnetss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.subnets=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=29;break}return e.next=3,fetch("".concat(v,"/autoScalingGroups/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1,launchConfigurationId:!1,groupSize:!1,targetGroupId:!1,healthCheckGracePeriod:!1,instanceProtection:!1,serviceLinkedRole:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.vpcs=e,l.setState({item:t})});case 10:return e.next=12,fetch("/referentiel/vpcs/"+t.vpc.id+"/subnets").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.subnetss=e,l.setState({item:t})});case 12:return e.next=14,fetch("/referentiel/vpcs/"+t.vpc.id+"/launchConfigurations").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.launchConfigurations=e,l.setState({item:t})});case 14:return e.next=16,fetch("/referentiel/vpcs/"+t.vpc.id+"/targetGroups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.targetGroupss=e,l.setState({item:t})});case 16:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,a.launchConfigurationId=t.launchConfiguration.id,n=[],a.subnets.map(function(e){n.push({id:e.id})}),a.subnets=n,n=[],a.targetGroups.map(function(e){n.push({id:e.id})}),a.targetGroups=n,this.setState({item:a}),e.next=32;break;case 29:c={name:"",accountId:!1,account:{},accounts:{}},Object(w.a)(c,"accountId",""),Object(w.a)(c,"launchConfiguration",{}),Object(w.a)(c,"launchConfigurations",{}),Object(w.a)(c,"launchConfigurationId",""),Object(w.a)(c,"groupSize",""),Object(w.a)(c,"loadBalancing",!1),Object(w.a)(c,"targetGroups",[]),Object(w.a)(c,"targetGroupss",[]),Object(w.a)(c,"targetGroupId",[]),Object(w.a)(c,"healthCheckType","EC2"),Object(w.a)(c,"healthCheckGracePeriod",""),Object(w.a)(c,"instanceProtection",""),Object(w.a)(c,"serviceLinkedRole",""),Object(w.a)(c,"createAutoScalingGroup",!0),Object(w.a)(c,"vpc",{}),Object(w.a)(c,"vpcs",{}),Object(w.a)(c,"vpcId",""),Object(w.a)(c,"subnets",[]),Object(w.a)(c,"subnetss",[]),Object(w.a)(c,"subnetId",[]),Object(w.a)(c,"touched",{name:!1,vpcId:!1,subnetId:!1,launchConfigurationId:!1,groupSize:!1,targetGroupId:!1,healthCheckGracePeriod:!1,instanceProtection:!1,serviceLinkedRole:!1}),(r=c).touched={name:!1,accountId:!1,vpcId:!1,subnetId:!1,launchConfigurationId:!1,groupSize:!1,targetGroupId:!1,healthCheckGracePeriod:!1,instanceProtection:!1,serviceLinkedRole:!1},this.setState({item:r});case 32:return e.next=34,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 34:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"typecreateAutoScalingGroup"===c&&(r.createAutoScalingGroup="Keep"===n),"type"===c&&(r.healthCheckType="ELB"===n?"ELB":"EC2"),"loadBalancing"===c&&(r.loadBalancing=!!a.checked,""===r.healthCheckType&&(r.healthCheckType="EC2")),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.subnetId="",r.subnets=[],r.subnetss=[],r.launchConfigurationId="",r.launchConfiguration={},r.launchConfigurations=[],r.targetGroupId="",r.targetGroups=[],r.targetGroupss=[]),"vpcId"===c&&(fetch("/referentiel/vpcs/"+r.vpcId+"/subnets").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.subnetss=e,t.setState({item:a})}),fetch("/referentiel/vpcs/"+r.vpcId+"/launchConfigurations").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.launchConfigurations=e,t.setState({item:a})}),fetch("/referentiel/vpcs/"+r.vpcId+"/targetGroups").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.targetGroupss=e,t.setState({item:a})}))}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,subnetId:!0,launchConfigurationId:!0,groupSize:!0,targetGroupId:!0,healthCheckGracePeriod:!0,instanceProtection:!0,serviceLinkedRole:!0},n=this.validate(a.name,a.vpcId,a.subnetId,a.launchConfigurationId,a.groupSize,a.targetGroupId,a.healthCheckGracePeriod,a.instanceProtection,a.serviceLinkedRole,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/autoScalingGroups",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.launchConfiguration={id:a.launchConfigurationId},a.loadBalancing||(a.targetGroups=[],a.healthCheckType=""),e.next=15,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/autoScalingGroups/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/autoScalingGroups",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r,l,i,o,s){var u={name:"",accountId:"",vpcId:"",subnetId:"",launchConfigurationId:"",groupSize:"",targetGroupId:"",healthCheckGracePeriod:"",instanceProtection:"",serviceLinkedRole:""};return this.state.item.touched.name&&0===e.length?(u.name="Name should not be null",u):this.state.item.touched.accountId&&0===s.length?(u.accountId="accountId should not be null",u):this.state.item.touched.vpcId&&0===t.length?(u.vpcId="Vpc should not be null",u):this.state.item.touched.launchConfigurationId&&0===n.length?(u.launchConfigurationId="launchConfigurationId should not be null",u):this.state.item.touched.subnetId&&0===this.state.item.subnets.length?(u.subnetId="Add subnets.",u):this.state.item.touched.groupSize&&0===c.length?(u.groupSize="groupSize should not be null",u):this.state.item.loadBalancing&&this.state.item.touched.targetGroupId&&0===this.state.item.targetGroups.length?(u.targetGroupId="targetGroupId should not be null",u):this.state.item.touched.healthCheckGracePeriod&&0===l.length?(u.healthCheckGracePeriod="healthCheckGracePeriod should not be null",u):this.state.item.touched.instanceProtection&&0===i.length?(u.instanceProtection="instanceProtection should not be null",u):this.state.item.touched.serviceLinkedRole&&0===o.length?(u.serviceLinkedRole="serviceLinkedRole should not be null",u):u}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Auto Scaling Group":"Add Auto Scaling Group"),n=this.validate(t.name,t.vpcId,t.subnetId,t.launchConfigurationId,t.groupSize,t.targetGroupId,t.healthCheckGracePeriod,t.instanceProtection,t.serviceLinkedRole,t.accountId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var i=t.accountId||"";t.accountId=i;var o=[];t.vpcs&&t.vpcs.length&&t.vpcs.map(function(e){o.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var s=t.vpcId||"";t.vpcId=s;var u=[];t.launchConfigurations&&t.launchConfigurations.length&&t.launchConfigurations.map(function(e){u.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var d=t.launchConfigurationId||"";t.launchConfigurationId=d;var h=[],v=[];t.subnetss&&t.subnetss.length&&t.subnetss.map(function(e){t.subnets&&t.subnets.length&&t.subnets.map(function(t){e.id==t.id&&h.push({value:e.id,label:e.name})}),v.push({value:e.id,label:e.name})});var g=[],f=[];t.targetGroupss&&t.targetGroupss.length&&t.targetGroupss.map(function(e){t.targetGroups&&t.targetGroups.length&&t.targetGroups.map(function(t){e.id==t.id&&g.push({value:e.id,label:e.name})}),f.push({value:e.id,label:e.name})});var b=t.healthCheckType,y=t.createAutoScalingGroup,I=!0===t.loadBalancing?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"targetGroupId"},"Target Group (*)"),c.a.createElement(De.a,{name:"targetGroupId",id:"targetGroupId",placeholder:"Enter targetGroup",isMulti:!0,value:g,onChange:function(t){return e.onOptionChange("targetGroupId",t)},onBlur:this.handleBlur("targetGroupId"),options:f}),c.a.createElement(m.g,null,n.targetGroupId)):"",j=!0===t.loadBalancing?c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"type"},"Health Check Type (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"ELB",checked:"ELB"===b,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",disabled:"true",valid:""===n.type,invalid:""!==n.type})," ","ELB")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"EC2",checked:"EC2"===b,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",disabled:"true",valid:""===n.type,invalid:""!==n.type})," ","EC2")),c.a.createElement(m.g,null,n.type)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:s,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===n.vpcId,invalid:""!==n.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),o),c.a.createElement(m.g,null,n.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"launchConfigurationId"},"Launch Configuration (*)"),c.a.createElement(m.j,{type:"select",name:"launchConfigurationId",id:"launchConfigurationId",value:d,onChange:this.handleChange,onBlur:this.handleBlur("launchConfigurationId"),valid:""===n.launchConfigurationId,invalid:""!==n.launchConfigurationId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),u),c.a.createElement(m.g,null,n.launchConfigurationId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"subnetId"},"Subnets (*)"),c.a.createElement(De.a,{name:"subnetId",id:"subnetId",placeholder:"Enter subnet",isMulti:!0,value:h,onChange:function(t){return e.onOptionChange("subnetId",t)},onBlur:this.handleBlur("subnetId"),options:v}),c.a.createElement(m.g,null,n.subnetId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"groupSize"},"Group Size (*)"),c.a.createElement(m.j,{type:"number",name:"groupSize",id:"groupSize",value:t.groupSize||"",placeholder:"Enter groupSize",onChange:this.handleChange,onBlur:this.handleBlur("groupSize"),autoComplete:"groupSize",valid:""===n.groupSize,invalid:""!==n.groupSize}),c.a.createElement(m.g,null,n.groupSize)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"loadBalancing"},"Load Balancing:"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"loadBalancing",id:"loadBalancing",onChange:this.handleChange,onBlur:this.handleBlur("loadBalancing"),checked:!0===t.loadBalancing})),I,j,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"healthCheckGracePeriod"},"Health Check Grace Period (*)"),c.a.createElement(m.j,{type:"number",name:"healthCheckGracePeriod",id:"healthCheckGracePeriod",value:t.healthCheckGracePeriod||"",placeholder:"Enter healthCheckGracePeriod",onChange:this.handleChange,onBlur:this.handleBlur("healthCheckGracePeriod"),autoComplete:"healthCheckGracePeriod",valid:""===n.healthCheckGracePeriod,invalid:""!==n.healthCheckGracePeriod}),c.a.createElement(m.g,null,n.healthCheckGracePeriod)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"instanceProtection"},"Instance Protection (*)"),c.a.createElement(m.j,{type:"text",name:"instanceProtection",id:"instanceProtection",value:t.instanceProtection||"",placeholder:"Enter instanceProtection",onChange:this.handleChange,onBlur:this.handleBlur("instanceProtection"),autoComplete:"instanceProtection",valid:""===n.instanceProtection,invalid:""!==n.instanceProtection}),c.a.createElement(m.g,null,n.instanceProtection)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"serviceLinkedRole"},"Service Linked Role (*)"),c.a.createElement(m.j,{type:"text",name:"serviceLinkedRole",id:"serviceLinkedRole",value:t.serviceLinkedRole||"",placeholder:"Enter serviceLinkedRole",onChange:this.handleChange,onBlur:this.handleBlur("serviceLinkedRole"),autoComplete:"serviceLinkedRole",valid:""===n.serviceLinkedRole,invalid:""!==n.serviceLinkedRole}),c.a.createElement(m.g,null,n.serviceLinkedRole)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"typecreateAutoScalingGroup"},"Create Auto Scaling Group (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"typecreateAutoScalingGroup",id:"typecreateAutoScalingGroup",value:"Keep",checked:!0===y,onChange:this.handleChange,onBlur:this.handleBlur("typecreateAutoScalingGroup"),autoComplete:"typecreateAutoScalingGroup",valid:""===n.typecreateAutoScalingGroup,invalid:""!==n.typecreateAutoScalingGroup})," ","Keep this group at its initial size")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"typecreateAutoScalingGroup",id:"type",value:"NKeep",checked:!1===y,onChange:this.handleChange,onBlur:this.handleBlur("typecreateAutoScalingGroup"),autoComplete:"typecreateAutoScalingGroup",valid:""===n.typecreateAutoScalingGroup,invalid:""!==n.typecreateAutoScalingGroup})," ","Use scaling policies to adjust the capacity of this group")),c.a.createElement(m.g,null,n.typecreateAutoScalingGroup)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/autoscalinggroups"},"Cancel")))))}}]),t}(n.Component),Ra=Object(B.a)(Ga),Ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/autoScalingGroups/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/autoScalingGroups/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/autoscalinggroups/"+t.autoScalingGroup.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.autoScalingGroup.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/autoscalinggroup/"+t.autoScalingGroup.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.autoScalingGroup.id,t.id)}},"Delete"))))}),r="".concat(v,"/autoscalinggroup/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/autoscalinggroups");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Auto Scaling Group"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"Tag"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Auto Scaling Group"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",autoScalingGroup:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/autoScalingGroups/").concat(this.props.match.params.ida));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",autoScalingGroup:{},touched:{key:!1,value:!1}}).autoScalingGroup=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/autoscalinggroup/"+a.autoScalingGroup.id+"/tags",a.autoScalingGroup={id:a.autoScalingGroup.id},e.next=12,fetch(a.id?"/referentiel/autoScalingGroups/"+a.autoScalingGroup.id+"/tags/"+a.id:"/referentiel/autoScalingGroups/"+a.autoScalingGroup.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/autoscalinggroup/"+t.autoScalingGroup.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"autoScalingGroupId"},"Auto Scaling Group: ",t.autoScalingGroup.name),c.a.createElement(m.j,{type:"text",name:"autoScalingGroupId",id:"autoScalingGroupId",value:t.autoScalingGroup.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),Ka=Object(B.a)(Va),Ja=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={policys:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/policys")).then(function(e){return e.json()}).then(function(t){return e.setState({policys:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/policys/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.policys).filter(function(e){return e.id!==a});n.setState({policys:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.policys;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n="";t.roles&&t.roles.length&&t.roles.map(function(e){n=n+e+"| "});var r="";t.groups&&t.groups.length&&t.groups.map(function(e){r=r+e+"| "});var l="";t.endPoints&&t.endPoints.length&&t.endPoints.map(function(e){l=l+e+"| "});var i=!1;return""===n&&""===r&&""===l||(i=!0),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.policyJson),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,t.description),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/policys/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)},disabled:i},"Delete"))))}),r="".concat(v,"/policys/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Policy")),c.a.createElement("h3",null,"Policy"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Policy Json"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Roles"),c.a.createElement("th",{width:"5%"},"Groups"),c.a.createElement("th",{width:"5%"},"EndPoints"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ya=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",description:"",policyJson:"",account:{},accounts:[],accountId:"",touched:{name:!1,accountId:!1,policyJson:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.next=3,fetch("".concat(v,"/policys/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={name:!1,accountId:!1,policyJson:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).accountId=t.account.id,this.setState({item:a}),e.next=16;break;case 13:(n={name:"",description:"",policyJson:"",account:{},accounts:[],accountId:"",touched:{name:!1,accountId:!1,policyJson:!1}}).touched={name:!1,accountId:!1,policyJson:!1},this.setState({item:n});case 16:return e.next=18,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,policyJson:!0},n=this.validate(a.name,a.accountId,a.policyJson),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/policys",a.account={id:a.accountId},r=[],a.roles.map(function(e){r.push({id:e.id})}),a.roles=r,r=[],a.groups.map(function(e){r.push({id:e.id})}),a.groups=r,r=[],a.endPoints.map(function(e){r.push({id:e.id})}),a.endPoints=r,e.next=21,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/policys/"+a.id:"/referentiel/accounts/"+a.account.id+"/policys",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 21:this.props.history.push(c);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={name:"",accountId:"",policyJson:""};return this.state.item.touched.name&&0===e.length?(n.name="Name should not be null",n):this.state.item.touched.accountId&&0===t.length?(n.accountId="Vpc should not be null",n):this.state.item.touched.policyJson&&0===a.length?(n.policyJson="policyJson should not be null",n):n}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Policy":"Add Policy"),a=this.validate(e.name,e.accountId,e.policyJson),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var l=e.accountId||"";e.accountId=l;var i=!1;return""!==e.id&&(e.roles&&0!==e.roles.length||e.groups&&0!==e.groups.length||e.endPoints&&0!==e.endPoints.length)&&(i=!0),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",disabled:i,onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:i,valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"policyJson"},"Policy (*)"),c.a.createElement(m.j,{type:"textarea",name:"policyJson",id:"policyJson",value:e.policyJson||"",placeholder:"Enter policyJson",disabled:i,onChange:this.handleChange,onBlur:this.handleBlur("policyJson"),autoComplete:"policyJson",valid:""===a.policyJson,invalid:""!==a.policyJson}),c.a.createElement(m.g,null,a.policyJson)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"description"},"Description (*)"),c.a.createElement(m.j,{type:"text",name:"description",id:"description",value:e.description||"",placeholder:"Enter description",onChange:this.handleChange,onBlur:this.handleBlur("description"),autoComplete:"description"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/policys"},"Cancel")))))}}]),t}(n.Component),Za=Object(B.a)(Ya),Fa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={endPoints:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/endPoints")).then(function(e){return e.json()}).then(function(t){return e.setState({endPoints:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/endPoints/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.endPoints).filter(function(e){return e.id!==a});n.setState({endPoints:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.endPoints;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id,r=t.fullAccess?"Yes":"No",l=t.policy?t.policy.id:"";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.serviceName),c.a.createElement("td",null,r),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.id)),c.a.createElement("td",null,t.routeTable.id),c.a.createElement("td",null,l),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/endPoints/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/endPoints/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add EndPoint")),c.a.createElement("h3",null,"EndPoint"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Service Name"),c.a.createElement("th",{width:"5%"},"Full Access"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Route table"),c.a.createElement("th",{width:"5%"},"Policy"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",serviceName:"",fullAccess:!0,vpc:{},vpcs:[],vpcId:"",routeTable:{},routeTables:[],routeTableId:"",policy:{},policys:[],policyId:"",touched:{name:!1,accountId:!1,vpcId:!1,serviceName:!1,routeTableId:!1,policyId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=22;break}return e.next=3,fetch("".concat(v,"/endPoints/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,serviceName:!1,routeTableId:!1,policyId:!1},this.setState({item:t}),(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,a.routeTableId=t.routeTable.id,a.policyId=t.policy?t.policy.id:"",e.next=15,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){a.vpcs=e,c.setState({item:a})});case 15:return e.next=17,fetch("/referentiel/vpcs/"+t.vpc.id+"/routeTables").then(function(e){return e.json()}).then(function(e){a.routeTables=e,c.setState({item:a})});case 17:return e.next=19,fetch("/referentiel/accounts/"+t.account.id+"/policys").then(function(e){return e.json()}).then(function(e){a.policys=e,c.setState({item:a})});case 19:this.setState({item:a}),e.next=25;break;case 22:(n={name:"",account:{},accounts:{},accountId:"",serviceName:"",fullAccess:!0,vpc:{},vpcs:[],vpcId:"",routeTable:{},routeTables:[],routeTableId:"",policy:{},policys:[],policyId:"",touched:{name:!1,accountId:!1,vpcId:!1,serviceName:!1,routeTableId:!1,policyId:!1}}).touched={name:!1,accountId:!1,vpcId:!1,serviceName:!1,routeTableId:!1,policyId:!1},this.setState({item:n});case 25:return e.next=27,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"fAccess"===c&&(r.fullAccess="Yes"===n),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="",r.policyId="",r.policys=[],r.routeTableId="",r.routeTables=[]),"vpcId"===c&&(fetch("/referentiel/vpcs/"+r.vpcId+"/routeTables").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.routeTables=e,t.setState({item:a})}),fetch("/referentiel/accounts/"+r.accountId+"/policys").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.policys=e,t.setState({item:a})}))}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,vpcId:!0,serviceName:!0,routeTableId:!0,policyId:!0},n=this.validate(a.name,a.vpcId,a.serviceName,a.routeTableId,a.policyId,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/endpoints",a.vpc={id:a.vpcId},a.account={id:a.accountId},a.routeTable={id:a.routeTableId},a.fullAccess?a.policy=null:a.policy={id:a.policyId},e.next=15,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/endPoints/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/endPoints",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 15:this.props.history.push(c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={name:"",accountId:"",vpcId:"",serviceName:"",routeTableId:"",policyId:""};return this.state.item.touched.name&&0===e.length?(l.name="Name should not be null",l):this.state.item.touched.accountId&&0===r.length?(l.accountId="accountId should not be null",l):this.state.item.touched.vpcId&&0===t.length?(l.vpcId="Vpc should not be null",l):this.state.item.touched.serviceName&&0===a.length?(l.serviceName="serviceName should not be null",l):this.state.item.touched.routeTableId&&0===n.length?(l.routeTableId="routeTableId should not be null",l):!this.state.item.fullAccess&&this.state.item.touched.policyId&&0===c.length?(l.policyId="policyId should not be null",l):l}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit EndPoint":"Add EndPoint"),a=this.validate(e.name,e.vpcId,e.serviceName,e.routeTableId,e.policyId,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.vpcId||"";e.vpcId=o;var s=[];e.policys&&e.policys.length&&e.policys.map(function(e){s.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var u=e.policyId||"";e.policyId=u;var d=[];e.routeTables&&e.routeTables.length&&e.routeTables.map(function(e){d.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var h=e.routeTableId||"";e.routeTableId=h;var v=e.serviceName||"";e.serviceName=v;var g=e.fullAccess,f=e.fullAccess?"":c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"policyId"},"Policy (*)"),c.a.createElement(m.j,{type:"select",name:"policyId",id:"policyId",value:u,onChange:this.handleChange,onBlur:this.handleBlur("policyId"),valid:""===a.policyId,invalid:""!==a.policyId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),s),c.a.createElement(m.g,null,a.policyId));return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpc (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"serviceName"},"Service Name (*)"),c.a.createElement(m.j,{type:"select",name:"serviceName",id:"serviceName",value:v,onChange:this.handleChange,onBlur:this.handleBlur("serviceName"),valid:""===a.serviceName,invalid:""!==a.serviceName},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"com.amazonaws.eu-west-1.s3:Gateway"},"com.amazonaws.eu-west-1.s3: Gateway"),c.a.createElement("option",{value:"com.amazonaws.eu-west-1.dynamodb:Gateway"},"com.amazonaws.eu-west-1.dynamodb: Gateway")),c.a.createElement(m.g,null,a.serviceName)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"routeTableId"},"Route Table (*)"),c.a.createElement(m.j,{type:"select",name:"routeTableId",id:"routeTableId",value:h,onChange:this.handleChange,onBlur:this.handleBlur("routeTableId"),valid:""===a.routeTableId,invalid:""!==a.routeTableId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),d),c.a.createElement(m.g,null,a.routeTableId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"fAccess"},"Access (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"fAccess",id:"fAccess",value:"Yes",checked:!0===g,onChange:this.handleChange,onBlur:this.handleBlur("fAccess"),autoComplete:"fAccess",valid:""===a.fAccess,invalid:""!==a.fAccess})," ","Yes")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"fAccess",id:"fAccess",value:"No",checked:!1===g,onChange:this.handleChange,onBlur:this.handleBlur("fAccess"),autoComplete:"fAccess",valid:""===a.fAccess,invalid:""!==a.fAccess})," ","No")),c.a.createElement(m.g,null,a.fAccess)),f,c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/endpoints"},"Cancel")))))}}]),t}(n.Component),Wa=Object(B.a)(Ha),qa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={roles:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/roles")).then(function(e){return e.json()}).then(function(t){return e.setState({roles:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/roles/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.roles).filter(function(e){return e.id!==a});n.setState({roles:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.roles;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n="";t.policys&&t.policys.length&&t.policys.map(function(e){n=n+e.id+":"+e.name+"| "});return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.serviceName),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,t.description),c.a.createElement("td",null,n),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/roles/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)},disabled:!1},"Delete"))))}),r="".concat(v,"/roles/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Role")),c.a.createElement("h3",null,"Role"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Service Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Policies"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),_a=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",description:"",serviceName:"",account:{},accounts:[],accountId:"",policys:[],policyss:[],policyId:[],touched:{name:!1,accountId:!1,serviceName:!1,policyId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("policyId"===e){for(var l=0,i=c.length;l<i;l++)n.policyss&&n.policyss.length&&n.policyss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.policys=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=19;break}return e.next=3,fetch("".concat(v,"/roles/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,serviceName:!1,policyId:!1},this.setState({item:t}),a={},e.next=11,fetch("/referentiel/accounts/"+t.account.id).then(function(e){return e.json()}).then(function(e){a=e,fetch("/referentiel/accounts/"+a.id+"/policys").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.policyss=e,l.setState({item:t})})});case 11:(n=Object(T.a)({},this.state.item)).accountId=t.account.id,c=[],n.policys.map(function(e){c.push({id:e.id})}),n.policys=c,this.setState({item:n}),e.next=22;break;case 19:(r={name:"",description:"",serviceName:"",account:{},accounts:[],accountId:"",policys:[],policyss:[],policyId:[],touched:{name:!1,accountId:!1,roleJson:!1,policyId:!1}}).touched={name:!1,accountId:!1,serviceName:!1,policyId:!1},this.setState({item:r});case 22:return e.next=24,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accountId"===c){fetch("/referentiel/accounts/"+r.accountId).then(function(e){return e.json()}).then(function(e){fetch("/referentiel/accounts/"+e.id+"/policys").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.policyss=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,serviceName:!0,policyId:!0},n=this.validate(a.name,a.accountId,a.serviceName,a.policyId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/roles",a.account={id:a.accountId},e.next=12,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/roles/"+a.id:"/referentiel/accounts/"+a.account.id+"/roles",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n){var c={name:"",accountId:"",serviceName:"",policyId:""};return this.state.item.touched.name&&0===e.length?(c.name="Name should not be null",c):this.state.item.touched.accountId&&0===t.length?(c.accountId="Vpc should not be null",c):this.state.item.touched.serviceName&&0===a.length?(c.serviceName="serviceName should not be null",c):c}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Role":"Add Role"),n=this.validate(t.name,t.accountId,t.serviceName,t.policyId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var i=t.accountId||"";t.accountId=i;var o=[],s=[];return t.policyss&&t.policyss.length&&t.policyss.map(function(e){t.policys&&t.policys.length&&t.policys.map(function(t){e.id==t.id&&o.push({value:e.id,label:e.name})}),s.push({value:e.id,label:e.name})}),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.i,null,"Use alphanumeric and '+=,.@-_' characters. Maximum 64 characters."),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:!1,valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"serviceName"},"Service Name (*)"),c.a.createElement(m.j,{type:"select",name:"serviceName",id:"serviceName",value:t.serviceName||"",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("serviceName"),valid:""===n.serviceName,invalid:""!==n.serviceName},c.a.createElement("option",{value:"",disabled:!0},"Choose"),c.a.createElement("option",{value:"AutoScaling"},"Auto Scaling"),c.a.createElement("option",{value:"DynamoDB"},"DynamoDB"),c.a.createElement("option",{value:"EC2"},"EC2"),c.a.createElement("option",{value:"ElasticLoadBalancing"},"ElasticLoadBalancing"),c.a.createElement("option",{value:"ElasticCache"},"ElasticCache"),c.a.createElement("option",{value:"EKS"},"EKS"),c.a.createElement("option",{value:"Lambda"},"Lambda"),c.a.createElement("option",{value:"Rds"},"Rds"),c.a.createElement("option",{value:"S3"},"S3"),c.a.createElement("option",{value:"SNS"},"SNS")),c.a.createElement(m.g,null,n.serviceName)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"policyId"},"Policies"),c.a.createElement(De.a,{name:"policyId",id:"policyId",placeholder:"Enter policyId",isMulti:!0,value:o,onChange:function(t){return e.onOptionChange("policyId",t)},onBlur:this.handleBlur("policyId"),options:s}),c.a.createElement(m.g,null,n.policyId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"description"},"Description (*)"),c.a.createElement(m.j,{type:"text",name:"description",id:"description",value:t.description||"",placeholder:"Enter description",onChange:this.handleChange,onBlur:this.handleBlur("description"),autoComplete:"description"}),c.a.createElement(m.i,null,"Maximum 1000 characters. Use alphanumeric and '+=,.@-_' characters")),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/roles"},"Cancel")))))}}]),t}(n.Component),$a=Object(B.a)(_a),Qa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={groups:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/groups")).then(function(e){return e.json()}).then(function(t){return e.setState({groups:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/groups/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.groups).filter(function(e){return e.id!==a});n.setState({groups:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.groups;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n="";t.policys&&t.policys.length&&t.policys.map(function(e){n=n+e.id+":"+e.name+"| "});var r="";t.users&&t.users.length&&t.users.map(function(e){r=r+e.id+":"+e.name+"| "});var l=!1;return""!==r&&(l=!0),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/groups/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)},disabled:l},"Delete"))))}),r="".concat(v,"/groups/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Group")),c.a.createElement("h3",null,"Group"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Policies"),c.a.createElement("th",{width:"5%"},"Users"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),Xa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:[],accountId:"",policys:[],policyss:[],policyId:[],touched:{name:!1,accountId:!1,policyId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("policyId"===e){for(var l=0,i=c.length;l<i;l++)n.policyss&&n.policyss.length&&n.policyss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.policys=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=19;break}return e.next=3,fetch("".concat(v,"/groups/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,policyId:!1},this.setState({item:t}),a={},e.next=11,fetch("/referentiel/accounts/"+t.account.id).then(function(e){return e.json()}).then(function(e){a=e,fetch("/referentiel/accounts/"+a.id+"/policys").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.policyss=e,l.setState({item:t})})});case 11:(n=Object(T.a)({},this.state.item)).accountId=t.account.id,c=[],n.policys.map(function(e){c.push({id:e.id})}),n.policys=c,this.setState({item:n}),e.next=22;break;case 19:(r={name:"",account:{},accounts:[],accountId:"",policys:[],policyss:[],policyId:[],touched:{name:!1,accountId:!1,policyId:!1}}).touched={name:!1,accountId:!1,policyId:!1},this.setState({item:r});case 22:return e.next=24,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accountId"===c){fetch("/referentiel/accounts/"+r.accountId).then(function(e){return e.json()}).then(function(e){fetch("/referentiel/accounts/"+e.id+"/policys").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.policyss=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,policyId:!0},n=this.validate(a.name,a.accountId,a.policyId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/groups",a.account={id:a.accountId},e.next=12,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/groups/"+a.id:"/referentiel/accounts/"+a.account.id+"/groups",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a){var n={name:"",accountId:"",policyId:""};return this.state.item.touched.name&&0===e.length?(n.name="Name should not be null",n):this.state.item.touched.accountId&&0===t.length?(n.accountId="Vpc should not be null",n):n}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Group":"Add Group"),n=this.validate(t.name,t.accountId,t.policyId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var i=t.accountId||"";t.accountId=i;var o=!1;""!==t.id&&t.users&&0!==t.users.length&&(o=!0);var s=[],u=[];return t.policyss&&t.policyss.length&&t.policyss.map(function(e){t.policys&&t.policys.length&&t.policys.map(function(t){e.id==t.id&&s.push({value:e.id,label:e.name})}),u.push({value:e.id,label:e.name})}),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",disabled:o,onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.i,null,"Use alphanumeric and '+=,.@-_' characters. Maximum 64 characters."),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:o,valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"policyId"},"Policies"),c.a.createElement(De.a,{name:"policyId",id:"policyId",placeholder:"Enter policyId",isMulti:!0,disabled:o,value:s,onChange:function(t){return e.onOptionChange("policyId",t)},onBlur:this.handleBlur("policyId"),options:u}),c.a.createElement(m.g,null,n.policyId)),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/groups"},"Cancel")))))}}]),t}(n.Component),en=Object(B.a)(Xa),tn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={users:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/users")).then(function(e){return e.json()}).then(function(t){return e.setState({users:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/users/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.users).filter(function(e){return e.id!==a});n.setState({users:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.users;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n="";t.groups&&t.groups.length&&t.groups.map(function(e){n=n+e.id+":"+e.name+"| "});var r=t.programmaticAccess?"Yes":"No",l=t.consoleAccess?"Yes":"No",i=t.requirePasswordReset?"Yes":"No",o=t.autogeneratedPassword?"Yes":"No";return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,r),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,o),c.a.createElement("td",null,t.customPassword),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,n),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/users/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/users/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add User")),c.a.createElement("h3",null,"User"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"programmaticAccess"),c.a.createElement("th",{width:"5%"},"consoleAccess"),c.a.createElement("th",{width:"5%"},"requirePasswordReset"),c.a.createElement("th",{width:"5%"},"autogeneratedPassword"),c.a.createElement("th",{width:"5%"},"customPassword"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Groups"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),an=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:[],accountId:"",groups:[],groupss:[],groupId:[],programmaticAccess:!1,consoleAccess:!1,requirePasswordReset:!0,autogeneratedPassword:!0,customPassword:"",touched:{name:!1,accountId:!1,groupId:!1,customPassword:!1,programmaticAccess:!1,consoleAccess:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("groupId"===e){for(var l=0,i=c.length;l<i;l++)n.groupss&&n.groupss.length&&n.groupss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.groups=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=19;break}return e.next=3,fetch("".concat(v,"/users/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,groupId:!1,customPassword:!1,programmaticAccess:!1,consoleAccess:!1},this.setState({item:t}),a={},e.next=11,fetch("/referentiel/accounts/"+t.account.id).then(function(e){return e.json()}).then(function(e){a=e,fetch("/referentiel/accounts/"+a.id+"/groups").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.groupss=e,l.setState({item:t})})});case 11:(n=Object(T.a)({},this.state.item)).accountId=t.account.id,c=[],n.groups.map(function(e){c.push({id:e.id})}),n.groups=c,this.setState({item:n}),e.next=22;break;case 19:(r={name:"",account:{},accounts:[],accountId:"",groups:[],groupss:[],groupId:[],programmaticAccess:!1,consoleAccess:!1,requirePasswordReset:!0,autogeneratedPassword:!0,customPassword:"",touched:{name:!1,accountId:!1,groupId:!1,customPassword:!1,programmaticAccess:!1,consoleAccess:!1}}).touched={name:!1,accountId:!1,groupId:!1,customPassword:!1,programmaticAccess:!1,consoleAccess:!1},this.setState({item:r});case 22:return e.next=24,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"programmaticAccess"===c&&(r.programmaticAccess=!!a.checked),"consoleAccess"===c&&(r.consoleAccess=!!a.checked),"requirePasswordReset"===c&&(r.requirePasswordReset=!!a.checked),"type"===c&&(r.autogeneratedPassword="Auto"===n),"accountId"===c){fetch("/referentiel/accounts/"+r.accountId).then(function(e){return e.json()}).then(function(e){fetch("/referentiel/accounts/"+e.id+"/groups").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.groupss=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!0,groupId:!0,customPassword:!0,programmaticAccess:!0,consoleAccess:!0},n=this.validate(a.name,a.accountId,a.groupId,a.customPassword,a.programmaticAccess,a.consoleAccess),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/users",a.account={id:a.accountId},a.consoleAccess||(a.requirePasswordReset=!0,a.autogeneratedPassword=!0,a.customPassword=""),e.next=13,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/users/"+a.id:"/referentiel/accounts/"+a.account.id+"/users",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={name:"",accountId:"",groupId:"",customPassword:"",programmaticAccess:"",consoleAccess:""};return this.state.item.touched.name&&0===e.length?(l.name="Name should not be null",l):this.state.item.touched.accountId&&0===t.length?(l.accountId="Vpc should not be null",l):this.state.item.consoleAccess&&!this.state.item.autogeneratedPassword&&this.state.item.touched.customPassword&&0===n.length?(l.customPassword="customPassword should not be null",l):r||c?l:(l.programmaticAccess="Choose between programmaticAccess and consoleAccess",l.consoleAccess="Choose between programmaticAccess and consoleAccess",l)}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit User":"Add User"),n=this.validate(t.name,t.accountId,t.groupId,t.customPassword,t.programmaticAccess,t.consoleAccess),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var i=t.accountId||"";t.accountId=i;var o=[],s=[];t.groupss&&t.groupss.length&&t.groupss.map(function(e){t.groups&&t.groups.length&&t.groups.map(function(t){e.id==t.id&&o.push({value:e.id,label:e.name})}),s.push({value:e.id,label:e.name})});var u=t.autogeneratedPassword,d=t.consoleAccess&&!t.autogeneratedPassword?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"customPassword"},"Custom Password (*)"),c.a.createElement(m.j,{type:"text",name:"customPassword",id:"customPassword",value:t.customPassword||"",placeholder:"Enter customPassword",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("customPassword"),autoComplete:"customPassword",valid:""===n.customPassword,invalid:""!==n.customPassword}),c.a.createElement(m.i,null),c.a.createElement(m.g,null,n.customPassword)):"",h=!0===t.consoleAccess?c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"requirePasswordReset"},"Require password reset"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"requirePasswordReset",id:"requirePasswordReset",onChange:this.handleChange,onBlur:this.handleBlur("requirePasswordReset"),checked:!0===t.requirePasswordReset}),c.a.createElement(m.i,null,"User must create a new password at next sign-in.")):"",v=!0===t.consoleAccess?c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"type"},"Health Check Type (*)"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"Auto",checked:!0===u,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===n.type,invalid:""!==n.type})," ","Autogenerated password")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"type",id:"type",value:"Custom",checked:!1===u,onChange:this.handleChange,onBlur:this.handleBlur("type"),autoComplete:"type",valid:""===n.type,invalid:""!==n.type})," ","Custom password")),c.a.createElement(m.g,null,n.type)):"";return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:t.name||"",placeholder:"Enter name",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===n.name,invalid:""!==n.name}),c.a.createElement(m.i,null),c.a.createElement(m.g,null,n.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:!1,valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"groupId"},"Groups"),c.a.createElement(De.a,{name:"groupId",id:"groupId",placeholder:"Enter groupId",isMulti:!0,disabled:!1,value:o,onChange:function(t){return e.onOptionChange("groupId",t)},onBlur:this.handleBlur("groupId"),options:s}),c.a.createElement(m.g,null,n.groupId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"programmaticAccess "},"Programmatic access"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"programmaticAccess",id:"programmaticAccess",onChange:this.handleChange,onBlur:this.handleBlur("programmaticAccess"),checked:!0===t.programmaticAccess}),c.a.createElement(m.g,null,n.programmaticAccess),c.a.createElement(m.i,null,"Enables an access key ID and secret access key for the AWS API, CLI, SDK, and other development tools.")),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"consoleAccess"},"AWS Management Console access"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",c.a.createElement(m.j,{type:"checkbox",name:"consoleAccess",id:"consoleAccess",onChange:this.handleChange,onBlur:this.handleBlur("consoleAccess"),checked:!0===t.consoleAccess}),c.a.createElement(m.g,null,n.consoleAccess),c.a.createElement(m.i,null,"Enables a password that allows users to sign-in to the AWS Management Console.")),v,d,h,c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/users"},"Cancel")))))}}]),t}(n.Component),nn=Object(B.a)(an),cn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={dhcps:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/dhcps")).then(function(e){return e.json()}).then(function(t){return e.setState({dhcps:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/vpcs/").concat(t,"/dhcps/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.dhcps).filter(function(e){return e.id!==a});n.setState({dhcps:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dhcps;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/vpcs/"+t.vpc.id,n="/referentiel/accounts/"+t.account.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.name),c.a.createElement("td",null,c.a.createElement("a",{href:n},t.account.numAccount)),c.a.createElement("td",null,t.domainName),c.a.createElement("td",null,t.domainNameServers),c.a.createElement("td",null,t.ntpServers),c.a.createElement("td",null,t.netBiosNameServers),c.a.createElement("td",null,t.netBiosNodeType),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.vpc.name)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"secondary",tag:p.a,to:"/referentiel/dhcp/"+t.id+"/tags"},"Tags"),"\xa0\xa0",c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/dhcps/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.vpc.id,t.id)}},"Delete"))))}),r="".concat(v,"/dhcps/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Dhcp Options Sets")),c.a.createElement("h3",null,"Dhcp Options Sets"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Name"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Domain Name"),c.a.createElement("th",{width:"5%"},"Domain Name Servers"),c.a.createElement("th",{width:"5%"},"NTP Servers"),c.a.createElement("th",{width:"5%"},"NetBios Name Servers"),c.a.createElement("th",{width:"5%"},"NetBios Node Type"),c.a.createElement("th",{width:"5%"},"Vpc"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),rn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",account:{},accounts:{},accountId:"",domainName:"",domainNameServers:"",ntpServers:"",netBiosNameServers:"",netBiosNodeType:"",vpc:{},vpcs:{},vpcId:"",touched:{name:!1,accountId:!1,vpcId:!1,domainName:!1,domainNameServers:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=16;break}return e.next=3,fetch("".concat(v,"/dhcps/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={name:!1,accountId:!1,vpcId:!1,domainName:!1,domainNameServers:!1},this.setState({item:t}),e.next=10,fetch("/referentiel/accounts/"+t.account.id+"/vpcs").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.vpcs=e,c.setState({item:t})});case 10:(a=Object(T.a)({},this.state.item)).vpcId=t.vpc.id,a.accountId=t.account.id,this.setState({item:a}),e.next=19;break;case 16:(n={name:"",account:{},accounts:{},accountId:"",domainName:"",domainNameServers:"",ntpServers:"",netBiosNameServers:"",netBiosNodeType:"",vpc:{},vpcs:{},vpcId:"",touched:{name:!1,accountId:!1,vpcId:!1,domainName:!1,domainNameServers:!1}}).touched={name:!1,accountId:!1,vpcId:!1,domainName:!1,domainNameServers:!1},this.setState({item:n});case 19:return e.next=21,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},c.state.item);t.accounts=e,c.setState({item:t})});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);r[c]=n,this.setState({item:r}),"accountId"===c&&(fetch("/referentiel/accounts/"+r.accountId+"/vpcs").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.vpcs=e,t.setState({item:a})}),r.vpcId="")}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={name:!0,accountId:!1,vpcId:!0,domainName:!0,domainNameServers:!0},n=this.validate(a.name,a.vpcId,a.domainName,a.domainNameServers,a.accountId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/dhcps",a.vpc={id:a.vpcId},a.account={id:a.accountId},e.next=13,fetch(a.id?"/referentiel/vpcs/"+a.vpc.id+"/dhcps/"+a.id:"/referentiel/vpcs/"+a.vpc.id+"/dhcps",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 13:this.props.history.push(c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c){var r={name:"",accountId:"",vpcId:"",domainName:"",domainNameServers:""};return this.state.item.touched.name&&0===e.length?(r.name="Name should not be null",r):this.state.item.touched.accountId&&0===c.length?(r.accountId="accountId should not be null",r):this.state.item.touched.vpcId&&0===t.length?(r.vpcId="Vpc should not be null",r):this.state.item.touched.domainName&&0===a.length?(r.domainName="domainName should not be null",r):this.state.item.touched.domainNameServers&&0===n.length?(r.domainNameServers="domainNameServers should not be null",r):r}},{key:"render",value:function(){var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Dhcp Options Sets":"Add Dhcp Options Sets"),a=this.validate(e.name,e.vpcId,e.domainName,e.domainNameServers,e.accountId),n=Object.keys(a).some(function(e){return a[e]}),r=[];e.accounts&&e.accounts.length&&e.accounts.map(function(e){r.push(c.a.createElement("option",{key:e.id,value:e.id},e.id," ",e.numAccount))});var l=e.accountId||"";e.accountId=l;var i=[];e.vpcs&&e.vpcs.length&&e.vpcs.map(function(e){i.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var o=e.vpcId||"";return e.vpcId=o,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,t,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"name"},"Name (*)"),c.a.createElement(m.j,{type:"text",name:"name",id:"name",value:e.name||"",placeholder:"Enter name",onChange:this.handleChange,onBlur:this.handleBlur("name"),autoComplete:"name",valid:""===a.name,invalid:""!==a.name}),c.a.createElement(m.g,null,a.name)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:l,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),valid:""===a.accountId,invalid:""!==a.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),r),c.a.createElement(m.g,null,a.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"vpcId"},"Vpcs (*)"),c.a.createElement(m.j,{type:"select",name:"vpcId",id:"vpcId",value:o,onChange:this.handleChange,onBlur:this.handleBlur("vpcId"),valid:""===a.vpcId,invalid:""!==a.vpcId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),i),c.a.createElement(m.g,null,a.vpcId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"domainName"},"Domain Name (*)"),c.a.createElement(m.j,{type:"text",name:"domainName",id:"domainName",value:e.domainName||"",placeholder:"Enter domainName",onChange:this.handleChange,onBlur:this.handleBlur("domainName"),autoComplete:"domainName",valid:""===a.domainName,invalid:""!==a.domainName}),c.a.createElement(m.g,null,a.domainName)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"domainNameServers"},"Domain Name Servers (*)"),c.a.createElement(m.j,{type:"text",name:"domainNameServers",id:"domainNameServers",value:e.domainNameServers||"",placeholder:"Enter domainNameServers",onChange:this.handleChange,onBlur:this.handleBlur("domainNameServers"),autoComplete:"domainNameServers",valid:""===a.domainNameServers,invalid:""!==a.domainNameServers}),c.a.createElement(m.g,null,a.domainNameServers)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"ntpServers"},"Ntp Servers"),c.a.createElement(m.j,{type:"text",name:"ntpServers",id:"ntpServers",value:e.ntpServers||"",placeholder:"Enter ntpServers",onChange:this.handleChange,onBlur:this.handleBlur("ntpServers"),autoComplete:"ntpServers"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"netBiosNameServers"},"NetBios Name Servers"),c.a.createElement(m.j,{type:"text",name:"netBiosNameServers",id:"netBiosNameServers",value:e.netBiosNameServers||"",placeholder:"Enter netBiosNameServers",onChange:this.handleChange,onBlur:this.handleBlur("netBiosNameServers"),autoComplete:"netBiosNameServers"})),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"netBiosNodeType"},"NetBios Node Type"),c.a.createElement(m.j,{type:"text",name:"netBiosNodeType",id:"netBiosNodeType",value:e.netBiosNodeType||"",placeholder:"Enter netBiosNodeType",onChange:this.handleChange,onBlur:this.handleBlur("netBiosNodeType"),autoComplete:"netBiosNodeType"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:n},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/dhcps"},"Cancel")))))}}]),t}(n.Component),ln=Object(B.a)(rn),on=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tags:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/dhcps/").concat(this.props.match.params.id,"/tags")).then(function(e){return e.json()}).then(function(t){return e.setState({tags:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/dhcps/").concat(t,"/tags/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.tags).filter(function(e){return e.id!==a});n.setState({tags:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.tags;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/dhcps/"+t.dhcp.id;return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.key),c.a.createElement("td",null,t.value),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.dhcp.id)),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/dhcp/"+t.dhcp.id+"/tags/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.dhcp.id,t.id)}},"Delete"))))}),r="".concat(v,"/dhcp/").concat(this.props.match.params.id,"/tags/new"),l="".concat(v,"/dhcps");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"primary",tag:p.a,to:l},"Dhcp"),"\xa0\xa0\xa0",c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Tag")),c.a.createElement("h3",null,"TagDhcp"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Key"),c.a.createElement("th",{width:"5%"},"Value"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Dhcp"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),sn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={key:"",value:"",text:"",dhcp:{},touched:{key:!1,value:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=10;break}return e.next=3,fetch("".concat(v,"/tags/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).touched={key:!1,value:!1},this.setState({item:t}),e.next=19;break;case 10:return e.next=12,fetch("".concat(v,"/dhcps/").concat(this.props.match.params.idd));case 12:return e.next=14,e.sent.json();case 14:a=e.sent,(n={key:"",value:"",text:"",dhcp:{},touched:{key:!1,value:!1}}).dhcp=a,n.touched={key:!1,value:!1},this.setState({item:n});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,c=Object(T.a)({},this.state.item);c[n]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={key:!0,value:!0},n=this.validate(a.key,a.value),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/dhcp/"+a.dhcp.id+"/tags",a.dhcp={id:a.dhcp.id},e.next=12,fetch(a.id?"/referentiel/dhcps/"+a.dhcp.id+"/tags/"+a.id:"/referentiel/dhcps/"+a.dhcp.id+"/tags",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 12:this.props.history.push(c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t){var a={key:"",value:"",number:""};return this.state.item.touched.key&&0===e.length?(a.key="Key should not be null",a):this.state.item.touched.value&&0===t.length?(a.value="Value should not be null",a):a}},{key:"render",value:function(){var e,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit tag":"Add tag"),n=this.validate(t.key,t.value),r=Object.keys(n).some(function(e){return n[e]}),l="/referentiel/dhcp/"+t.dhcp.id+"/tags";return e=c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"dhcpId"},"Dhcp: ",t.dhcp.name),c.a.createElement(m.j,{type:"text",name:"dhcpId",id:"dhcpId",value:t.dhcp.id||"",disabled:"true"})),c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"key"},"Key (*)"),c.a.createElement(m.j,{type:"text",name:"key",id:"key",value:t.key||"",placeholder:"Enter key",onChange:this.handleChange,onBlur:this.handleBlur("key"),autoComplete:"key",valid:""===n.key,invalid:""!==n.key}),c.a.createElement(m.g,null,n.key)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"value"},"Value (*)"),c.a.createElement(m.j,{type:"text",name:"value",id:"value",value:t.value||"",placeholder:"Enter value",onChange:this.handleChange,onBlur:this.handleBlur("value"),autoComplete:"value",valid:""===n.value,invalid:""!==n.value}),c.a.createElement(m.g,null,n.value)),e,c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",onChange:this.handleChange,autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:l},"Cancel")))))}}]),t}(n.Component),un=Object(B.a)(sn),dn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={kmss:[],isLoading:!0},a.remove=a.remove.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("".concat(v,"/kmss")).then(function(e){return e.json()}).then(function(t){return e.setState({kmss:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(O.a)(k.a.mark(function e(t,a){var n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/accounts/").concat(t,"/kmss/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(C.a)(n.state.kmss).filter(function(e){return e.id!==a});n.setState({kmss:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.kmss;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="/referentiel/accounts/"+t.account.id,n="";t.roles&&t.roles.length&&t.roles.map(function(e){n=n+e.id+":"+e.name+"| "});var r="";return t.users&&t.users.length&&t.users.map(function(e){r=r+e.id+":"+e.name+"| "}),c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.id),c.a.createElement("td",null,t.alias),c.a.createElement("td",null,t.keyMaterialOrigin),c.a.createElement("td",null,c.a.createElement("a",{href:a},t.account.numAccount)),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,t.text),c.a.createElement("td",null,c.a.createElement(m.b,null,c.a.createElement(m.a,{size:"sm",color:"primary",tag:p.a,to:"/referentiel/kmss/"+t.id},"Edit"),c.a.createElement(m.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.account.id,t.id)}},"Delete"))))}),r="".concat(v,"/kmss/new");return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(m.a,{color:"success",tag:p.a,to:r},"Add Kms")),c.a.createElement("h3",null,"Kms"),c.a.createElement(m.s,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"5%"},"Id"),c.a.createElement("th",{width:"5%"},"Alias"),c.a.createElement("th",{width:"5%"},"Key Material Origin"),c.a.createElement("th",{width:"5%"},"Account"),c.a.createElement("th",{width:"5%"},"Role"),c.a.createElement("th",{width:"5%"},"User"),c.a.createElement("th",{width:"5%"},"Description"),c.a.createElement("th",{width:"5%"},"Actions"))),c.a.createElement("tbody",null,n))))}}]),t}(n.Component),hn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={alias:"",account:{},accounts:[],accountId:"",roles:[],roless:[],roleId:[],text:"",keyMaterialOrigin:"Kms",policy:{},policys:[],policyId:"",users:[],userss:[],userId:[],touched:{alias:!1,accountId:!1,roleId:!1,keyMaterialOrigin:!1,policyId:!1,userId:!1}},a.handleBlur=function(e){return function(t){var n=Object(T.a)({},a.state.item);n.touched=Object(T.a)({},a.state.item.touched,Object(w.a)({},e,!0)),a.setState({item:n})}},a.onOptionChange=function(e,t){var n=a.state.item,c=t,r=[];if("roleId"===e){for(var l=0,i=c.length;l<i;l++)n.roless&&n.roless.length&&n.roless.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.roles=r}if("userId"===e){for(l=0,i=c.length;l<i;l++)n.userss&&n.userss.length&&n.userss.map(function(e){e.id==c[l].value&&r.push({id:e.id})});n.users=r}a.setState({item:n})},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleBlur=a.handleBlur.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark(function e(){var t,a,n,c,r,l=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=26;break}return e.next=3,fetch("".concat(v,"/kmss/").concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:return(t=e.sent).touched={alias:!1,accountId:!1,roleId:!1,keyMaterialOrigin:!1,policyId:!1,userId:!1},this.setState({item:t}),a={},e.next=11,fetch("/referentiel/accounts/"+t.account.id).then(function(e){return e.json()}).then(function(e){a=e,fetch("/referentiel/accounts/"+a.id+"/roles").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.roless=e,l.setState({item:t})}),fetch("/referentiel/accounts/"+a.id+"/users").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.userss=e,l.setState({item:t})}),fetch("/referentiel/accounts/"+a.id+"/policys").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.policys=e,l.setState({item:t})})});case 11:(n=Object(T.a)({},this.state.item)).accountId=t.account.id,n.policyId=t.policy.id,c=[],n.roles&&n.roles.map(function(e){c.push({id:e.id})}),n.roles=c,c=[],n.users&&n.users.map(function(e){c.push({id:e.id})}),n.users=c,c=[],n.policys&&n.policys.map(function(e){c.push({id:e.id})}),n.policys=c,this.setState({item:n}),e.next=29;break;case 26:(r={alias:"",account:{},accounts:[],accountId:"",roles:[],roless:[],roleId:[],text:"",keyMaterialOrigin:"Kms",policy:{},policys:[],policyId:"",touched:{alias:!1,accountId:!1,roleId:!1,keyMaterialOrigin:!1,policyId:!1,userId:!1}}).touched={alias:!1,accountId:!1,roleId:!1,keyMaterialOrigin:!1,policyId:!1,userId:!1},this.setState({item:r});case 29:return e.next=31,fetch("/referentiel/accounts").then(function(e){return e.json()}).then(function(e){var t=Object(T.a)({},l.state.item);t.accounts=e,l.setState({item:t})});case 31:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,c=a.name,r=Object(T.a)({},this.state.item);if(r[c]=n,this.setState({item:r}),"accessType"===c&&(r.keyMaterialOrigin="Kms"===n?"Kms":"External"),"accountId"===c){var l={};fetch("/referentiel/accounts/"+r.accountId).then(function(e){return e.json()}).then(function(e){l=e,fetch("/referentiel/accounts/"+l.id+"/roles").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.roless=e,t.setState({item:a})}),fetch("/referentiel/accounts/"+l.id+"/users").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.userss=e,t.setState({item:a})}),fetch("/referentiel/accounts/"+l.id+"/policys").then(function(e){return e.json()}).then(function(e){var a=Object(T.a)({},t.state.item);a.policys=e,t.setState({item:a})})})}}},{key:"handleSubmit",value:function(){var e=Object(O.a)(k.a.mark(function e(t){var a,n,c,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=this.state.item).touched={alias:!0,accountId:!0,roleId:!0,keyMaterialOrigin:!0,policyId:!0,userId:!0},n=this.validate(a.alias,a.accountId,a.roleId,a.keyMaterialOrigin,a.policyId,a.userId),!Object.keys(n).some(function(e){return n[e]})){e.next=8;break}return this.forceUpdate(),e.abrupt("return");case 8:return c="/referentiel/kmss",a.account={id:a.accountId},a.policy={id:a.policyId},r=[],a.users.map(function(e){r.push({id:e.id})}),a.users=r,r=[],a.roles.map(function(e){r.push({id:e.id})}),a.roles=r,e.next=19,fetch(a.id?"/referentiel/accounts/"+a.account.id+"/kmss/"+a.id:"/referentiel/accounts/"+a.account.id+"/kmss",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 19:this.props.history.push(c);case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e,t,a,n,c,r){var l={alias:"",accountId:"",roleId:"",keyMaterialOrigin:"",policyId:"",userId:""};return this.state.item.touched.alias&&0===e.length?(l.alias="alias should not be null",l):this.state.item.touched.accountId&&0===t.length?(l.accountId="Vpc should not be null",l):this.state.item.touched.keyMaterialOrigin&&0===n.length?(l.keyMaterialOrigin="keyMaterialOrigin should not be null",l):this.state.item.touched.policyId&&0===c.length?(l.policyId="policyId should not be null",l):l}},{key:"render",value:function(){var e=this,t=this.state.item,a=c.a.createElement("h2",null,t.id?"Edit Kms":"Add Kms"),n=this.validate(t.alias,t.accountId,t.roleId,t.keyMaterialOrigin,t.policyId,t.userId),r=Object.keys(n).some(function(e){return n[e]}),l=[];t.accounts&&t.accounts.length&&t.accounts.map(function(e){l.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var i=t.accountId||"";t.accountId=i;var o=[],s=[];t.roless&&t.roless.length&&t.roless.map(function(e){t.roles&&t.roles.length&&t.roles.map(function(t){e.id==t.id&&o.push({value:e.id,label:e.name})}),s.push({value:e.id,label:e.name})});var u=[],d=[];t.userss&&t.userss.length&&t.userss.map(function(e){t.users&&t.users.length&&t.users.map(function(t){e.id==t.id&&u.push({value:e.id,label:e.name})}),d.push({value:e.id,label:e.name})});var h=[];t.policys&&t.policys.length&&t.policys.map(function(e){h.push(c.a.createElement("option",{value:e.id},e.id," ",e.name))});var v=t.policyId||"";return t.policyId=v,c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement(m.e,null,a,c.a.createElement(m.f,{onSubmit:this.handleSubmit},c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"alias"},"Alias (*)"),c.a.createElement(m.j,{type:"text",name:"alias",id:"alias",value:t.alias||"",placeholder:"Enter alias",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("alias"),autoComplete:"alias",valid:""===n.alias,invalid:""!==n.alias}),c.a.createElement(m.g,null,n.alias)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"accountId"},"Account (*)"),c.a.createElement(m.j,{type:"select",name:"accountId",id:"accountId",value:i,onChange:this.handleChange,onBlur:this.handleBlur("accountId"),disabled:!1,valid:""===n.accountId,invalid:""!==n.accountId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),l),c.a.createElement(m.g,null,n.accountId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"policyId"},"Policy (*)"),c.a.createElement(m.j,{type:"select",name:"policyId",id:"policyId",value:v,onChange:this.handleChange,onBlur:this.handleBlur("policyId"),disabled:!1,valid:""===n.policyId,invalid:""!==n.policyId},c.a.createElement("option",{value:"",disabled:!0},"Choose"),h),c.a.createElement(m.g,null,n.policyId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"roleId"},"Roles"),c.a.createElement(De.a,{name:"roleId",id:"roleId",placeholder:"Enter roleId",isMulti:!0,disabled:!1,value:o,onChange:function(t){return e.onOptionChange("roleId",t)},onBlur:this.handleBlur("roleId"),options:s}),c.a.createElement(m.g,null,n.roleId)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"userId"},"Users"),c.a.createElement(De.a,{name:"userId",id:"userId",placeholder:"Enter userId",isMulti:!0,disabled:!1,value:u,onChange:function(t){return e.onOptionChange("userId",t)},onBlur:this.handleBlur("userId"),options:d}),c.a.createElement(m.g,null,n.userId)),c.a.createElement(m.h,{tag:"fieldset"},c.a.createElement(m.k,{for:"accessType"},"Key Material Origin"),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"Kms",checked:"Kms"===t.keyMaterialOrigin,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===n.accessType,invalid:""!==n.accessType})," ","Kms")),c.a.createElement(m.h,{check:!0},c.a.createElement(m.k,{check:!0},c.a.createElement(m.j,{type:"radio",name:"accessType",id:"accessType",value:"External",checked:"External"===t.keyMaterialOrigin,onChange:this.handleChange,onBlur:this.handleBlur("accessType"),autoComplete:"accessType",valid:""===n.accessType,invalid:""!==n.accessType})," ","External")),c.a.createElement(m.g,null,n.accessType)),c.a.createElement(m.h,null,c.a.createElement(m.k,{for:"text"},"Description"),c.a.createElement(m.j,{type:"text",name:"text",id:"text",value:t.text||"",placeholder:"Enter text",disabled:!1,onChange:this.handleChange,onBlur:this.handleBlur("text"),autoComplete:"text"})),c.a.createElement(m.h,null,c.a.createElement(m.a,{color:"primary",type:"submit",disabled:r},"Save")," ",c.a.createElement(m.a,{color:"secondary",tag:p.a,to:"/referentiel/kmss"},"Cancel")))))}}]),t}(n.Component),mn=Object(B.a)(hn),pn=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(b.a,null,c.a.createElement(y.a,null,c.a.createElement(I.a,{path:"".concat(v),exact:!0,component:f}),c.a.createElement(I.a,{path:"".concat(v,"/regions"),exact:!0,component:la}),c.a.createElement(I.a,{path:"".concat(v,"/regions/:id"),component:oa}),c.a.createElement(I.a,{path:"".concat(v,"/region/:id/azs"),exact:!0,component:sa}),c.a.createElement(I.a,{path:"".concat(v,"/region/:idr/azs/:id"),component:da}),c.a.createElement(I.a,{path:"".concat(v,"/region/:id/amis"),exact:!0,component:ha}),c.a.createElement(I.a,{path:"".concat(v,"/region/:idr/amis/:id"),component:pa}),c.a.createElement(I.a,{path:"".concat(v,"/instancetypes"),exact:!0,component:va}),c.a.createElement(I.a,{path:"".concat(v,"/instancetypes/:id"),component:ga}),c.a.createElement(I.a,{path:"".concat(v,"/kmss"),exact:!0,component:dn}),c.a.createElement(I.a,{path:"".concat(v,"/kmss/:id"),component:mn}),c.a.createElement(I.a,{path:"".concat(v,"/policys"),exact:!0,component:Ja}),c.a.createElement(I.a,{path:"".concat(v,"/policys/:id"),component:Za}),c.a.createElement(I.a,{path:"".concat(v,"/roles"),exact:!0,component:qa}),c.a.createElement(I.a,{path:"".concat(v,"/roles/:id"),component:$a}),c.a.createElement(I.a,{path:"".concat(v,"/groups"),exact:!0,component:Qa}),c.a.createElement(I.a,{path:"".concat(v,"/groups/:id"),component:en}),c.a.createElement(I.a,{path:"".concat(v,"/users"),exact:!0,component:tn}),c.a.createElement(I.a,{path:"".concat(v,"/users/:id"),component:nn}),c.a.createElement(I.a,{path:"".concat(v,"/endpoints"),exact:!0,component:Fa}),c.a.createElement(I.a,{path:"".concat(v,"/endpoints/:id"),component:Wa}),c.a.createElement(I.a,{path:"".concat(v,"/launchconfigurations"),exact:!0,component:Aa}),c.a.createElement(I.a,{path:"".concat(v,"/launchconfigurations/:id"),component:Pa}),c.a.createElement(I.a,{path:"".concat(v,"/launchconfiguration/:id/launchConfigurationStorages"),exact:!0,component:Na}),c.a.createElement(I.a,{path:"".concat(v,"/launchconfiguration/:idl/launchConfigurationStorages/:id"),component:za}),c.a.createElement(I.a,{path:"".concat(v,"/autoscalinggroups"),exact:!0,component:Ma}),c.a.createElement(I.a,{path:"".concat(v,"/autoscalinggroups/:id"),component:Ra}),c.a.createElement(I.a,{path:"".concat(v,"/autoscalinggroup/:id/tags"),exact:!0,component:Ua}),c.a.createElement(I.a,{path:"".concat(v,"/autoscalinggroup/:ida/tags/:id"),component:Ka}),c.a.createElement(I.a,{path:"".concat(v,"/eccs"),exact:!0,component:fa}),c.a.createElement(I.a,{path:"".concat(v,"/eccs/:id"),component:ya}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:id/eccStorages"),exact:!0,component:Ia}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:ide/eccStorages/:id"),component:ka}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:id/eccNetworkInterfaces"),exact:!0,component:Ca}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:ide/eccNetworkInterfaces/:id"),component:xa}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:id/tags"),exact:!0,component:wa}),c.a.createElement(I.a,{path:"".concat(v,"/ecc/:ide/tags/:id"),component:Ba}),c.a.createElement(I.a,{path:"".concat(v,"/trigrammes"),exact:!0,component:x}),c.a.createElement(I.a,{path:"".concat(v,"/trigrammes/:id"),component:D}),c.a.createElement(I.a,{path:"".concat(v,"/products"),exact:!0,component:G}),c.a.createElement(I.a,{path:"".concat(v,"/products/:id"),component:U}),c.a.createElement(I.a,{path:"".concat(v,"/trigramme/:id/products"),exact:!0,component:G}),c.a.createElement(I.a,{path:"".concat(v,"/trigramme/:idt/products/:id"),component:U}),c.a.createElement(I.a,{path:"".concat(v,"/accounts"),exact:!0,component:N}),c.a.createElement(I.a,{path:"".concat(v,"/accounts/:id"),component:z}),c.a.createElement(I.a,{path:"".concat(v,"/product/:id/accounts"),exact:!0,component:N}),c.a.createElement(I.a,{path:"".concat(v,"/product/:idp/accounts/:id"),component:z}),c.a.createElement(I.a,{path:"".concat(v,"/vpcs"),exact:!0,component:K}),c.a.createElement(I.a,{path:"".concat(v,"/vpcs/:id"),component:Y}),c.a.createElement(I.a,{path:"".concat(v,"/account/:id/vpcs"),exact:!0,component:K}),c.a.createElement(I.a,{path:"".concat(v,"/account/:ida/vpcs/:id"),component:Y}),c.a.createElement(I.a,{path:"".concat(v,"/vpc/:id/tags"),exact:!0,component:F}),c.a.createElement(I.a,{path:"".concat(v,"/vpc/:idv/tags/:id"),component:W}),c.a.createElement(I.a,{path:"".concat(v,"/dhcps"),exact:!0,component:cn}),c.a.createElement(I.a,{path:"".concat(v,"/dhcps/:id"),component:ln}),c.a.createElement(I.a,{path:"".concat(v,"/dhcp/:id/tags"),exact:!0,component:on}),c.a.createElement(I.a,{path:"".concat(v,"/dhcp/:idd/tags/:id"),component:un}),c.a.createElement(I.a,{path:"".concat(v,"/subnets"),exact:!0,component:_}),c.a.createElement(I.a,{path:"".concat(v,"/subnets/:id"),component:Q}),c.a.createElement(I.a,{path:"".concat(v,"/vpc/:id/subnets"),exact:!0,component:_}),c.a.createElement(I.a,{path:"".concat(v,"/vpc/:idv/subnets/:id"),component:Q}),c.a.createElement(I.a,{path:"".concat(v,"/subnet/:id/tags"),exact:!0,component:ee}),c.a.createElement(I.a,{path:"".concat(v,"/subnet/:ids/tags/:id"),component:ae}),c.a.createElement(I.a,{path:"".concat(v,"/subnetGroups"),exact:!0,component:ce}),c.a.createElement(I.a,{path:"".concat(v,"/subnetGroups/:id"),component:le}),c.a.createElement(I.a,{path:"".concat(v,"/storages"),exact:!0,component:ye}),c.a.createElement(I.a,{path:"".concat(v,"/storages/:id"),component:je}),c.a.createElement(I.a,{path:"".concat(v,"/storage/:id/storageacls"),exact:!0,component:Ce}),c.a.createElement(I.a,{path:"".concat(v,"/storage/:ids/storageacls/:id"),component:Se}),c.a.createElement(I.a,{path:"".concat(v,"/storage/:id/tags"),exact:!0,component:we}),c.a.createElement(I.a,{path:"".concat(v,"/storage/:ids/tags/:id"),component:Be}),c.a.createElement(I.a,{path:"".concat(v,"/ssms"),exact:!0,component:Ee}),c.a.createElement(I.a,{path:"".concat(v,"/ssms/:id"),component:fe}),c.a.createElement(I.a,{path:"".concat(v,"/cognitos"),exact:!0,component:oe}),c.a.createElement(I.a,{path:"".concat(v,"/cognitos/:id"),component:ue}),c.a.createElement(I.a,{path:"".concat(v,"/dynamoDbs"),exact:!0,component:he}),c.a.createElement(I.a,{path:"".concat(v,"/dynamoDbs/:id"),component:pe}),c.a.createElement(I.a,{path:"".concat(v,"/rdss"),exact:!0,component:Ae}),c.a.createElement(I.a,{path:"".concat(v,"/rdss/:id"),component:Ne}),c.a.createElement(I.a,{path:"".concat(v,"/efss"),exact:!0,component:Le}),c.a.createElement(I.a,{path:"".concat(v,"/efss/:id"),component:Me}),c.a.createElement(I.a,{path:"".concat(v,"/efs/:id/tags"),exact:!0,component:Ge}),c.a.createElement(I.a,{path:"".concat(v,"/efs/:ide/tags/:id"),component:Ue}),c.a.createElement(I.a,{path:"".concat(v,"/elasticSearchs"),exact:!0,component:Ve}),c.a.createElement(I.a,{path:"".concat(v,"/elasticSearchs/:id"),component:Je}),c.a.createElement(I.a,{path:"".concat(v,"/elasticCaches"),exact:!0,component:Ye}),c.a.createElement(I.a,{path:"".concat(v,"/elasticCaches/:id"),component:Fe}),c.a.createElement(I.a,{path:"".concat(v,"/nacls"),exact:!0,component:He}),c.a.createElement(I.a,{path:"".concat(v,"/nacls/:id"),component:qe}),c.a.createElement(I.a,{path:"".concat(v,"/nacl/:id/rules"),exact:!0,component:_e}),c.a.createElement(I.a,{path:"".concat(v,"/nacl/:idn/rules/:id"),component:Xe}),c.a.createElement(I.a,{path:"".concat(v,"/nacl/:id/tags"),exact:!0,component:et}),c.a.createElement(I.a,{path:"".concat(v,"/nacl/:idn/tags/:id"),component:at}),c.a.createElement(I.a,{path:"".concat(v,"/routetables"),exact:!0,component:nt}),c.a.createElement(I.a,{path:"".concat(v,"/routetables/:id"),component:rt}),c.a.createElement(I.a,{path:"".concat(v,"/routetable/:id/routes"),exact:!0,component:lt}),c.a.createElement(I.a,{path:"".concat(v,"/routetable/:idr/routes/:id"),component:ot}),c.a.createElement(I.a,{path:"".concat(v,"/routetable/:id/tags"),exact:!0,component:st}),c.a.createElement(I.a,{path:"".concat(v,"/routetable/:idr/tags/:id"),component:dt}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroups"),exact:!0,component:ht}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroups/:id"),component:pt}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroup/:id/targets"),exact:!0,component:vt}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroup/:idt/targets/:id"),component:gt}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroup/:id/tags"),exact:!0,component:ft}),c.a.createElement(I.a,{path:"".concat(v,"/targetgroup/:idr/tags/:id"),component:yt}),c.a.createElement(I.a,{path:"".concat(v,"/lbs"),exact:!0,component:It}),c.a.createElement(I.a,{path:"".concat(v,"/lbs/:id"),component:kt}),c.a.createElement(I.a,{path:"".concat(v,"/lb/:id/listeners"),exact:!0,component:Ct}),c.a.createElement(I.a,{path:"".concat(v,"/lb/:idl/listeners/:id"),component:St}),c.a.createElement(I.a,{path:"".concat(v,"/lb/:id/tags"),exact:!0,component:xt}),c.a.createElement(I.a,{path:"".concat(v,"/lb/:idl/tags/:id"),component:Tt}),c.a.createElement(I.a,{path:"".concat(v,"/peerings"),exact:!0,component:Bt}),c.a.createElement(I.a,{path:"".concat(v,"/peerings/:id"),component:Dt}),c.a.createElement(I.a,{path:"".concat(v,"/peering/:id/tags"),exact:!0,component:Pt}),c.a.createElement(I.a,{path:"".concat(v,"/peering/:idp/tags/:id"),component:Lt}),c.a.createElement(I.a,{path:"".concat(v,"/sgs"),exact:!0,component:zt}),c.a.createElement(I.a,{path:"".concat(v,"/sgs/:id"),component:Gt}),c.a.createElement(I.a,{path:"".concat(v,"/sg/:id/ruleSgs"),exact:!0,component:Rt}),c.a.createElement(I.a,{path:"".concat(v,"/sg/:ids/ruleSgs/:id"),component:Kt}),c.a.createElement(I.a,{path:"".concat(v,"/sg/:id/tags"),exact:!0,component:Jt}),c.a.createElement(I.a,{path:"".concat(v,"/sg/:ids/tags/:id"),component:Zt}),c.a.createElement(I.a,{path:"".concat(v,"/vpcmanage"),exact:!0,component:Qt}),c.a.createElement(I.a,{path:"".concat(v,"/vpcmanage/:id"),component:ta}),c.a.createElement(I.a,{path:"".concat(v,"/vpcmanages/:id/subnetmanage"),exact:!0,component:aa}),c.a.createElement(I.a,{path:"".concat(v,"/vpcmanages/:idc/subnetmanage/:id"),component:ra})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(133);l.a.render(c.a.createElement(pn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){},64:function(e,t,a){e.exports=a(135)},69:function(e,t,a){}},[[64,2,1]]]);
//# sourceMappingURL=main.353d7006.chunk.js.map